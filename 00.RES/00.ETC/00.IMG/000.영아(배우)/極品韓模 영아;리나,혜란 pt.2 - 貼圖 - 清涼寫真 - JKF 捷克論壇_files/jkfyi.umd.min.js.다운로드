(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["jkfyi"]=t():e["jkfyi"]=t()})("undefined"!==typeof self?self:this,(function(){return function(){var __webpack_modules__={7111:function(e,t,n){var o=n(6733),r=n(9821),i=TypeError;e.exports=function(e){if(o(e))return e;throw i(r(e)+" is not a function")}},8505:function(e,t,n){var o=n(6733),r=String,i=TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw i("Can't set "+r(e)+" as a prototype")}},7728:function(e,t,n){var o=n(1321),r=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw r("Incorrect invocation")}},1176:function(e,t,n){var o=n(5052),r=String,i=TypeError;e.exports=function(e){if(o(e))return e;throw i(r(e)+" is not an object")}},9772:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},9918:function(e,t,n){"use strict";var o,r,i,s=n(9772),a=n(7400),c=n(9859),l=n(6733),u=n(5052),p=n(8270),d=n(1589),h=n(9821),f=n(5762),g=n(4768),m=n(1787).f,y=n(1321),v=n(7567),b=n(6540),_=n(95),w=n(1441),T=n(6407),x=T.enforce,S=T.get,E=c.Int8Array,k=E&&E.prototype,I=c.Uint8ClampedArray,A=I&&I.prototype,R=E&&v(E),O=k&&v(k),C=Object.prototype,j=c.TypeError,N=_("toStringTag"),P=w("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",M=s&&!!b&&"Opera"!==d(c.opera),L=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},B=function(e){if(!u(e))return!1;var t=d(e);return"DataView"===t||p(U,t)||p(F,t)},H=function(e){var t=v(e);if(u(t)){var n=S(t);return n&&p(n,D)?n[D]:H(t)}},W=function(e){if(!u(e))return!1;var t=d(e);return p(U,t)||p(F,t)},q=function(e){if(W(e))return e;throw j("Target is not a typed array")},V=function(e){if(l(e)&&(!b||y(R,e)))return e;throw j(h(e)+" is not a typed array constructor")},z=function(e,t,n,o){if(a){if(n)for(var r in U){var i=c[r];if(i&&p(i.prototype,e))try{delete i.prototype[e]}catch(s){try{i.prototype[e]=t}catch(l){}}}O[e]&&!n||g(O,e,n?t:M&&k[e]||t,o)}},G=function(e,t,n){var o,r;if(a){if(b){if(n)for(o in U)if(r=c[o],r&&p(r,e))try{delete r[e]}catch(i){}if(R[e]&&!n)return;try{return g(R,e,n?t:M&&R[e]||t)}catch(i){}}for(o in U)r=c[o],!r||r[e]&&!n||g(r,e,t)}};for(o in U)r=c[o],i=r&&r.prototype,i?x(i)[D]=r:M=!1;for(o in F)r=c[o],i=r&&r.prototype,i&&(x(i)[D]=r);if((!M||!l(R)||R===Function.prototype)&&(R=function(){throw j("Incorrect invocation")},M))for(o in U)c[o]&&b(c[o],R);if((!M||!O||O===C)&&(O=R.prototype,M))for(o in U)c[o]&&b(c[o].prototype,O);if(M&&v(A)!==O&&b(A,O),a&&!p(O,N))for(o in L=!0,m(O,N,{get:function(){return u(this)?this[P]:void 0}}),U)c[o]&&f(c[o],P,o);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:L&&P,aTypedArray:q,aTypedArrayConstructor:V,exportTypedArrayMethod:z,exportTypedArrayStaticMethod:G,getTypedArrayConstructor:H,isView:B,isTypedArray:W,TypedArray:R,TypedArrayPrototype:O}},9540:function(e,t,n){var o=n(905),r=n(3231),i=n(9646),s=function(e){return function(t,n,s){var a,c=o(t),l=i(c),u=r(s,l);if(e&&n!=n){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},5439:function(e,t,n){var o=n(7636),r=n(9337),i=n(2991),s=n(9646),a=function(e){var t=1==e;return function(n,a,c){var l,u,p=i(n),d=r(p),h=o(a,c),f=s(d);while(f-- >0)if(l=d[f],u=h(l,f,p),u)switch(e){case 0:return l;case 1:return f}return t?-1:void 0}};e.exports={findLast:a(0),findLastIndex:a(1)}},6554:function(e,t,n){"use strict";var o=n(7400),r=n(3718),i=TypeError,s=Object.getOwnPropertyDescriptor,a=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(r(e)&&!s(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7079:function(e,t,n){var o=n(5968),r=o({}.toString),i=o("".slice);e.exports=function(e){return i(r(e),8,-1)}},1589:function(e,t,n){var o=n(1601),r=n(6733),i=n(7079),s=n(95),a=s("toStringTag"),c=Object,l="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=o?i:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=c(e),a))?n:l?i(t):"Object"==(o=i(t))&&r(t.callee)?"Arguments":o}},7081:function(e,t,n){var o=n(8270),r=n(4826),i=n(7933),s=n(1787);e.exports=function(e,t,n){for(var a=r(t),c=s.f,l=i.f,u=0;u<a.length;u++){var p=a[u];o(e,p)||n&&o(n,p)||c(e,p,l(t,p))}}},7528:function(e,t,n){var o=n(4229);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},5762:function(e,t,n){var o=n(7400),r=n(1787),i=n(5358);e.exports=o?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},5358:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6616:function(e,t,n){var o=n(6039),r=n(1787);e.exports=function(e,t,n){return n.get&&o(n.get,t,{getter:!0}),n.set&&o(n.set,t,{setter:!0}),r.f(e,t,n)}},4768:function(e,t,n){var o=n(6733),r=n(1787),i=n(6039),s=n(8400);e.exports=function(e,t,n,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:t;if(o(n)&&i(n,l,a),a.global)c?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(u){}c?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},8400:function(e,t,n){var o=n(9859),r=Object.defineProperty;e.exports=function(e,t){try{r(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},9563:function(e,t,n){"use strict";var o=n(9821),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+o(t)+" of "+o(e))}},7400:function(e,t,n){var o=n(4229);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3777:function(e){var t="object"==typeof document&&document.all,n="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},2635:function(e,t,n){var o=n(9859),r=n(5052),i=o.document,s=r(i)&&r(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},3064:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},7445:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},598:function(e,t,n){var o=n(1333);e.exports=o("navigator","userAgent")||""},6358:function(e,t,n){var o,r,i=n(9859),s=n(598),a=i.process,c=i.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(o=u.split("."),r=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!r&&s&&(o=s.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/),o&&(r=+o[1]))),e.exports=r},3837:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},5299:function(e,t,n){var o=n(5968),r=Error,i=o("".replace),s=function(e){return String(r(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!r.prepareStackTrace)while(t--)e=i(e,a,"");return e}},3103:function(e,t,n){var o=n(9859),r=n(7933).f,i=n(5762),s=n(4768),a=n(8400),c=n(7081),l=n(6541);e.exports=function(e,t){var n,u,p,d,h,f,g=e.target,m=e.global,y=e.stat;if(u=m?o:y?o[g]||a(g,{}):(o[g]||{}).prototype,u)for(p in t){if(h=t[p],e.dontCallGetSet?(f=r(u,p),d=f&&f.value):d=u[p],n=l(m?p:g+(y?".":"#")+p,e.forced),!n&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&i(h,"sham",!0),s(u,p,h,e)}}},4229:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},7636:function(e,t,n){var o=n(4745),r=n(7111),i=n(7188),s=o(o.bind);e.exports=function(e,t){return r(e),void 0===t?e:i?s(e,t):function(){return e.apply(t,arguments)}}},7188:function(e,t,n){var o=n(4229);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},266:function(e,t,n){var o=n(7188),r=Function.prototype.call;e.exports=o?r.bind(r):function(){return r.apply(r,arguments)}},1805:function(e,t,n){var o=n(7400),r=n(8270),i=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,a=r(i,"name"),c=a&&"something"===function(){}.name,l=a&&(!o||o&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},4745:function(e,t,n){var o=n(7079),r=n(5968);e.exports=function(e){if("Function"===o(e))return r(e)}},5968:function(e,t,n){var o=n(7188),r=Function.prototype,i=r.call,s=o&&r.bind.bind(i,i);e.exports=o?s:function(e){return function(){return i.apply(e,arguments)}}},1333:function(e,t,n){var o=n(9859),r=n(6733),i=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(o[e]):o[e]&&o[e][t]}},5300:function(e,t,n){var o=n(7111),r=n(9650);e.exports=function(e,t){var n=e[t];return r(n)?void 0:o(n)}},9859:function(e,t,n){var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},8270:function(e,t,n){var o=n(5968),r=n(2991),i=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(r(e),t)}},5977:function(e){e.exports={}},4394:function(e,t,n){var o=n(7400),r=n(4229),i=n(2635);e.exports=!o&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},9337:function(e,t,n){var o=n(5968),r=n(4229),i=n(7079),s=Object,a=o("".split);e.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a(e,""):s(e)}:s},835:function(e,t,n){var o=n(6733),r=n(5052),i=n(6540);e.exports=function(e,t,n){var s,a;return i&&o(s=t.constructor)&&s!==n&&r(a=s.prototype)&&a!==n.prototype&&i(e,a),e}},8511:function(e,t,n){var o=n(5968),r=n(6733),i=n(5353),s=o(Function.toString);r(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},6407:function(e,t,n){var o,r,i,s=n(1180),a=n(9859),c=n(5052),l=n(5762),u=n(8270),p=n(5353),d=n(4399),h=n(5977),f="Object already initialized",g=a.TypeError,m=a.WeakMap,y=function(e){return i(e)?r(e):o(e,{})},v=function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(s||p.state){var b=p.state||(p.state=new m);b.get=b.get,b.has=b.has,b.set=b.set,o=function(e,t){if(b.has(e))throw g(f);return t.facade=e,b.set(e,t),t},r=function(e){return b.get(e)||{}},i=function(e){return b.has(e)}}else{var _=d("state");h[_]=!0,o=function(e,t){if(u(e,_))throw g(f);return t.facade=e,l(e,_,t),t},r=function(e){return u(e,_)?e[_]:{}},i=function(e){return u(e,_)}}e.exports={set:o,get:r,has:i,enforce:y,getterFor:v}},3718:function(e,t,n){var o=n(7079);e.exports=Array.isArray||function(e){return"Array"==o(e)}},6733:function(e,t,n){var o=n(3777),r=o.all;e.exports=o.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},6541:function(e,t,n){var o=n(4229),r=n(6733),i=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n==u||n!=l&&(r(t)?o(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},9650:function(e){e.exports=function(e){return null===e||void 0===e}},5052:function(e,t,n){var o=n(6733),r=n(3777),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:o(e)||e===i}:function(e){return"object"==typeof e?null!==e:o(e)}},4231:function(e){e.exports=!1},9395:function(e,t,n){var o=n(1333),r=n(6733),i=n(1321),s=n(6969),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return r(t)&&i(t.prototype,a(e))}},9646:function(e,t,n){var o=n(4237);e.exports=function(e){return o(e.length)}},6039:function(e,t,n){var o=n(4229),r=n(6733),i=n(8270),s=n(7400),a=n(1805).CONFIGURABLE,c=n(8511),l=n(6407),u=l.enforce,p=l.get,d=Object.defineProperty,h=s&&!o((function(){return 8!==d((function(){}),"length",{value:8}).length})),f=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||a&&e.name!==t)&&(s?d(e,"name",{value:t,configurable:!0}):e.name=t),h&&n&&i(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?s&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(r){}var o=u(e);return i(o,"source")||(o.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return r(this)&&p(this).source||c(this)}),"toString")},917:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?n:t)(o)}},635:function(e,t,n){var o=n(3326);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},1787:function(e,t,n){var o=n(7400),r=n(4394),i=n(7137),s=n(1176),a=n(9310),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",h="writable";t.f=o?i?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var o=u(e,t);o&&o[h]&&(e[t]=n.value,n={configurable:d in n?n[d]:o[d],enumerable:p in n?n[p]:o[p],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=a(t),s(n),r)try{return l(e,t,n)}catch(o){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7933:function(e,t,n){var o=n(7400),r=n(266),i=n(9195),s=n(5358),a=n(905),c=n(9310),l=n(8270),u=n(4394),p=Object.getOwnPropertyDescriptor;t.f=o?p:function(e,t){if(e=a(e),t=c(t),u)try{return p(e,t)}catch(n){}if(l(e,t))return s(!r(i.f,e,t),e[t])}},8151:function(e,t,n){var o=n(140),r=n(3837),i=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},894:function(e,t){t.f=Object.getOwnPropertySymbols},7567:function(e,t,n){var o=n(8270),r=n(6733),i=n(2991),s=n(4399),a=n(7528),c=s("IE_PROTO"),l=Object,u=l.prototype;e.exports=a?l.getPrototypeOf:function(e){var t=i(e);if(o(t,c))return t[c];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},1321:function(e,t,n){var o=n(5968);e.exports=o({}.isPrototypeOf)},140:function(e,t,n){var o=n(5968),r=n(8270),i=n(905),s=n(9540).indexOf,a=n(5977),c=o([].push);e.exports=function(e,t){var n,o=i(e),l=0,u=[];for(n in o)!r(a,n)&&r(o,n)&&c(u,n);while(t.length>l)r(o,n=t[l++])&&(~s(u,n)||c(u,n));return u}},9195:function(e,t){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);t.f=r?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},6540:function(e,t,n){var o=n(5968),r=n(1176),i=n(8505);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(s){}return function(n,o){return r(n),i(o),t?e(n,o):n.__proto__=o,n}}():void 0)},2914:function(e,t,n){var o=n(266),r=n(6733),i=n(5052),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&r(n=e.toString)&&!i(a=o(n,e)))return a;if(r(n=e.valueOf)&&!i(a=o(n,e)))return a;if("string"!==t&&r(n=e.toString)&&!i(a=o(n,e)))return a;throw s("Can't convert object to primitive value")}},4826:function(e,t,n){var o=n(1333),r=n(5968),i=n(8151),s=n(894),a=n(1176),c=r([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=s.f;return n?c(t,n(e)):t}},895:function(e,t,n){"use strict";var o=n(1176);e.exports=function(){var e=o(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8885:function(e,t,n){var o=n(9650),r=TypeError;e.exports=function(e){if(o(e))throw r("Can't call method on "+e);return e}},4399:function(e,t,n){var o=n(3036),r=n(1441),i=o("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},5353:function(e,t,n){var o=n(9859),r=n(8400),i="__core-js_shared__",s=o[i]||r(i,{});e.exports=s},3036:function(e,t,n){var o=n(4231),r=n(5353);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:o?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},4860:function(e,t,n){var o=n(6358),r=n(4229);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},3231:function(e,t,n){var o=n(3329),r=Math.max,i=Math.min;e.exports=function(e,t){var n=o(e);return n<0?r(n+t,0):i(n,t)}},905:function(e,t,n){var o=n(9337),r=n(8885);e.exports=function(e){return o(r(e))}},3329:function(e,t,n){var o=n(917);e.exports=function(e){var t=+e;return t!==t||0===t?0:o(t)}},4237:function(e,t,n){var o=n(3329),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},2991:function(e,t,n){var o=n(8885),r=Object;e.exports=function(e){return r(o(e))}},2066:function(e,t,n){var o=n(266),r=n(5052),i=n(9395),s=n(5300),a=n(2914),c=n(95),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,c=s(e,u);if(c){if(void 0===t&&(t="default"),n=o(c,e,t),!r(n)||i(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},9310:function(e,t,n){var o=n(2066),r=n(9395);e.exports=function(e){var t=o(e,"string");return r(t)?t:t+""}},1601:function(e,t,n){var o=n(95),r=o("toStringTag"),i={};i[r]="z",e.exports="[object z]"===String(i)},3326:function(e,t,n){var o=n(1589),r=String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},9821:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},1441:function(e,t,n){var o=n(5968),r=0,i=Math.random(),s=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+i,36)}},6969:function(e,t,n){var o=n(4860);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7137:function(e,t,n){var o=n(7400),r=n(4229);e.exports=o&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1180:function(e,t,n){var o=n(9859),r=n(6733),i=o.WeakMap;e.exports=r(i)&&/native code/.test(String(i))},95:function(e,t,n){var o=n(9859),r=n(3036),i=n(8270),s=n(1441),a=n(4860),c=n(6969),l=r("wks"),u=o.Symbol,p=u&&u["for"],d=c?u:u&&u.withoutSetter||s;e.exports=function(e){if(!i(l,e)||!a&&"string"!=typeof l[e]){var t="Symbol."+e;a&&i(u,e)?l[e]=u[e]:l[e]=c&&p?p(t):d(t)}return l[e]}},6728:function(e,t,n){"use strict";var o=n(3103),r=n(2991),i=n(9646),s=n(6554),a=n(3064),c=n(4229),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();o({target:"Array",proto:!0,arity:1,forced:l||u},{push:function(e){var t=r(this),n=i(t),o=arguments.length;a(n+o);for(var c=0;c<o;c++)t[n]=arguments[c],n++;return s(t,n),n}})},1951:function(e,t,n){"use strict";var o=n(3103),r=n(2991),i=n(9646),s=n(6554),a=n(9563),c=n(3064),l=1!==[].unshift(0),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();o({target:"Array",proto:!0,arity:1,forced:l||u},{unshift:function(e){var t=r(this),n=i(t),o=arguments.length;if(o){c(n+o);var l=n;while(l--){var u=l+o;l in t?t[u]=t[l]:a(t,u)}for(var p=0;p<o;p++)t[p]=arguments[p]}return s(t,n+o)}})},103:function(e,t,n){var o=n(9859),r=n(7400),i=n(6616),s=n(895),a=n(4229),c=o.RegExp,l=c.prototype,u=r&&a((function(){var e=!0;try{c(".","d")}catch(u){e=!1}var t={},n="",o=e?"dgimsy":"gimsy",r=function(e,o){Object.defineProperty(t,e,{get:function(){return n+=o,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(i.hasIndices="d"),i)r(s,i[s]);var a=Object.getOwnPropertyDescriptor(l,"flags").get.call(t);return a!==o||n!==o}));u&&i(l,"flags",{configurable:!0,get:s})},7093:function(e,t,n){"use strict";var o=n(9918),r=n(5439).findLastIndex,i=o.aTypedArray,s=o.exportTypedArrayMethod;s("findLastIndex",(function(e){return r(i(this),e,arguments.length>1?arguments[1]:void 0)}))},171:function(e,t,n){"use strict";var o=n(9918),r=n(5439).findLast,i=o.aTypedArray,s=o.exportTypedArrayMethod;s("findLast",(function(e){return r(i(this),e,arguments.length>1?arguments[1]:void 0)}))},5640:function(e,t,n){"use strict";var o=n(3103),r=n(9859),i=n(1333),s=n(5358),a=n(1787).f,c=n(8270),l=n(7728),u=n(835),p=n(635),d=n(7445),h=n(5299),f=n(7400),g=n(4231),m="DOMException",y=i("Error"),v=i(m),b=function(){l(this,_);var e=arguments.length,t=p(e<1?void 0:arguments[0]),n=p(e<2?void 0:arguments[1],"Error"),o=new v(t,n),r=y(t);return r.name=m,a(o,"stack",s(1,h(r.stack,1))),u(o,this,b),o},_=b.prototype=v.prototype,w="stack"in y(m),T="stack"in new v(1,2),x=v&&f&&Object.getOwnPropertyDescriptor(r,m),S=!!x&&!(x.writable&&x.configurable),E=w&&!S&&!T;o({global:!0,constructor:!0,forced:g||E},{DOMException:E?b:v});var k=i(m),I=k.prototype;if(I.constructor!==k)for(var A in g||a(I,"constructor",s(1,k)),d)if(c(d,A)){var R=d[A],O=R.s;c(k,O)||a(k,O,s(6,R.c))}},1288:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var o=n(1703),r=n(8936),i=n(8896),s=n(3e3),a=n.n(s),c=(0,o.aZ)({name:"AvatarSide",props:{url:{type:String,default:""}},setup(e,{attrs:t}){const{url:n}=(0,i.BK)(e),s=!!t.class&&t?.class.split(" ").some((e=>e.match(/^(w|h)-.*/))),c=(0,i.iH)(r.FAKE_AVATAR),l=(0,i.iH)(!0),u=(0,o.YP)(n,(()=>{if(""===n.value)return;l.value=!0;const e=new Image;e.src=n.value,e.onerror=function(){c.value="https://www.mymyuc.net/images/noavatar_middle.gif"},e.onload=function(){c.value=n.value,l.value=!1}}),{immediate:!0}),p=(0,o.Fl)((()=>({backgroundImage:l.value?"":`url('${c.value}')`}))),d=(0,o.Fl)((()=>a()({"inline-block rounded-full bg-center bg-contain bg-secondary cursor-pointer":!0,"w-9 h-9":!s,skeleton_loading:l.value})));return(0,o.Jd)((()=>{u()})),()=>(0,o.Wm)("div",{class:d.value,style:p.value},null)}}),l=c},4848:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var o=n(1703),r=n(1243);function i(e,t,n,i,s,a){return(0,o.wg)(),(0,o.j4)(r.uT,(0,o.mx)(e.transition),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16)}var s=(0,o.aZ)({name:"CollapseWrap",props:{duration:{type:Number,default:.3}},setup(e){const t={beforeEnter(t){t.dataset||(t.dataset={}),t.classList.add("collapse-transition"),t.style.transitionDuration=`${e.duration}s`,t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},enter(e){if(e.dataset.oldOverflow=e.style.overflow,e.style.overflow="hidden",0!==e.scrollHeight){const t=e.scrollHeight;e.style.height=`${t}px`,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}else e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},afterEnter(e){e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.transitionDuration="",e.classList.remove("collapse-transition")},beforeLeave(t){t.dataset||(t.dataset={}),t.classList.add("collapse-transition"),t.style.transitionDuration=`${e.duration}s`,t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.transitionDuration="",e.classList.remove("collapse-transition")}};return{transition:t}}}),a=n(2280);const c=(0,a.Z)(s,[["render",i]]);var l=c,u=l},647:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var o=n(1703),r=n(1243);function i(e,t,n,i,s,a){return(0,o.wg)(),(0,o.j4)(r.uT,{name:"fade",mode:"out-in"},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default",{},void 0,!0)])),_:3})}const s=(0,o.aZ)({name:"FadeTransition",props:{duration:{type:String,default:"0.1s"}}}),a=()=>{(0,r.sj)((e=>({"42beac11":e.duration})))},c=s.setup;s.setup=c?(e,t)=>(a(),c(e,t)):a;var l=s,u=n(2280);const p=(0,u.Z)(l,[["render",i],["__scopeId","data-v-4d06f227"]]);var d=p,h=d},8757:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var o=n(1703);const r={default:"material-icons",outlined:"material-icons-outlined"},i=e=>{const t=r[e.type||"default"];return(0,o.h)((0,o.Wm)("span",{class:t},[e.name]))};var s=i,a=s},1426:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var o=n(1703),r=n(5555);const i=["fill","height","width"],s={key:0},a=["d"];function c(e,t,n,c,l,u){return(0,o.wg)(),(0,o.iD)("svg",{viewBox:"0 0 24 24",fill:n.fill,height:n.size,width:n.size,class:"mdi-icon",style:(0,r.j5)({transform:`rotate(${n.rotate}deg)`,display:"inline-block"})},[n.title?((0,o.wg)(),(0,o.iD)("title",s,(0,r.zw)(n.title),1)):(0,o.kq)("",!0),(0,o._)("path",{d:n.svgcontent},null,8,a)],12,i)}var l={name:"svg-icon",props:{title:String,size:{type:[String,Number],default:24},fill:{type:String,default:"currentColor"},rotate:{type:Number,default:0},svgcontent:{type:String}}},u=n(2280);const p=(0,u.Z)(l,[["render",c]]);var d=p,h=d},9922:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var o=n(1703),r=n(8896),i=n(8936),s=(0,o.aZ)({name:"parseBRText",props:{messageText:{type:String,default:""}},setup(e){const{messageText:t}=(0,r.BK)(e);return()=>{const e=t.value,n=(0,i.linkify)(e,"BR");return n.map((e=>"TEXT"===e.type?e.text:(0,o.Wm)("br",null,null)))}}}),a=s},7239:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var o=n(1703),r=n(1243);function i(e,t,n,i,s,a){return(0,o.wg)(),(0,o.j4)(r.uT,{mode:"out-in",name:e.animationName},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["name"])}var s=(0,o.aZ)({name:"SlideWrap",props:{animationName:{type:String,default:"SlideLeft"}}}),a=n(2280);const c=(0,a.Z)(s,[["render",i],["__scopeId","data-v-daec410c"]]);var l=c,u=l},3424:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var o=n(1703),r=n(1243);function i(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("textarea",(0,o.dG)({ref:"textarea"},e.attr,{style:e.computedTextareaStyle,onInput:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t)),onKeydown:t[1]||(t[1]=(0,r.D2)(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["enter"])),onPaste:t[2]||(t[2]=(...t)=>e.handlePaste&&e.handlePaste(...t))}),"\n  ",16)}var s=n(8896),a=n(8936),c=(0,o.aZ)({name:"InputTextarea",props:{minRows:{type:Number,default:1},maxRows:{type:Number,default:1},modelValue:{type:String,default:""}},emits:["update:modelValue","keydown","paste"],setup(e,{emit:t,expose:n}){const r=(0,s.iH)(!1),i=(0,s.iH)(null),c=["class","style"],l=(0,s.XI)({height:"21px"}),u=(0,o.Fl)((()=>[{"-webkit-overflow-scrolling":"touch"},l.value])),p=(0,o.FN)(),d=(0,o.Fl)((()=>Object.fromEntries(Object.entries(p.proxy.$attrs).filter((([e])=>!c.includes(e)))))),h=(0,o.Fl)((()=>String(e.modelValue))),f=()=>{const e=i.value;if(null!==e){if(e.value===h.value)return;e.value=h.value}},g=e=>{const{value:n}=e.target;t("update:modelValue",n)},m=e=>{t("keydown",e)},y=e=>{t("paste",e)},v=()=>{l.value=i?.value?(0,a.calcTextareaHeight)(i?.value,e.minRows,e.maxRows):{height:"21px"},r.value=parseInt(l.value.height)>21};return(0,o.bv)((()=>{f(),v()})),(0,o.YP)(h,(()=>{f(),v()}),{flush:"post"}),n({isExpand:r}),{textarea:i,attr:d,handleInput:g,handlePaste:y,handleKeydown:m,computedTextareaStyle:u}}}),l=n(2280);const u=(0,l.Z)(c,[["render",i]]);var p=u,d=p},7865:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var o=n(651),r=n.n(o),i=n(6826);const s=r().create({baseURL:`${i.X4}/${i.sj}`});t["Z"]=r()},8404:function(e,t,n){"use strict";n.d(t,{Ox:function(){return u},co:function(){return a},v5:function(){return c},yr:function(){return l}});var o=n(5816),r=n(6826);const i="jkf-im";let s,a;const c=()=>{if(s)return s;const{INSTANCE:e}=(0,o.mw)({apiKey:r.eo,authDomain:r.p7,databaseURL:r.tX,projectId:r.Fp,storageBucket:r.sj,messagingSenderId:r.i3,appId:r.gF,measurementId:r.qd,firebaseName:i});return e},l=()=>{s=c()},u=()=>{a=(0,o.ZH)(r.lC,c())}},7076:function(e,t,n){"use strict";n.d(t,{Lk:function(){return o},ZM:function(){return i},jH:function(){return a},ll:function(){return s},xP:function(){return r}});const o=async e=>{try{const t=await window.dog.imFriendQuery.api.pinnedFriendAll({panAccessToken:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}},r=async(e,{page:t,pageSize:n})=>{try{const o=await window.dog.imFriendQuery.api.hiddenFriendAll({panAccessToken:e,page:t,pageSize:n});return Promise.resolve(o)}catch(o){return Promise.reject(o)}},i=async(e,{keyword:t,page:n,pageSize:o})=>{try{const r=await window.dog.imFriendQuery.api.searchFriend({panAccessToken:e,page:n,keyword:t,pageSize:o});return Promise.resolve(r)}catch(r){return Promise.reject(r)}},s=async(e,{page:t,pageSize:n,includeHidden:o,includePinned:r,includeBlack:i})=>{try{const s=await window.dog.imFriendQuery.api.friendAll({panAccessToken:e,page:t,pageSize:n,includeHidden:o,includePinned:r,includeBlack:i});return Promise.resolve(s)}catch(s){return Promise.reject(s)}},a=async(e,{pair:t})=>{try{const n=await window.dog.imFriendQuery.api.friendInfo({panAccessToken:e,pair:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}},9628:function(e,t,n){"use strict";n.d(t,{B2:function(){return s},GN:function(){return l},MR:function(){return p},PI:function(){return i},QV:function(){return c},Tv:function(){return u},W4:function(){return o},cj:function(){return f},oG:function(){return a},qf:function(){return d},qo:function(){return h},zI:function(){return r}});const o=async(e,{toHashId:t})=>{try{const n=await window.dog.imOtherCommand.api.InviteBindPhone(e,t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}},r=async(e,{roomId:t})=>{try{const n=await window.dog.imOtherQuery.api.IsJPointEnabled(e,t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}},i=async(e,{mimeType:t})=>{try{const n=await window.dog.imMessageCommand.api.PrepareUploadImage(e,t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}},s=async(e,{roomId:t,messageId:n})=>{try{const o=await window.dog.imMessageCommand.api.TakeBackMessage(e,t,n);return Promise.resolve(o)}catch(o){return Promise.reject(o)}},a=async e=>{try{const t=await window.dog.imAuthCommand.api.usePanTokenGetFirebaseToken(e);return Promise.resolve(t)}catch(t){return Promise.reject(t)}},c=async(e,{userId:t})=>{try{const n=await window.dog.imUserQuery.api.CardInfo(e,t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}},l=async(e,{pan_uid:t})=>{try{const n=await window.dog.imRoomCommand.api.CreateOrGetRoomReq(e,t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}},u=async(e,{room_id:t,message:n,imageAll:o,videoAll:r,replyTo:i,markRead:s})=>{try{const a=await window.dog.imMessageCommand.api.SendMessageToRoom({pan_token:e,room_id:t,message:n,imageAll:o,videoAll:r,replyTo:i,markRead:s});return Promise.resolve(a)}catch(a){return Promise.reject(a)}},p=async(e,{userId:t})=>{try{const n=await window.dog.imUserCommand.api.BlackUser(e,t);return n}catch(n){return Promise.reject(n)}},d=async(e,{userId:t})=>{try{const n=await window.dog.imUserCommand.api.UnblackUser(e,t);return n}catch(n){return Promise.reject(n)}},h=async(e,{userId:t,reason:n})=>{try{const o=await window.dog.imUserCommand.api.ReportAbusedUser(e,t,n);return o}catch(o){return Promise.reject(o)}},f=async(e,{userId:t})=>{try{const n=await window.dog.imOtherCommand.api.Backlog(e,t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}}},3721:function(e,t,n){"use strict";n.d(t,{Y:function(){return o},j:function(){return r}});const o=async(e,{roomId:t})=>{try{const n=await window.dog.imMessageCommand.api.ReadMessage(e,t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}},r=async(e,{userId:t,businessUserId:n})=>{try{await window.dog.imMessageCommand.api.SyncPlacard({pan_access_token:e,user_id:t,business_user_id:n})}catch(o){return Promise.reject(o)}}},4302:function(e,t,n){"use strict";n.d(t,{Gc:function(){return s},Q7:function(){return r},bG:function(){return o},u4:function(){return i}});const o=e=>({numberId:e.getUid(),uid:e.getHashUid(),photoURL:e.getAvatar(),objectId:e.getObjectId(),email:e.getEmail(),displayName:e.getDisplayName()}),r=async e=>{try{const t=await window.dog.pan.api.UniversalReadObjectByUids(e);return Promise.resolve(t)}catch(t){return Promise.reject(t)}},i=async e=>{try{const t=await window.dog.pan.api.UniversalReadObjectByHashId(e);return Promise.resolve(t)}catch(t){return Promise.reject(t)}},s=async e=>{try{const t=await window.dog.pan.api.UniversalReadObjectByObjectIds(e);return Promise.resolve(t)}catch(t){return Promise.reject(t)}}},3540:function(e,t,n){"use strict";n.d(t,{N0:function(){return i},YM:function(){return o}});var o,r=n(8178);(function(e){e["LOGOUT"]="logout",e["UPDATE_PAN_ACCESS_TOKEN"]="update:panToken",e["NOT_READ_COUNT_UPDATE"]="update:notReadCount",e["IS_AUTHENTICATED"]="update:Authenticated",e["OPEN_IM_DIALOG"]="open:IM:Dialog",e["SEND_MESSAGE"]="SendMessage",e["PASS_QUICK_REPLY"]="PassQuickReply",e["TALKING_ROOM_SCROLL_TO_BOTTOM"]="TalkingRoomScrollToBottom"})(o||(o={}));const i=(0,r.Z)();window&&(window.$IM_EVENT=i,window.$IM_EVENT_MAP=o)},8268:function(e,t,n){"use strict";n.d(t,{SO:function(){return p},Sr:function(){return s},_y:function(){return l},vW:function(){return d},zo:function(){return u}});n(6728);var o=n(8178),r=n(4302),i=n(8001);const s=30;var a;(function(e){e["FETCH_USERINFO"]="fetch:userInfo",e["FETCH_USERSINFO"]="fetch:usersInfo"})(a||(a={}));const c=(0,o.Z)(),l=async e=>{try{const t=await r.u4(e);i.users.push(r.bG(t))}catch(t){console.log(t)}},u=async e=>{try{const t=await r.u4(e),n=r.bG(t),o=i.users.findIndex((e=>e.uid===n.uid));-1!==o&&(i.users[o]=Object.assign(i.users[o],n))}catch(t){console.log(t)}},p=async e=>{try{const t=await r.Gc(e);t.map((e=>i.users.push(r.bG(e))))}catch(t){console.log(t)}},d=async e=>{const t=[];for(let n=0;n<e.length;n++){const o=e[n],r=i.userMap.value.has(o);r||await l(o),t.push(i.getUserInfo.value(o)?.displayName||"")}return t};c.on(a.FETCH_USERINFO,l),c.on(a.FETCH_USERSINFO,p)},147:function(e,t,n){"use strict";n.d(t,{HZ:function(){return m},Z:function(){return j},An:function(){return k},lx:function(){return E},R$:function(){return b},XB:function(){return O},BD:function(){return C},oH:function(){return x},O:function(){return I},$I:function(){return N},RA:function(){return w},Fl:function(){return D},_B:function(){return A},LG:function(){return y},HK:function(){return P},gK:function(){return R},NV:function(){return S}});var o=n(6599),r=(n(6728),n(8896)),i=n(7865),s=n(6826);const a=s.AC,c=async(e,t)=>{try{const n=await i.Z.post(`${a}/user/me/friends/is.php`,{access_token:e,uid:t});return Promise.resolve(n.data.status)}catch(n){return console.error(n),Promise.reject(y.STRANGER)}},l=async(e,t)=>{try{return await i.Z.post(`${a}/user/me/friends/add.php`,{access_token:e,uid:t}),Promise.resolve()}catch(n){console.error(n)}};var u=n(7076),p=n(4688);const d=async(e,{hashUids:t})=>{try{const n=t.map((e=>e)),o=await window.dog.imFriendCommand.api.pinFriend({panAccessToken:e,hashUids:n});return n.map((e=>p.DS(e,p.wr.PIN))),Promise.resolve(o)}catch(n){return Promise.reject(n)}},h=async(e,{hashUids:t})=>{try{const n=t.map((e=>e)),o=await window.dog.imFriendCommand.api.unPinFriend({panAccessToken:e,hashUids:n});return n.map((e=>p.DS(e,p.wr.UNPIN))),Promise.resolve(o)}catch(n){return Promise.reject(n)}},f=async(e,{hashUids:t})=>{try{const n=t.map((e=>e)),o=await window.dog.imFriendCommand.api.hideFriend({panAccessToken:e,hashUids:n});return n.map((e=>p.DS(e,p.wr.HIDE))),Promise.resolve(o)}catch(n){return Promise.reject(n)}},g=async(e,{hashUids:t})=>{try{const n=t.map((e=>e)),o=await window.dog.imFriendCommand.api.unHideFriend({panAccessToken:e,hashUids:n});return n.map((e=>p.DS(e,p.wr.UNHIDE))),Promise.resolve(o)}catch(n){return Promise.reject(n)}};var m,y,v=n(8001);(function(e){e["INIT"]="INIT",e["BLOCKING"]="BLOCKING",e["WAITING_RESPONSE"]="WAITING_RESPONSE",e["NOT_FRIEND"]="NOT_FRIEND",e["FRIEND"]="FRIEND",e["NEED_RESBONSE"]="NEED_RESBONSE"})(m||(m={})),function(e){e["STRANGER"]="stranger",e["REQUESTED"]="requested",e["BE_REQUESTED"]="be requested",e["FRIEND"]="friend",e["INIT"]="init"}(y||(y={}));const b=(0,r.iH)(m.INIT),_=new Map([[y.STRANGER,m.NOT_FRIEND],[y.REQUESTED,m.WAITING_RESPONSE],[y.BE_REQUESTED,m.NEED_RESBONSE],[y.FRIEND,m.NOT_FRIEND],[y.INIT,m.INIT]]),w=()=>{b.value=m.INIT},T=({keyword:e="",page:t=1,pageSize:n=10})=>u.ZM(v.panToken.value,{page:t,keyword:e,pageSize:n}),x=({page:e=1,pageSize:t=10,includeHidden:n=!1,includePinned:o=!1,includeBlack:r=!1})=>u.ll(v.panToken.value,{page:e,pageSize:t,includeHidden:n,includePinned:o,includeBlack:r}),S=e=>{b.value=e},E=async e=>{try{const t=await c(v.panToken.value,e),n=_.get(t);return S(n),n}catch(t){return m.NOT_FRIEND}},k=async e=>{try{await l(v.panToken.value,e),S(m.WAITING_RESPONSE)}catch(t){return Promise.reject(t)}},I=async()=>{try{const e=await u.Lk(v.panToken.value);return e.getPinnedFriendList().filter((e=>!0===e.getIsPinned())).map((e=>e.getHashUid()))}catch(e){return Promise.reject(e)}},A=async e=>{const t=[...new Set(e)];try{(0,v.addPinnedFriend)(t),await d(v.panToken.value,{hashUids:t})}catch(n){return Promise.reject(n)}},R=async e=>{const t=[...new Set(e)];try{(0,v.removePinnedFriend)(t),await h(v.panToken.value,{hashUids:t})}catch(n){return Promise.reject(n)}},O=async()=>{try{const e=await x({page:1,pageSize:5,includeHidden:!1,includePinned:!0}),t=e.getPaginator()?.getTotalCount()||0;return Promise.resolve(t)}catch(e){return Promise.reject(e)}},C=async({page:e,pageSize:t})=>{try{const n=await u.xP(v.panToken.value,{page:e,pageSize:t}),o=n.getHiddenFriendList().filter((e=>!0===e.getIsHidden())).map((e=>e.getHashUid())),r=n.getPaginator();return{friendsList:o,totalCount:r?.getTotalCount()||0,pageSize:r?.getPageSize()||0,currPage:r?.getCurrPage()||0,totalPage:r?.getTotalPage()||0}}catch(n){return Promise.reject(n)}};class j{constructor(e="",t=""){(0,o.Z)(this,"searchText",void 0),(0,o.Z)(this,"friendLists",void 0),(0,o.Z)(this,"userId",void 0),(0,o.Z)(this,"loading",void 0),(0,o.Z)(this,"page",void 0),(0,o.Z)(this,"pageSize",void 0),this.loading=!1,this.userId=e,this.searchText=t,this.friendLists=[],this.page=1,this.pageSize=30}async getList(){try{this.loading=!0;const e=await T({keyword:this.searchText,page:this.page,pageSize:this.pageSize}),t=e.getFriendList().map((e=>e.getHashUid())),n=e.getPaginator()?.getCurrPage();this.page=(n||this.page)+1;const o=t.filter((e=>e!==this.userId&&-1===this.friendLists.indexOf(e)));o.length>0&&v.needGetInfoUsers.value.push(...o),this.updateFriends([...this.friendLists,...o])}catch(e){console.log(e)}this.loading=!1}updateFriends(e){this.friendLists.splice(0),Object.assign(this.friendLists,e)}clear(){this.friendLists.splice(0),this.page=1}}const N=async e=>{const t=[...new Set(e)];try{(0,v.addHiddenFriend)(t),await f(v.panToken.value,{hashUids:t})}catch(n){return Promise.reject(n)}},P=async e=>{const t=[...new Set(e)];try{(0,v.removeHiddenFriend)(t),await g(v.panToken.value,{hashUids:t})}catch(n){return Promise.reject(n)}},D=async(e,t)=>{try{const n=await u.jH(v.panToken.value,{pair:[{userId:e,friendId:t}]});return Promise.resolve(n?.getResultsList()[0]?.getIsFriend()||!1)}catch(n){return console.error(n),!1}}},3336:function(e,t,n){"use strict";n.d(t,{vz:function(){return c},vG:function(){return a}});var o=n(8001);const r=async(e,{userId:t})=>{try{const n=await window.dog.imBusinessQuery.api.officialAccountAll({panAccessToken:e,user_id:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}},i=async(e,{message:t,title:n})=>{try{const o=await window.dog.imBusinessCommand.api.CreateQuickReply({panAccessToken:e,title:n,text:t});return Promise.resolve(o)}catch(o){return Promise.reject(o)}};var s=n(8936);const a=async()=>{const e=await r(o.panToken.value,{userId:o.loginedUserState.uid||""});return e},c=async({message:e,title:t})=>{try{t||(t=l(e,20).replace(/\n/g,"")),await Promise.all([(0,s.sleep)(500),i(o.panToken.value,{title:t,message:e})])}catch(n){return Promise.reject(n)}},l=(e,t)=>e.substring(0,t)},8372:function(e,t,n){"use strict";n.d(t,{cj:function(){return c},eF:function(){return s},zI:function(){return a}});var o=n(8001),r=n(9628),i=n(8936);const s=async e=>{try{await r.W4(o.panToken.value,{toHashId:e})}catch(t){return Promise.reject(t)}},a=async e=>{try{await r.zI(o.panToken.value,{roomId:e})}catch(t){return Promise.reject(t)}},c=async e=>{try{const t=JSON.parse(localStorage.getItem(i.CHECK_BACK_LOG_TOKEN)||"{}");(t?.userId!==e||(new Date).getTime()>(t?.expiry||0))&&(await r.cj(o.panToken.value,{userId:e}),localStorage.setItem(i.CHECK_BACK_LOG_TOKEN,JSON.stringify({userId:e,expiry:(0,i.addDay)((new Date).getTime(),30).getTime()})))}catch(t){return Promise.reject(t)}}},7432:function(e,t,n){"use strict";n.r(t),n.d(t,{createItemActionsMap:function(){return b},createMessageItem:function(){return v},emptyOrNullMessageItem:function(){return T},getAndCheckLastMessage:function(){return _},getCanReadUserMessage:function(){return m},getMessageAll:function(){return y},getMessageByCollection:function(){return x},getMessageByDoc:function(){return w},getMsgDoc:function(){return g},sendMessageToRoom:function(){return f}});var o=n(6772),r=n(1670),i=n(5816),s=n(1267),a=n(8001),c=n(7770),l=n(6642),u=n(2665),p=n(1527),d=n(7604),h=n(9628);const f=async({room_id:e="",message:t="",imageAll:n=[],videoAll:o=[],replyTo:r,markRead:i=!0})=>{const s=await h.Tv(a.panToken.value,{room_id:e,message:t,imageAll:n,videoAll:o,replyTo:r?.id||"",markRead:i});return s},g=(e,t)=>(0,o.JU)(r.wb.roomAll(),`/${e}/MessageAll/${t}`),m=(e,t)=>(0,o.IO)((0,i._o)(e,i.O5.MESSAGE_ALL),(0,o.ar)("AllowRead","array-contains",t),(0,o.Xo)("Created","desc")),y=(e,t)=>m((0,o.JU)(r.wb.roomAll(),e),t),v=(e,t)=>{const n=e?.ReplyTo?e.ReplyTo:null;return new c.xv({Type:l.Cs.Text,id:t,ReplyTo:n,Text:e.Text.toString(),ImageAll:e.ImageAll,VideoAll:e.VideoAll,SenderID:e.SenderID,AllowRead:e.AllowRead,Status:e.Status,Process:e.Process,responseStatus:"OK",Created:e.Created.toMillis(),Modified:e.Modified.toMillis()})},b={[l.Cs.Text]:v,[l.Cs.Trans]:u.y,[l.Cs.Public]:p.x,[l.Cs.Announcement]:d.P},_=async({group:e,key:t})=>{try{const n=e[t];return n?await w(n):T({isNull:!0})}catch(n){return T({isNull:!0})}},w=async e=>{const t=await(0,o.QT)(e),n=t.exists();if(!n)return T({isNull:!1});const r=t.data();return b[r.Type]?await b[r.Type](r,t.id):T({isNull:!1})},T=({isNull:e,SenderID:t})=>new c.xv({Type:l.Cs.Text,id:"",SenderID:t||"",AllowRead:[],Text:"",ImageAll:[],VideoAll:[],Status:e?s.N.TAKE_BACK:s.N.OK,Process:!0,ReplyTo:null,responseStatus:"OK",Created:(new Date).getTime(),Modified:(new Date).getTime()}),x=async(e,t)=>{const n=(0,i._o)((0,o.JU)(r.wb.roomAll(),e),i.O5.MESSAGE_ALL),s=await(0,o.QT)((0,o.JU)(n,t)),a=s.data();return s.exists()?await b[l.Cs.Text](a,s.id):T({isNull:!0})}},1527:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var o=n(7770),r=n(6642),i=n(8268);const s=async(e,t)=>{const{SenderID:n,AllowRead:s,Process:l,Created:u,Modified:p,PubText:d,PubAction:h}=e,f=a(d),g=await i.vW(f);return new o.a0({Type:r.Cs.Trans,id:t,SenderID:n,AllowRead:s,Process:l,Created:u.toMillis(),Modified:p.toMillis(),PubText:d,PubAction:h,TransformLastText:c(d,g)})},a=e=>{const t=new RegExp(/\{\{(.*?)\}\}/gim),n=[...e.matchAll(t)];return n.map((e=>e[1]))},c=(e,t)=>{const n=new RegExp(/\{\{(.*?)\}\}/gim),o=e.match(n)||[];let r=e;for(let i=0;i<o.length;i++)r=r.replace(o[i],t[i]);return r}},3433:function(e,t,n){"use strict";n.r(t),n.d(t,{calcMessageShardAllCount:function(){return y},fromRoomGetMessageShardAll:function(){return g},getOfficialRoomLists:function(){return p},getRoom:function(){return c},getRoomInfo:function(){return l},getRoomListCreator:function(){return u},getRoomLists:function(){return d},getRoomListsSnapshot:function(){return h},getSnapshotMessageShardAllDocs:function(){return b},getSnapshotRoomParticipantDoc:function(){return v},getUserRoomParticipantInfo:function(){return m}});var o=n(6772),r=n(1670),i=n(5816),s=n(8001),a=n(9628);const c=async e=>{const t=await(0,a.GN)(s.panToken.value,{pan_uid:e});return t},l=e=>(0,o.JU)(r.wb.roomAll(),e),u=(e,t,n=!1)=>{const o={isOfficical:p,isNormal:d},r=!0===n?"isOfficical":"isNormal";return o[r](e,t)},p=(e,t)=>(0,o.IO)(r.wb.roomAll(),(0,o.ar)("ParticipantAll","array-contains",e),(0,o.ar)("BusinessConsult","==",!0),(0,o.Xo)("LastActiveTime","desc"),(0,o.b9)(t)),d=(e,t)=>(0,o.IO)(r.sS.roomParticipantAll(),(0,o.ar)("UserID","==",e),(0,o.ar)("IsHide","==",!1),(0,o.ar)("IsDelete","==",!1),(0,o.Xo)("LastModifiedTime","desc"),(0,o.b9)(t)),h=(e,t=!1)=>(0,o.IO)(r.wb.roomAll(),(0,o.ar)("ParticipantAll","array-contains",e),...t?[(0,o.ar)("BusinessConsult","==",!0)]:[],(0,o.Xo)("LastActiveTime","desc"),(0,o.b9)(1)),f=(e,t)=>{const n=(0,i._o)(e.ref,i.O5.ROOM_PARTICIPANT_ALL);return(0,o.JU)(n,`${t}`)},g=e=>(0,i._o)(e.ref,i.O5.MESSAGE_SHARD_ALL),m=e=>{const t=e.exists(),{ReadCount:n=0,IsHide:o=!1,IsDelete:r=!1,DeleteRoomTime:i=null,DeleteLastMsgRef:s=null}=t?e.data():{};return{ReadCount:n,isDelete:r,isHide:o,deleteRoomTime:i,deleteLastMsgRef:s}},y=e=>{let t=0;return e.forEach((e=>{if(e){const{Count:n=0}=e.data();t+=n}})),t},v=async(e,t)=>{const n=await(0,o.QT)(f(e,t)),r=m(n);return r},b=async e=>{const t=await(0,o.PL)(g(e)),n=y(t);return n}},2665:function(e,t,n){"use strict";n.d(t,{y:function(){return a}});var o=n(7770),r=n(6642),i=n(8268),s=n(8001);const a=async(e,t)=>{const n=s.userState.value?.uid,{AllowRead:a,SenderID:l,Process:u,Created:p,Modified:d,TransId:h,TransPoint:f,TransStatus:g,TransTime:m}=e,y=await i.vW(a.filter((e=>e!==n)));return new o.FE({Type:r.Cs.Trans,id:t,SenderID:l,AllowRead:a,Process:u,Created:p.toMillis(),Modified:d.toMillis(),TransId:h,TransPoint:f,TransStatus:g,TransTime:m.toMillis(),TransformLastText:c(l===n,y,f)})},c=(e,t,n)=>e?`[你轉給了${t[0]} ${n}點]`:`[${t[0]}轉給你${n}點]`},7604:function(e,t,n){"use strict";n.d(t,{P:function(){return f}});var o,r=n(8896),i=n(6772),s=n(6642),a=n(7770),c=n(1670),l=n(7865);(function(e){e[e["LOADING"]=0]="LOADING",e[e["SUCCESS"]=1]="SUCCESS",e[e["FAIL"]=2]="FAIL"})(o||(o={}));const u=new Map,p=e=>!u.has(e)||u.get(e)===o.FAIL,d=async e=>{try{u.set(e,o.LOADING);const t=await l.K.get(`/cache/placard/${e}_lists.txt`);return u.set(e,o.SUCCESS),t}catch(t){return u.set(e,o.FAIL),null}},h=async(e,t)=>{try{if(p(e)){const t=await d(e);if(null===t)return;await(0,i.Pb)((0,c.bh)(),t.data)}const n=(0,i.JU)(c.hX.placardAll(e),t),o=await(0,i.kl)(n).catch((()=>(0,i.Xk)(n)));return o}catch(n){console.log(n)}},f=async(e,t)=>{const n=new a.I7({AnnouncementId:"",Type:s.Cs.Announcement,id:t,SenderID:e.SenderID,AllowRead:e.AllowRead,Process:e.Process,Created:e.Created.toMillis(),Modified:e.Modified.toMillis(),PublishedTime:(new Date).getTime(),AnnouncementStatus:s.D3.PUBLISHED,Text:(0,r.iH)("")});return h(e.SenderID,e.PlacardRef.id).then((e=>{if(e){const t=e.data();n.AnnouncementId=e.id,n.PublishedTime=t.PublishedTime?.toMillis()||0,n.Text.value=t.Text}})),n}},5254:function(e,t,n){"use strict";n.d(t,{v0:function(){return d},du:function(){return p},qb:function(){return o},n5:function(){return r}});var o={};n.r(o),n.d(o,{getOnlineStatus:function(){return l},getOnlineStatusSnapshot:function(){return u},statusRef:function(){return c}});var r={};n.r(r),n.d(r,{BlackUser:function(){return y},ReportAbusedUser:function(){return b},UnblackUser:function(){return v},getBlackUserLists:function(){return _},getNotifyStatus:function(){return w}});var i=n(6772),s=n(1670),a=n(3901);const c=e=>(0,i.JU)((0,s.bh)(),`/UserOnline/${e}`),l=async e=>{try{const t=await(0,i.QT)((0,i.JU)(s.wb.UserOnline(),e)),n=t.data();n?.State&&a.T.set(e,n.State)}catch(t){console.log(t)}},u=e=>{const t=(0,i.cf)((0,i.JU)(s.wb.UserOnline(),e),(t=>{const n=t.data();n?.State&&a.T.set(e,n.State)}),(e=>{console.error(e)}));return t};var p=n(3433),d=n(7432),h=(n(6728),n(5816)),f=n(8001),g=n(4688),m=n(9628);const y=async e=>{const t=await(0,m.MR)(f.panToken.value,{userId:e});return g.DS(e,g.wr.BLOCK),t},v=async e=>{const t=await(0,m.qf)(f.panToken.value,{userId:e});return g.DS(e,g.wr.UNBLOCK),t},b=async(e,t)=>{const n=await(0,m.qo)(f.panToken.value,{userId:e,reason:t});return n},_=async e=>{const t=[];try{const n=await(0,i.QT)((0,i.JU)(s.wb.userAll(),e));if(n.exists()){const e=(0,h._o)(n.ref,h.O5.BLACKED_FRIEND_ALL),o=await(0,i.PL)(e);o.empty||o.docs.map((e=>t.push(e.id)))}return Promise.resolve(t)}catch(n){return console.log(n),Promise.reject(t)}},w=async e=>{let t=!0;try{const n=await(0,i.QT)((0,i.JU)(s.wb.userAll(),e));if(n.exists()){const{EnableNotify:e=!0}=n.data();t=e}return Promise.resolve(t)}catch(n){return Promise.resolve(!0)}};n(2665),n(1527),n(7604)},1267:function(e,t,n){"use strict";var o;n.d(t,{N:function(){return o}}),function(e){e["OK"]="ok",e["TAKE_BACK"]="tb"}(o||(o={}))},1670:function(e,t,n){"use strict";n.d(t,{S1:function(){return u},bh:function(){return s},hX:function(){return l},sS:function(){return c},wb:function(){return a}});var o=n(6772),r=n(8404),i=n(5816);const s=()=>(0,o.ad)((0,r.v5)());const a={friendAll:()=>(0,i.WL)(i.O5.FRIEND_ALL,s()),userAll:()=>(0,i.WL)(i.O5.USER_ALL,s()),roomAll:()=>(0,i.WL)(i.O5.ROOM_ALL,s()),reportedAbuseAll:()=>(0,i.WL)(i.O5.REPORTED_ABUSE_ALL,s()),AnnouncementAll:()=>(0,i.WL)(i.O5.ANNOUNCEMENT_ALL,s()),UserOnline:()=>(0,i.WL)(i.O5.USER_ONLINE,s())},c={roomParticipantAll:()=>(0,i.Po)(i.O5.ROOM_PARTICIPANT_ALL,s())},l={roomAnnounceAll:e=>(0,i.WL)(`${i.O5.ROOM_ALL}/${e}/${i.O5.ANNOUNCE_ALL}`,s()),placardAll:e=>(0,i.WL)(`${i.O5.BUSINESS}/${e}/${i.O5.PLACARD_ALL}`,s())},u=()=>{(0,r.yr)(),(0,r.Ox)()}},4688:function(e,t,n){"use strict";n.d(t,{C$:function(){return f},DS:function(){return y},Ix:function(){return g},Jx:function(){return h},NU:function(){return v},PI:function(){return m},ZQ:function(){return o},p2:function(){return i},tO:function(){return p},wc:function(){return u},wr:function(){return r},x4:function(){return d}});var o,r,i,s=n(8404),a=n(6826),c=n(1236);(function(e){e["ANNOU"]="annou",e["TEXT"]="text"})(o||(o={})),function(e){e["PIN"]="pin",e["UNPIN"]="unpin",e["HIDE"]="hide",e["UNHIDE"]="unhide",e["BLOCK"]="block",e["UNBLOCK"]="unblock"}(r||(r={})),function(e){e["DELETE"]="delete",e["HIDE"]="hide"}(i||(i={}));const l=!0,u=e=>{s.co._analytics&&l&&((0,c.Iv)(s.co._analytics,e),(0,c.xP)(s.co._analytics,{platform:"web",service_name:a.m_.value,app_version:a.PG}))},p=(e,t)=>{s.co._analytics&&l&&(0,c.Kz)(s.co._analytics,"exception",{description:e.message,fatal:t||!1})},d=()=>{s.co._analytics&&l&&(0,c.Kz)(s.co._analytics,"login",{method:"web"})},h=e=>{s.co._analytics&&l&&(0,c.Kz)(s.co._analytics,"visibility_announcement",{to_user:e.to_user,business_user:e.business_user,announcement_id:e.announcement_id})},f=e=>{s.co._analytics&&l&&(0,c.Kz)(s.co._analytics,"message_link_click",{msg_type:e.msg_type,sender_user:e.sender_user,url:e.url})},g=e=>{s.co._analytics&&l&&(0,c.Kz)(s.co._analytics,"user_upload_image",{to_user:e.to_user,size:e.size,gcs_url:e.gcs_url})},m=e=>{s.co._analytics&&l&&(0,c.Kz)(s.co._analytics,"read_profile",{to_user:e})},y=(e,t)=>{s.co._analytics&&l&&(0,c.Kz)(s.co._analytics,"friend_opt",{action:t,to_user:e})},v=(e,t)=>{s.co._analytics&&l&&(0,c.Kz)(s.co._analytics,"room_opt",{action:t,to_room:e})}},3091:function(e,t,n){"use strict";n.d(t,{B2:function(){return c},PI:function(){return a},je:function(){return l}});var o=n(8001),r=n(9628),i=n(3721),s=n(7076);const a=async e=>{const t=await r.PI(o.panToken.value,{mimeType:e});return t},c=async(e,t)=>{const n=await r.B2(o.panToken.value,{roomId:e,messageId:t});return n},l=async e=>{const t=o.loginedUserState.uid||"";if(!t)throw new Error("not have this user");const n=e.map((e=>({userId:t,friendId:e}))),r=await s.jH(o.panToken.value,{pair:n}),a=r.getResultsList().filter((n=>{const o=n.getUserId(),r=n.getFriendId();return o===t&&e.includes(r)&&!0===n.getIsFriend()})).map((e=>e.getFriendId()));a.length<=0||await i.j(o.panToken.value,{userId:t,businessUserId:a})}},2814:function(e,t,n){"use strict";n.d(t,{g4:function(){return d},ky:function(){return u},qF:function(){return p},r5:function(){return f},yA:function(){return h}});var o=n(8001),r=n(9946);const i=async(e,{fcmToken:t})=>{try{const n=await window.dog.imNotifyQuery.api.NotifyTokenExisted({panAccessToken:e,fcmToken:t,userId:t,platform:r.ImNotifyCommand.Platform.PLATFORM_WEB});return Promise.resolve(n)}catch(n){return Promise.reject(n)}},s=async(e,{fcmToken:t,roomsId:n})=>{try{const o=await window.dog.imNotifyQuery.api.RoomNotifyInfo({panAccessToken:e,fcmToken:t,roomLists:n});return Promise.resolve(o)}catch(o){return Promise.reject(o)}},a=async(e,{fcmToken:t,roomId:n,enable:o})=>{try{const r=await window.dog.imNotifyCommand.api.EnableRoomNotify({panAccessToken:e,fcmToken:t,roomId:n,enable:o});return Promise.resolve(r)}catch(r){return Promise.reject(r)}},c=async(e,{enable:t})=>{try{const n=await window.dog.imNotifyCommand.api.EnableUserNotify({panAccessToken:e,enable:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}},l=async(e,{fcmToken:t})=>{try{const n=await window.dog.imNotifyCommand.api.RegisterDeviceNotify({panAccessToken:e,fcmToken:t,platform:r.ImNotifyCommand.Platform.PLATFORM_WEB});return Promise.resolve(n)}catch(n){return Promise.reject(n)}},u=async e=>{try{const t=await c(o.panToken.value,{enable:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}},p=async(e,t,n)=>{try{const r=await a(o.panToken.value,{fcmToken:t,roomId:e,enable:n});return Promise.resolve(r)}catch(r){return Promise.reject(r)}},d=async e=>{try{const t=await i(o.panToken.value,{fcmToken:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}},h=async e=>{try{const t=await l(o.panToken.value,{fcmToken:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}},f=async(e,t)=>{try{const n=await s(o.panToken.value,{fcmToken:e,roomsId:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}},2781:function(e,t,n){"use strict";n.d(t,{i:function(){return u},w:function(){return l}});n(6728);var o=n(4070),r=n(8001),i=n(1812),s=n(8268),a=n(4302),c=n(9628);const l=async e=>{try{const{payload:t}=(0,o.k)(e),{hash_uid:n=""}=t.value,[i,l]=await Promise.all([(0,c.oG)(e),(0,a.u4)(n)]),{uid:u,hashUid:p,avatar:d,email:h,objectId:f,displayName:g}=l.toObject();(0,s._y)(p),r.updateUser({numberId:u,uid:p,displayName:g,email:h,photoURL:d,objectId:f,refreshToken:""}),r.updateFirebaseToken(i.getCustomToken())}catch(t){i.w7(),r.updatePanToken(""),console.log(t)}},u=async e=>{try{let t=r.getUserInfo.value(e);if(void 0===t){const n=await(0,a.u4)(e);t=(0,a.bG)(n),r.users.push(t)}return t}catch(t){return Promise.reject(t)}}},9079:function(e,t,n){"use strict";n.d(t,{JP:function(){return a},NV:function(){return c}});var o=n(8896),r=n(8936),i=n(3091);const s=(0,o.qj)([]),a=(0,o.OT)(s),c=e=>{(0,i.je)(e.map((e=>e))),(0,r.resetOriginalList)(s,e)}},1812:function(e,t,n){"use strict";n.d(t,{m3:function(){return fo},Oi:function(){return po},YJ:function(){return ho},$D:function(){return uo},w7:function(){return go}});var o=n(8896),r=(n(6728),n(7626)),i=n(2396);function s(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}Object.create;Object.create;var a=n(5803),c=n(8124);function l(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u=l,p=new r.LL("auth","Firebase",l()),d=new a.Yd("@firebase/auth");function h(e,...t){d.logLevel<=a["in"].ERROR&&d.error(`Auth (${i.Jn}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(e,...t){throw y(e,...t)}function g(e,...t){return y(e,...t)}function m(e,t,n){const o=Object.assign(Object.assign({},u()),{[t]:n}),i=new r.LL("auth","Firebase",o);return i.create(t,{appName:e.name})}function y(e,...t){if("string"!==typeof e){const n=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=e.name),e._errorFactory.create(n,...o)}return p.create(e,...t)}function v(e,t,...n){if(!e)throw y(t,...n)}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function _(e,t){e||b(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w=new Map;function T(e){_(e instanceof Function,"Expected a class definition");let t=w.get(e);return t?(_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,w.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(e,t){const n=(0,i.qX)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),o=n.getOptions();if((0,r.vZ)(o,null!==t&&void 0!==t?t:{}))return e;f(e,"already-initialized")}const o=n.initialize({options:t});return o}function S(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],o=(Array.isArray(n)?n:[n]).map(T);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(o,null===t||void 0===t?void 0:t.popupRedirectResolver)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function k(){return"http:"===I()||"https:"===I()}function I(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(k()||(0,r.ru)()||"connection"in navigator))||navigator.onLine}function R(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e,t){this.shortDelay=e,this.longDelay=t,_(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return A()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(e,t){_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"internal-error",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error"},P=new O(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function M(e,t,n,o,i={}){return L(e,i,(async()=>{let i={},s={};o&&("GET"===t?s=o:i={body:JSON.stringify(o)});const a=(0,r.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),j.fetch()(F(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},i))}))}async function L(e,t,n){e._canInitEmulator=!1;const o=Object.assign(Object.assign({},N),t);try{const t=new B(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await r.json();if("needConfirmation"in i)throw H(e,"account-exists-with-different-credential",i);if(r.ok&&!("errorMessage"in i))return i;{const t=r.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw H(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw H(e,"email-already-in-use",i);const a=o[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw m(e,a,s);f(e,a)}}catch(i){if(i instanceof r.ZR)throw i;f(e,"network-request-failed")}}async function U(e,t,n,o,r={}){const i=await M(e,t,n,o,r);return"mfaPendingCredential"in i&&f(e,"multi-factor-auth-required",{_serverResponse:i}),i}function F(e,t,n,o){const r=`${t}${n}?${o}`;return e.config.emulator?C(e.config,r):`${e.config.apiScheme}://${r}`}class B{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(g(this.auth,"timeout"))),P.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(e,t,n){const o={appName:e.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const r=g(e,t,o);return r.customData._tokenResponse=n,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W(e,t){return M(e,"POST","/v1/accounts:delete",t)}async function q(e,t){return M(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z(e,t=!1){const n=(0,r.m9)(e),o=await n.getIdToken(t),i=$(o);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s["sign_in_provider"];return{claims:i,token:o,authTime:V(G(i.auth_time)),issuedAtTime:V(G(i.iat)),expirationTime:V(G(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s["sign_in_second_factor"])||null}}function G(e){return 1e3*Number(e)}function $(e){const[t,n,o]=e.split(".");if(void 0===t||void 0===n||void 0===o)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.tV)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(i){return h("Caught error parsing JWT payload as JSON",i),null}}function K(e){const t=$(e);return v(t,"internal-error"),v("undefined"!==typeof t.exp,"internal-error"),v("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y(e,t,n=!1){if(n)return t;try{return await t}catch(o){throw o instanceof r.ZR&&Z(o)&&e.auth.currentUser===e&&await e.auth.signOut(),o}}function Z({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=V(this.lastLoginAt),this.creationTime=V(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q(e){var t;const n=e.auth,o=await e.getIdToken(),r=await Y(e,q(n,{idToken:o}));v(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?ne(i.providerUserInfo):[],a=te(e.providerData,s),c=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!c&&l,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new X(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,p)}async function ee(e){const t=(0,r.m9)(e);await Q(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function te(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}function ne(e){return e.map((e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oe(e,t){const n=await L(e,{},(async()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:i}=e.config,s=F(e,o,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v("undefined"!==typeof e.idToken,"internal-error"),v("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):K(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return v(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:o,expiresIn:r}=await oe(e,t);this.updateTokensAndExpiration(n,o,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:o,expirationTime:r}=t,i=new re;return n&&(v("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),o&&(v("string"===typeof o,"internal-error",{appName:e}),i.accessToken=o),r&&(v("number"===typeof r,"internal-error",{appName:e}),i.expirationTime=r),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return b("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(e,t){v("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class se{constructor(e){var{uid:t,auth:n,stsTokenManager:o}=e,r=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new J(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.metadata=new X(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Y(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return z(this,e)}reload(){return ee(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new se(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Q(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Y(this,W(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,o,r,i,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,p=null!==(o=t.email)&&void 0!==o?o:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,h=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:_,isAnonymous:w,providerData:T,stsTokenManager:x}=t;v(b&&x,e,"internal-error");const S=re.fromJSON(this.name,x);v("string"===typeof b,e,"internal-error"),ie(u,e.name),ie(p,e.name),v("boolean"===typeof _,e,"internal-error"),v("boolean"===typeof w,e,"internal-error"),ie(d,e.name),ie(h,e.name),ie(f,e.name),ie(g,e.name),ie(m,e.name),ie(y,e.name);const E=new se({uid:b,auth:e,email:p,emailVerified:_,displayName:u,isAnonymous:w,photoURL:h,phoneNumber:d,tenantId:f,stsTokenManager:S,createdAt:m,lastLoginAt:y});return T&&Array.isArray(T)&&(E.providerData=T.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t,n=!1){const o=new re;o.updateFromServerResponse(t);const r=new se({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:n});return await Q(r),r}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ae.type="NONE";const ce=ae;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e,t,n){return`firebase:${e}:${t}:${n}`}class ue{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:o,name:r}=this.auth;this.fullUserKey=le(this.userKey,o.apiKey,r),this.fullPersistenceKey=le("persistence",o.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?se._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ue(T(ce),e,n);const o=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=o[0]||T(ce);const i=le(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(i);if(t){const n=se._fromJSON(e,t);l!==r&&(s=n),r=l;break}}catch(c){}const a=o.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],s&&await r._set(i,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(i)}catch(c){}}))),new ue(r,e,n)):new ue(r,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ge(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(de(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ye(t))return"Blackberry";if(ve(t))return"Webos";if(he(t))return"Safari";if((t.includes("chrome/")||fe(t))&&!t.includes("edge/"))return"Chrome";if(me(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function de(e=(0,r.z$)()){return/firefox\//i.test(e)}function he(e=(0,r.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fe(e=(0,r.z$)()){return/crios\//i.test(e)}function ge(e=(0,r.z$)()){return/iemobile/i.test(e)}function me(e=(0,r.z$)()){return/android/i.test(e)}function ye(e=(0,r.z$)()){return/blackberry/i.test(e)}function ve(e=(0,r.z$)()){return/webos/i.test(e)}function be(e=(0,r.z$)()){return/iphone|ipad|ipod/i.test(e)}function _e(e=(0,r.z$)()){var t;return be(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function we(){return(0,r.w1)()&&10===document.documentMode}function Te(e=(0,r.z$)()){return be(e)||me(e)||ve(e)||ye(e)||/windows phone/i.test(e)||ge(e)}function xe(){try{return!(!window||window===window.top)}catch(e){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(e,t=[]){let n;switch(e){case"Browser":n=pe((0,r.z$)());break;case"Worker":n=`${pe((0,r.z$)())}-${e}`;break;default:n=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${o}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ie(this),this.idTokenSubscription=new Ie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=T(t)),this._initializationPromise=this.queue((async()=>{var n,o;if(!this._deleted&&(this.persistenceManager=await ue.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===n||void 0===n?void 0:n._redirectEventId,i=await this.tryRedirectSignIn(e);o&&o!==r||!(null===i||void 0===i?void 0:i.user)||(n=i.user)}return n?n._redirectEventId?(v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Q(e)}catch(t){if("auth/network-request-failed"!==t.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.m9)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(T(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&T(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await ue.create(this,[T(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,o){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return v(i,this,"internal-error"),i.then((()=>r(this.currentUser))),"function"===typeof t?e.addObserver(t,n,o):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={["X-Client-Version"]:this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function ke(e){return(0,r.m9)(e)}class Ie{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.ne)((e=>this.observer=e))}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ae{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Re(e,t){return M(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Oe(e,t){return U(e,"POST","/v1/accounts:signInWithPassword",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ce(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}async function je(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne extends Ae{constructor(e,t,n,o=null){super("password",n),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ne(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ne(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Oe(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ce(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Re(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return je(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pe(e,t){return U(e,"POST","/v1/accounts:signInWithIdp",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De="http://localhost";class Me extends Ae{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Me(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:o}=t,r=s(t,["providerId","signInMethod"]);if(!n||!o)return null;const i=new Me(n,o);return i.idToken=r.idToken||void 0,i.accessToken=r.accessToken||void 0,i.secret=r.secret,i.nonce=r.nonce,i.pendingToken=r.pendingToken||null,i}_getIdTokenResponse(e){const t=this.buildRequest();return Pe(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pe(e,t)}buildRequest(){const e={requestUri:De,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=(0,r.xO)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Le(e,t){return M(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))}async function Ue(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))}async function Fe(e,t){const n=await U(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw H(e,"account-exists-with-different-credential",n);return n}const Be={["USER_NOT_FOUND"]:"user-not-found"};async function He(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return U(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,n),Be)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends Ae{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new We({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new We({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Ue(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Fe(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return He(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:o,temporaryProof:r}=e;return n||t||o||r?new We({verificationId:t,verificationCode:n,phoneNumber:o,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ve(e){const t=(0,r.zd)((0,r.pd)(e))["link"],n=t?(0,r.zd)((0,r.pd)(t))["deep_link_id"]:null,o=(0,r.zd)((0,r.pd)(e))["deep_link_id"],i=o?(0,r.zd)((0,r.pd)(o))["link"]:null;return i||o||n||t||e}class ze{constructor(e){var t,n,o,i,s,a;const c=(0,r.zd)((0,r.pd)(e)),l=null!==(t=c["apiKey"])&&void 0!==t?t:null,u=null!==(n=c["oobCode"])&&void 0!==n?n:null,p=qe(null!==(o=c["mode"])&&void 0!==o?o:null);v(l&&u&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=u,this.continueUrl=null!==(i=c["continueUrl"])&&void 0!==i?i:null,this.languageCode=null!==(s=c["languageCode"])&&void 0!==s?s:null,this.tenantId=null!==(a=c["tenantId"])&&void 0!==a?a:null}static parseLink(e){const t=Ve(e);try{return new ze(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ge{constructor(){this.providerId=Ge.PROVIDER_ID}static credential(e,t){return Ne._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ze.parseLink(t);return v(n,"argument-error"),Ne._fromEmailAndCode(e,n.code,n.tenantId)}}Ge.PROVIDER_ID="password",Ge.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ge.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $e{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends $e{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ye extends Ke{constructor(){super("facebook.com")}static credential(e){return Me._fromParams({providerId:Ye.PROVIDER_ID,signInMethod:Ye.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ye.credentialFromTaggedObject(e)}static credentialFromError(e){return Ye.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ye.credential(e.oauthAccessToken)}catch(t){return null}}}Ye.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ye.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ze extends Ke{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Me._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ze.credential(t,n)}catch(o){return null}}}Ze.GOOGLE_SIGN_IN_METHOD="google.com",Ze.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Je extends Ke{constructor(){super("github.com")}static credential(e){return Me._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Je.credential(e.oauthAccessToken)}catch(t){return null}}}Je.GITHUB_SIGN_IN_METHOD="github.com",Je.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xe extends Ke{constructor(){super("twitter.com")}static credential(e,t){return Me._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Xe.credential(t,n)}catch(o){return null}}}Xe.TWITTER_SIGN_IN_METHOD="twitter.com",Xe.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qe{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,o=!1){const r=await se._fromIdTokenResponse(e,n,o),i=et(n),s=new Qe({user:r,providerId:i,_tokenResponse:n,operationType:t});return s}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const o=et(n);return new Qe({user:e,providerId:o,_tokenResponse:n,operationType:t})}}function et(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tt extends r.ZR{constructor(e,t,n,o){var r;super(t.code,t.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,tt.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,o){return new tt(e,t,n,o)}}function nt(e,t,n,o){const r="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return r.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw tt._fromErrorAndOperation(e,n,t,o);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ot(e,t,n=!1){const o=await Y(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qe._forOperation(e,"link",o)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function rt(e,t,n=!1){const{auth:o}=e,r="reauthenticate";try{const i=await Y(e,nt(o,r,t,e),n);v(i.idToken,o,"internal-error");const s=$(i.idToken);v(s,o,"internal-error");const{sub:a}=s;return v(e.uid===a,o,"user-mismatch"),Qe._forOperation(e,r,i)}catch(i){throw"auth/user-not-found"===(null===i||void 0===i?void 0:i.code)&&f(o,"user-mismatch"),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function it(e,t,n=!1){const o="signIn",r=await nt(e,o,t),i=await Qe._fromIdTokenResponse(e,o,r);return n||await e._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function st(e,t){return U(e,"POST","/v1/accounts:signInWithCustomToken",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function at(e,t){const n=ke(e),o=await st(n,{token:t,returnSecureToken:!0}),r=await Qe._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(r.user),r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ct(e,t){return(0,r.m9)(e).setPersistence(t)}function lt(e){return(0,r.m9)(e).signOut()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ut(e,t){return M(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}function pt(e,t){return M(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,t))}new WeakMap;const dt="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dt,"1"),this.storage.removeItem(dt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){const e=(0,r.z$)();return he(e)||be(e)}const gt=1e3,mt=10;class yt extends ht{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ft()&&xe(),this.fallbackToPolling=Te(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),o=this.localCache[t];n!==o&&e(t,o,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(n);if(e.newValue!==o)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const o=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);we()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mt):o()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),gt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yt.type="LOCAL";const vt=yt;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt extends ht{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bt.type="SESSION";const _t=bt;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(e){return Promise.all(e.map((async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Tt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:o,data:r}=t.data,i=this.handlersMap[o];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const s=Array.from(i).map((async e=>e(t.origin,r))),a=await wt(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xt(e="",t=10){let n="";for(let o=0;o<t;o++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tt.receivers=[];class St{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const o="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let r,i;return new Promise(((s,a)=>{const c=xt("",20);o.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);i={messageChannel:o,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),s(t.data.response);break;default:clearTimeout(l),clearTimeout(r),a(new Error("invalid_response"));break}}},this.handlers.add(i),o.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[o.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return window}function kt(e){Et().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return"undefined"!==typeof Et()["WorkerGlobalScope"]&&"function"===typeof Et()["importScripts"]}async function At(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}function Rt(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function Ot(){return It()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="firebaseLocalStorageDb",jt=1,Nt="firebaseLocalStorage",Pt="fbase_key";class Dt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Mt(e,t){return e.transaction([Nt],t?"readwrite":"readonly").objectStore(Nt)}function Lt(){const e=indexedDB.deleteDatabase(Ct);return new Dt(e).toPromise()}function Ut(){const e=indexedDB.open(Ct,jt);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Nt,{keyPath:Pt})}catch(o){n(o)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Nt)?t(n):(n.close(),await Lt(),t(await Ut()))}))}))}async function Ft(e,t,n){const o=Mt(e,!0).put({[Pt]:t,value:n});return new Dt(o).toPromise()}async function Bt(e,t){const n=Mt(e,!1).get(t),o=await new Dt(n).toPromise();return void 0===o?null:o.value}function Ht(e,t){const n=Mt(e,!0).delete(t);return new Dt(n).toPromise()}const Wt=800,qt=3;class Vt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ut()),this.db}async _withRetries(e){let t=0;while(1)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>qt)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return It()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tt._getInstance(Ot()),this.receiver._subscribe("keyChanged",(async(e,t)=>{const n=await this._poll();return{keyProcessed:n.includes(t.key)}})),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await At(),!this.activeServiceWorker)return;this.sender=new St(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&Rt()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ut();return await Ft(e,dt,"1"),await Ht(e,dt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ft(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>Bt(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ht(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Mt(e,!1).getAll();return new Dt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:o,value:r}of e)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(r)&&(this.notifyListeners(o,r),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),Wt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Vt.type="LOCAL";const zt=Vt;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(e,t){return M(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}function $t(e,t){return M(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Kt(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}function Yt(e){return new Promise(((t,n)=>{const o=document.createElement("script");o.setAttribute("src",e),o.onload=t,o.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},o.type="text/javascript",o.charset="UTF-8",Kt().appendChild(o)}))}function Zt(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Zt("rcb"),new O(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Jt="recaptcha";async function Xt(e,t,n){var o;const r=await n.verify();try{let i;if(v("string"===typeof r,e,"argument-error"),v(n.type===Jt,e,"argument-error"),i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){v("enroll"===t.type,e,"internal-error");const n=await ut(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{v("signin"===t.type,e,"internal-error");const n=(null===(o=i.multiFactorHint)||void 0===o?void 0:o.uid)||i.multiFactorUid;v(n,e,"missing-multi-factor-info");const s=await Gt(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await Le(e,{phoneNumber:i.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qt{constructor(e){this.providerId=Qt.PROVIDER_ID,this.auth=ke(e)}verifyPhoneNumber(e,t){return Xt(this.auth,e,(0,r.m9)(t))}static credential(e,t){return We._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Qt.credentialFromTaggedObject(t)}static credentialFromError(e){return Qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?We._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function en(e,t){return t?T(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.PROVIDER_ID="phone",Qt.PHONE_SIGN_IN_METHOD="phone";class tn extends Ae{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nn(e){return it(e.auth,new tn(e),e.bypassAuthState)}function on(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),rt(n,new tn(e),e.bypassAuthState)}async function rn(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),ot(n,new tn(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,n,o,r=!1){this.auth=e,this.resolver=n,this.user=o,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:o,tenantId:r,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nn;case"linkViaPopup":case"linkViaRedirect":return rn;case"reauthViaPopup":case"reauthViaRedirect":return on;default:f(this.auth,"internal-error")}}resolve(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new O(2e3,1e4);class cn extends sn{constructor(e,t,n,o,r){super(e,t,o,r),this.provider=n,this.authWindow=null,this.pollId=null,cn.currentPopupAction&&cn.currentPopupAction.cancel(),cn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){_(1===this.filter.length,"Popup operations only handle one event");const e=xt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(g(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,an.get())};e()}}cn.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ln="pendingRedirect",un=new Map;class pn extends sn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=un.get(this.auth._key());if(!e){try{const t=await dn(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}un.set(this.auth._key(),e)}return this.bypassAuthState||un.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function dn(e,t){const n=fn(t),o=hn(e);if(!await o._isAvailable())return!1;const r="true"===await o._get(n);return await o._remove(n),r}function hn(e){return T(e._redirectPersistence)}function fn(e){return le(ln,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gn(e,t,n=!1){const o=ke(e),r=en(o,t),i=new pn(o,r,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await o._persistUserIfCurrent(s.user),await o._setRedirectUser(null,t)),s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const mn=6e5;class yn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!_n(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!bn(e)){const o=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mn&&this.cachedEventUids.clear(),this.cachedEventUids.has(vn(e))}saveEventToCache(e){this.cachedEventUids.add(vn(e)),this.lastProcessedEventTime=Date.now()}}function vn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function bn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}function _n(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bn(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wn(e,t={}){return M(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xn=/^https?/;async function Sn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await wn(e);for(const o of t)try{if(En(o))return}catch(n){}f(e,"unauthorized-domain")}function En(e){const t=E(),{protocol:n,hostname:o}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===o?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===o}if(!xn.test(n))return!1;if(Tn.test(e))return o===e;const r=e.replace(/\./g,"\\."),i=new RegExp("^(.+\\."+r+"|"+r+")$","i");return i.test(o)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new O(3e4,6e4);function In(){const e=Et().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function An(e){return new Promise(((t,n)=>{var o,r,i;function s(){In(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{In(),n(g(e,"network-request-failed"))},timeout:kn.get()})}if(null===(r=null===(o=Et().gapi)||void 0===o?void 0:o.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Et().gapi)||void 0===i?void 0:i.load)){const t=Zt("iframefcb");return Et()[t]=()=>{gapi.load?s():n(g(e,"network-request-failed"))},Yt(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Rn=null,e}))}let Rn=null;function On(e){return Rn=Rn||An(e),Rn}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new O(5e3,15e3),jn="__/auth/iframe",Nn="emulator/auth/iframe",Pn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mn(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?C(t,Nn):`https://${e.config.authDomain}/${jn}`,o={apiKey:t.apiKey,appName:e.name,v:i.Jn},s=Dn.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,r.xO)(o).slice(1)}`}async function Ln(e){const t=await On(e),n=Et().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:Mn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pn,dontclear:!0},(t=>new Promise((async(n,o)=>{await t.restyle({setHideOnLeave:!1});const r=g(e,"network-request-failed"),i=Et().setTimeout((()=>{o(r)}),Cn.get());function s(){Et().clearTimeout(i),n(t)}t.ping(s).then(s,(()=>{o(r)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fn=500,Bn=600,Hn="_blank",Wn="http://localhost";class qn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Vn(e,t,n,o=Fn,i=Bn){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-o)/2,0).toString();let c="";const l=Object.assign(Object.assign({},Un),{width:o.toString(),height:i.toString(),top:s,left:a}),u=(0,r.z$)().toLowerCase();n&&(c=fe(u)?Hn:n),de(u)&&(t=t||Wn,l.scrollbars="yes");const p=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(_e(u)&&"_self"!==c)return zn(t||"",c),new qn(null);const d=window.open(t||"",c,p);v(d,e,"popup-blocked");try{d.focus()}catch(h){}return new qn(d)}function zn(e,t){const n=document.createElement("a");n.href=e,n.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(o)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="__/auth/handler",$n="emulator/auth/handler";function Kn(e,t,n,o,s,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:i.Jn,eventId:s};if(t instanceof $e){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,r.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof Ke){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const r of Object.keys(l))void 0===l[r]&&delete l[r];return`${Yn(e)}?${(0,r.xO)(l).slice(1)}`}function Yn({config:e}){return e.emulator?C(e,$n):`https://${e.authDomain}/${Gn}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="webStorageSupport";class Jn{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_t,this._completeRedirectFn=gn}async _openPopup(e,t,n,o){var r;_(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const i=Kn(e,t,n,E(),o);return Vn(e,i,xt())}async _openRedirect(e,t,n,o){return await this._originValidation(e),kt(Kn(e,t,n,E(),o)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ln(e),n=new yn(e);return t.register("authEvent",(t=>{v(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");const o=n.onEvent(t.authEvent);return{status:o?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){const n=this.iframes[e._key()];n.send(Zn,{type:Zn},(n=>{var o;const r=null===(o=null===n||void 0===n?void 0:n[0])||void 0===o?void 0:o[Zn];void 0!==r&&t(!!r),f(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Te()||he()||be()}}const Xn=Jn;class Qn{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}class eo extends Qn{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new eo(e)}_finalizeEnroll(e,t,n){return pt(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return $t(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class to{constructor(){}static assertion(e){return eo._fromCredential(e)}}to.FACTOR_ID="phone";var no="@firebase/auth",oo="0.19.4";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ro{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function so(e){(0,i.Xd)(new c.wA("auth",((t,{options:n})=>{const o=t.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=o.options;return(t=>{v(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),v(!(null===i||void 0===i?void 0:i.includes(":")),"argument-error",{appName:t.name});const o={apiKey:r,authDomain:i,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Se(e)},s=new Ee(t,o);return S(s,n),s})(o)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{const o=e.getProvider("auth-internal");o.initialize()}))),(0,i.Xd)(new c.wA("auth-internal",(e=>{const t=ke(e.getProvider("auth").getImmediate());return(e=>new ro(e))(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)(no,oo,io(e)),(0,i.KN)(no,oo,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(e=(0,i.Mq)()){const t=(0,i.qX)(e,"auth");return t.isInitialized()?t.getImmediate():x(e,{popupRedirectResolver:Xn,persistence:[zt,vt,_t]})}so("Browser");var co=n(8404),lo=n(3540);const uo=(0,o.iH)(!1),po=()=>ao((0,co.v5)()),ho=e=>{uo.value=e,lo.N0.emit(lo.YM.IS_AUTHENTICATED,e)},fo=async e=>{try{await ct(po(),ce),await at(po(),e)}catch(t){console.log("firebase login error:"+t)}},go=()=>lt(po())},6826:function(e,t,n){"use strict";n.d(t,{AC:function(){return T},FJ:function(){return i},Fp:function(){return f},Lr:function(){return s},PG:function(){return l},S6:function(){return w},X4:function(){return b},eo:function(){return p},gF:function(){return y},i3:function(){return m},lC:function(){return u},m_:function(){return c},p7:function(){return d},qd:function(){return v},sj:function(){return g},tX:function(){return h},yq:function(){return _}});var o=n(8896),r=n(8936);const i=(0,o.iH)(!1),s=e=>i.value=e;(0,r.initializeOSConfig)({VUE_APP_VERSION:"2.9.2",NODE_ENV:"production",FIREBASE_API_KEY:"AIzaSyBGIxUvb7aUxX_4xWNfLZNh0126RhgXrcc",FIREBASE_AUTH_DOMAIN:"jkf-talk-f8331.firebaseapp.com",FIREBASE_DATABASE_URL:"https://jkf-talk-prod.asia-southeast1.firebasedatabase.app/",FIREBASE_PROJECT_ID:"jkf-talk",FIREBASE_STORAGE_BUCKET:"jkf-talk.appspot.com",FIREBASE_MESSAGING_SENDER_ID:"378533763429",FIREBASE_APP_ID:"1:378533763429:web:89faf46a0eee651ec1298c",FIREBASE_MEASUREMENT_ID:"G-M5FK0HJWMH",FIREBASE_STORAGE_HOST:"https://ugc.talk.hare200.com",GCP_IM_STORAGE_URL:"https://public.hare200.com/im",JKF_IMAGE_URL_PREFIX:"https://ugc.talk.hare200.com",PAN_API_HOST:"https://jkf.hare200.com/gapi",FORUM_API_HOST:"https://www.jkforum.net/api/v2",IS_SHADOW:"false",JPOINT_HOST:"https://jpoints.hare200.com/gapi",JPOINT_SCHEDULE:{NODE_ENV:"production",VUE_APP_FIREBASE_API_KEY:"AIzaSyBGIxUvb7aUxX_4xWNfLZNh0126RhgXrcc",VUE_APP_FIREBASE_AUTH_DOMAIN:"jkf-talk-f8331.firebaseapp.com",VUE_APP_FIREBASE_DATABASE_URL:"https://jkf-talk-prod.asia-southeast1.firebasedatabase.app/",VUE_APP_FIREBASE_PROJECT_ID:"jkf-talk",VUE_APP_FIREBASE_STORAGE_BUCKET:"jkf-talk.appspot.com",VUE_APP_FIREBASE_MESSAGING_SENDER_ID:"378533763429",VUE_APP_FIREBASE_APP_ID:"1:378533763429:web:89faf46a0eee651ec1298c",VUE_APP_FIREBASE_MEASUREMENT_ID:"G-M5FK0HJWMH",VUE_APP_FIREBASE_STORAGE_HOST:"https://ugc.talk.hare200.com",VUE_APP_GCP_IM_STORAGE_URL:"https://public.hare200.com/im",VUE_APP_JKF_IMAGE_URL_PREFIX:"https://ugc.talk.hare200.com",VUE_APP_PAN_API_HOST:"https://jkf.hare200.com/gapi",VUE_APP_FORUM_API_HOST:"https://www.jkforum.net/api/v2",VUE_APP_IS_SHADOW:"false",VUE_APP_JPOINT_HOST:"https://jpoints.hare200.com/gapi",VUE_APP_DOG_VERSION:"v0.0.63",VUE_APP_TALK_API_HOST:"https://gapi.talk.hare200.com",VUE_APP_TALK_OPEN_API_HOST:"https://gapi.jkftalk-broker.hare200.com",VUE_APP_VERSION:"2.9.2",BASE_URL:"/"}.VUE_APP_JPOINT_SCHEDULE||null});const a=(0,r.getConfig)(),c=(0,o.iH)("none"),l=a.VUE_APP_VERSION,u=a.NODE_ENV,p=a.FIREBASE_API_KEY,d=a.FIREBASE_AUTH_DOMAIN,h=a.FIREBASE_DATABASE_URL,f=a.FIREBASE_PROJECT_ID,g=a.FIREBASE_STORAGE_BUCKET,m=a.FIREBASE_MESSAGING_SENDER_ID,y=a.FIREBASE_APP_ID,v=a.FIREBASE_MEASUREMENT_ID,b=a.FIREBASE_STORAGE_HOST,_=a.GCP_IM_STORAGE_URL,w=a.JKF_IMAGE_URL_PREFIX,T=(a.PAN_API_HOST,a.FORUM_API_HOST);a.IS_SHADOW,a.JPOINT_HOST,a.JPOINT_SCHEDULE},5432:function(e,t,n){"use strict";n.r(t),n.d(t,{getPersonalInfo:function(){return p},isMe:function(){return u},personalID:function(){return l},updatePersonalID:function(){return d}});var o=n(8896),r=n(1703),i=n(8001),s=n(9628);const a=async e=>{const t=await(0,s.QV)(i.panToken.value,{userId:[e]});return t.getInfoList()[0]},c=async()=>{const e=await(0,s.QV)(i.panToken.value,{userId:[i.loginedUserState.uid||""]});return e.getInfoList()[0]},l=(0,o.iH)(""),u=(0,r.Fl)((()=>null!==i.userState.value&&i.userState.value.uid===l.value)),p=()=>u.value?c():a(l.value),d=e=>l.value=e},5312:function(e,t,n){"use strict";n.d(t,{z5:function(){return nn},p:function(){return Jt},jP:function(){return rn},_u:function(){return Zt},aB:function(){return on},PV:function(){return en},DV:function(){return Qt},VA:function(){return Xt},Wj:function(){return tn}});var o=n(8896),r=n(1703),i=n(2180);const s={predictableActionArguments:!0,id:"TalkRouter",initial:"TalkGroups",states:{TalkGroups:{on:{FriendLists:{target:"FriendLists"},PersonalInfo:{target:"PersonalInfo"},TalkingRoom:{target:"TalkingRoom"}}},FriendLists:{on:{TalkingRoom:{target:"TalkingRoom"},PersonalInfo:{target:"PersonalInfo"},TalkGroups:{target:"TalkGroups"},reset:{target:"TalkGroups"}}},TalkingRoom:{on:{FriendLists:{target:"FriendLists"},PersonalInfo:{target:"PersonalInfo"},RoomInfo:{target:"RoomInfo"},TalkGroups:{target:"TalkGroups"},reset:{target:"TalkGroups"}}},PersonalInfo:{on:{FriendLists:{target:"FriendLists"},TalkingRoom:{target:"TalkingRoom"},TalkGroups:{target:"TalkGroups"},reset:{target:"TalkGroups"}}},RoomInfo:{on:{TalkingRoom:{target:"TalkingRoom"},reset:{target:"TalkGroups"}}}}},a={predictableActionArguments:!0,id:"OfficialTalkRouter",initial:"OfficialTalkGroups",states:{OfficialTalkGroups:{on:{FriendLists:{target:"OfficialFriendLists"},PersonalInfo:{target:"OfficialPersonalInfo"},TalkingRoom:{target:"OfficialTalkingRoom"}}},OfficialFriendLists:{on:{TalkingRoom:{target:"OfficialTalkingRoom"},PersonalInfo:{target:"OfficialPersonalInfo"},TalkGroups:{target:"OfficialTalkGroups"},reset:{target:"OfficialTalkGroups"}}},OfficialTalkingRoom:{on:{FriendLists:{target:"OfficialFriendLists"},PersonalInfo:{target:"OfficialPersonalInfo"},RoomInfo:{target:"OfficialRoomInfo"},TalkGroups:{target:"OfficialTalkGroups"},reset:{target:"OfficialTalkGroups"}}},OfficialPersonalInfo:{on:{FriendLists:{target:"OfficialFriendLists"},TalkingRoom:{target:"OfficialTalkingRoom"},TalkGroups:{target:"OfficialTalkGroups"},reset:{target:"OfficialTalkGroups"}}},OfficialRoomInfo:{on:{TalkingRoom:{target:"OfficialTalkingRoom"},reset:{target:"OfficialTalkGroups"}}}}};n(6728),n(1951);var c=function(){return c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)};function l(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(o=i.next()).done)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(r)throw r.error}}return s}function d(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var h,f=".",g={},m="xstate.guard",y="",v=!0;function b(e,t,n){void 0===n&&(n=f);var o=x(e,n),r=x(t,n);return V(r)?!!V(o)&&r===o:V(o)?o in r:Object.keys(o).every((function(e){return e in r&&b(o[e],r[e])}))}function _(e){try{return V(e)||"number"===typeof e?"".concat(e):e.type}catch(t){throw new Error("Events must be strings or objects with a string event.type property.")}}function w(e,t){try{return W(e)?e:e.toString().split(t)}catch(n){throw new Error("'".concat(e,"' is not a valid state path."))}}function T(e){return"object"===typeof e&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function x(e,t){if(T(e))return e.value;if(W(e))return S(e);if("string"!==typeof e)return e;var n=w(e,t);return S(n)}function S(e){if(1===e.length)return e[0];for(var t={},n=t,o=0;o<e.length-1;o++)o===e.length-2?n[e[o]]=e[o+1]:(n[e[o]]={},n=n[e[o]]);return t}function E(e,t){for(var n={},o=Object.keys(e),r=0;r<o.length;r++){var i=o[r];n[i]=t(e[i],i,e,r)}return n}function k(e,t,n){var o,r,i={};try{for(var s=u(Object.keys(e)),a=s.next();!a.done;a=s.next()){var c=a.value,l=e[c];n(l)&&(i[c]=t(l,c,e))}}catch(p){o={error:p}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}var I=function(e){return function(t){var n,o,r=t;try{for(var i=u(e),s=i.next();!s.done;s=i.next()){var a=s.value;r=r[a]}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return r}};function A(e,t){return function(n){var o,r,i=n;try{for(var s=u(e),a=s.next();!a.done;a=s.next()){var c=a.value;i=i[t][c]}}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}}function R(e){if(!e)return[[]];if(V(e))return[[e]];var t=O(Object.keys(e).map((function(t){var n=e[t];return"string"===typeof n||n&&Object.keys(n).length?R(e[t]).map((function(e){return[t].concat(e)})):[[t]]})));return t}function O(e){var t;return(t=[]).concat.apply(t,d([],p(e),!1))}function C(e){return W(e)?e:[e]}function j(e){return void 0===e?[]:C(e)}function N(e,t,n){var o,r;if(q(e))return e(t,n.data);var i={};try{for(var s=u(Object.keys(e)),a=s.next();!a.done;a=s.next()){var c=a.value,l=e[c];q(l)?i[c]=l(t,n.data):i[c]=l}}catch(p){o={error:p}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function P(e){return/^(done|error)\./.test(e)}function D(e){return e instanceof Promise||!(null===e||!q(e)&&"object"!==typeof e||!q(e.then))}function M(e){return null!==e&&"object"===typeof e&&"transition"in e&&"function"===typeof e.transition}function L(e,t){var n,o,r=p([[],[]],2),i=r[0],s=r[1];try{for(var a=u(e),c=a.next();!c.done;c=a.next()){var l=c.value;t(l)?i.push(l):s.push(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return[i,s]}function U(e,t){return E(e.states,(function(e,n){if(e){var o=(V(t)?void 0:t[n])||(e?e.current:void 0);if(o)return{current:o,states:U(e,o)}}}))}function F(e,t){return{current:t,states:U(e,t)}}function B(e,t,n,o){v||H(!!e,"Attempting to update undefined context");var r=e?n.reduce((function(e,n){var r,i,s=n.assignment,a={state:o,action:n,_event:t},c={};if(q(s))c=s(e,t.data,a);else try{for(var l=u(Object.keys(s)),p=l.next();!p.done;p=l.next()){var d=p.value,h=s[d];c[d]=q(h)?h(e,t.data,a):h}}catch(f){r={error:f}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return Object.assign({},e,c)}),e):e;return r}var H=function(){};function W(e){return Array.isArray(e)}function q(e){return"function"===typeof e}function V(e){return"string"===typeof e}function z(e,t){if(e)return V(e)?{type:m,name:e,predicate:t?t[e]:void 0}:q(e)?{type:m,name:e.name,predicate:e}:e}function G(e){try{return"subscribe"in e&&q(e.subscribe)}catch(t){return!1}}v||(H=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==console){var o=["Warning: ".concat(t)];n&&o.push(n),console.warn.apply(console,o)}});var $=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();h={},h[$]=function(){return this},h[Symbol.observable]=function(){return this};function K(e){return!!e&&"__xstatenode"in e}function Y(e){return!!e&&"function"===typeof e.send}var Z,J;function X(e,t){return V(e)||"number"===typeof e?c({type:e},t):e}function Q(e,t){if(!V(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=X(e);return c({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function ee(e,t){var n=C(t).map((function(t){return"undefined"===typeof t||"string"===typeof t||K(t)?{target:t,event:e}:c(c({},t),{event:e})}));return n}function te(e){if(void 0!==e&&e!==y)return j(e)}function ne(e,t,n){if(!v){var o=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(e,"'.").concat(o));else{var r=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(e,"'. ").concat(o," Current error is '").concat(t,"'.").concat(r))}}}function oe(e,t,n,o,r){var i=e.options.guards,s={state:r,cond:t,_event:o};if(t.type===m)return((null===i||void 0===i?void 0:i[t.name])||t.predicate)(n,o.data,s);var a=null===i||void 0===i?void 0:i[t.type];if(!a)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return a(n,o.data,s)}function re(e){return"string"===typeof e?{type:e}:e}function ie(e,t,n){var o=function(){},r="object"===typeof e,i=r?e:null;return{next:((r?e.next:e)||o).bind(i),error:((r?e.error:t)||o).bind(i),complete:((r?e.complete:n)||o).bind(i)}}function se(e,t){return"".concat(e,":invocation[").concat(t,"]")}(function(e){e["Start"]="xstate.start",e["Stop"]="xstate.stop",e["Raise"]="xstate.raise",e["Send"]="xstate.send",e["Cancel"]="xstate.cancel",e["NullEvent"]="",e["Assign"]="xstate.assign",e["After"]="xstate.after",e["DoneState"]="done.state",e["DoneInvoke"]="done.invoke",e["Log"]="xstate.log",e["Init"]="xstate.init",e["Invoke"]="xstate.invoke",e["ErrorExecution"]="error.execution",e["ErrorCommunication"]="error.communication",e["ErrorPlatform"]="error.platform",e["ErrorCustom"]="xstate.error",e["Update"]="xstate.update",e["Pure"]="xstate.pure",e["Choose"]="xstate.choose"})(Z||(Z={})),function(e){e["Parent"]="#_parent",e["Internal"]="#_internal"}(J||(J={}));var ae=function(e){return"atomic"===e.type||"final"===e.type};function ce(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function le(e){return ce(e).filter((function(e){return"history"!==e.type}))}function ue(e){var t=[e];return ae(e)?t:t.concat(O(le(e).map(ue)))}function pe(e,t){var n,o,r,i,s,a,c,l,p=new Set(e),d=he(p),h=new Set(t);try{for(var f=u(h),g=f.next();!g.done;g=f.next()){var m=g.value,y=m.parent;while(y&&!h.has(y))h.add(y),y=y.parent}}catch(k){n={error:k}}finally{try{g&&!g.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}var v=he(h);try{for(var b=u(h),_=b.next();!_.done;_=b.next()){m=_.value;if("compound"!==m.type||v.get(m)&&v.get(m).length){if("parallel"===m.type)try{for(var w=(s=void 0,u(le(m))),T=w.next();!T.done;T=w.next()){var x=T.value;h.has(x)||(h.add(x),d.get(x)?d.get(x).forEach((function(e){return h.add(e)})):x.initialStateNodes.forEach((function(e){return h.add(e)})))}}catch(I){s={error:I}}finally{try{T&&!T.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}}else d.get(m)?d.get(m).forEach((function(e){return h.add(e)})):m.initialStateNodes.forEach((function(e){return h.add(e)}))}}catch(A){r={error:A}}finally{try{_&&!_.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}try{for(var S=u(h),E=S.next();!E.done;E=S.next()){m=E.value,y=m.parent;while(y&&!h.has(y))h.add(y),y=y.parent}}catch(R){c={error:R}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(c)throw c.error}}return h}function de(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var o=n[0];if(!o)return{};if(ae(o))return o.key}var r={};return n.forEach((function(e){r[e.key]=de(e,t)})),r}function he(e){var t,n,o=new Map;try{for(var r=u(e),i=r.next();!i.done;i=r.next()){var s=i.value;o.has(s)||o.set(s,[]),s.parent&&(o.has(s.parent)||o.set(s.parent,[]),o.get(s.parent).push(s))}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return o}function fe(e,t){var n=pe([e],t);return de(e,he(n))}function ge(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function me(e){return d([],p(new Set(O(d([],p(e.map((function(e){return e.ownEvents}))),!1)))),!1)}function ye(e,t){return"compound"===t.type?le(t).some((function(t){return"final"===t.type&&ge(e,t)})):"parallel"===t.type&&le(t).every((function(t){return ye(e,t)}))}function ve(e){return void 0===e&&(e=[]),e.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})}function be(e){return new Set(O(e.map((function(e){return e.tags}))))}var _e=Z.Start,we=Z.Stop,Te=Z.Raise,xe=Z.Send,Se=Z.Cancel,Ee=Z.NullEvent,ke=Z.Assign,Ie=(Z.After,Z.DoneState,Z.Log),Ae=Z.Init,Re=Z.Invoke,Oe=(Z.ErrorExecution,Z.ErrorPlatform),Ce=Z.ErrorCustom,je=Z.Update,Ne=Z.Choose,Pe=Z.Pure,De=Q({type:Ae});function Me(e,t){return t&&t[e]||void 0}function Le(e,t){var n;if(V(e)||"number"===typeof e){var o=Me(e,t);n=q(o)?{type:e,exec:o}:o||{type:e,exec:void 0}}else if(q(e))n={type:e.name||e.toString(),exec:e};else{o=Me(e.type,t);if(q(o))n=c(c({},e),{exec:o});else if(o){var r=o.type||e.type;n=c(c(c({},o),e),{type:r})}else n=e}return n}var Ue=function(e,t){if(!e)return[];var n=W(e)?e:[e];return n.map((function(e){return Le(e,t)}))};function Fe(e){var t=Le(e);return c(c({id:V(e)?e:t.id},t),{type:t.type})}function Be(e){return V(e)?{type:Te,event:e}:We(e,{to:J.Internal})}function He(e){return{type:Te,_event:Q(e.event)}}function We(e,t){return{to:t?t.to:void 0,type:xe,event:q(e)?e:X(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:q(e)?e.name:_(e)}}function qe(e,t,n,o){var r,i={_event:n},s=Q(q(e.event)?e.event(t,n.data,i):e.event);if(V(e.delay)){var a=o&&o[e.delay];r=q(a)?a(t,n.data,i):a}else r=q(e.delay)?e.delay(t,n.data,i):e.delay;var l=q(e.to)?e.to(t,n.data,i):e.to;return c(c({},e),{to:l,_event:s,event:s.data,delay:r})}var Ve=function(e,t,n){return c(c({},e),{value:V(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},ze=function(e){return{type:Se,sendId:e}};function Ge(e){var t=Fe(e);return{type:Z.Start,activity:t,exec:void 0}}function $e(e){var t=q(e)?e:Fe(e);return{type:Z.Stop,activity:t,exec:void 0}}function Ke(e,t,n){var o=q(e.activity)?e.activity(t,n.data):e.activity,r="string"===typeof o?{id:o}:o,i={type:Z.Stop,activity:r};return i}function Ye(e,t){var n=t?"#".concat(t):"";return"".concat(Z.After,"(").concat(e,")").concat(n)}function Ze(e,t){var n="".concat(Z.DoneState,".").concat(e),o={type:n,data:t,toString:function(){return n}};return o}function Je(e,t){var n="".concat(Z.DoneInvoke,".").concat(e),o={type:n,data:t,toString:function(){return n}};return o}function Xe(e,t){var n="".concat(Z.ErrorPlatform,".").concat(e),o={type:n,data:t,toString:function(){return n}};return o}var Qe=function(e){var t,n,o=[];try{for(var r=u(e),i=r.next();!i.done;i=r.next()){var s=i.value,a=0;while(a<s.length)s[a].type!==ke?a++:(o.push(s[a]),s.splice(a,1))}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return o};function et(e,t,n,o,r,i,s){void 0===s&&(s=!1);var a=s?[]:Qe(r),l=a.length?B(n,o,a,t):n,h=s?[n]:void 0,f=[];function g(r){var a;switch(r.type){case Te:return He(r);case xe:var u=qe(r,l,o,e.options.delays);return v||H(!V(r.delay)||"number"===typeof u.delay,"No delay reference for delay expression '".concat(r.delay,"' was found on machine '").concat(e.id,"'")),i&&u.to!==J.Internal&&f.push(u),u;case Ie:var g=Ve(r,l,o);return null===i||void 0===i||i(g,l,o),g;case Ne:var m=r,y=null===(a=m.conds.find((function(n){var r=z(n.cond,e.options.guards);return!r||oe(e,r,l,o,i?void 0:t)})))||void 0===a?void 0:a.actions;if(!y)return[];var b=p(et(e,t,l,o,[Ue(j(y),e.options.actions)],i,s),2),_=b[0],w=b[1];return l=w,null===h||void 0===h||h.push(l),_;case Pe:y=r.get(l,o.data);if(!y)return[];var T=p(et(e,t,l,o,[Ue(j(y),e.options.actions)],i,s),2),x=T[0],S=T[1];return l=S,null===h||void 0===h||h.push(l),x;case we:g=Ke(r,l,o);return null===i||void 0===i||i(g,n,o),g;case ke:l=B(l,o,[r],i?void 0:t),null===h||void 0===h||h.push(l);break;default:var E=Le(r,e.options.actions),k=E.exec;if(i)i(E,l,o);else if(k&&h){var I=h.length-1;E=c(c({},E),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];k.apply(void 0,d([h[I]],p(t),!1))}})}return E}}function m(e){var t,n,r=[];try{for(var s=u(e),a=s.next();!a.done;a=s.next()){var c=a.value,p=g(c);p&&(r=r.concat(p))}}catch(d){t={error:d}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return f.forEach((function(e){i(e,l,o)})),f.length=0,r}var y=O(r.map(m));return[y,l]}function tt(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(V(e)||V(t))return e===t;var n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((function(n){return tt(e[n],t[n])}))}function nt(e){return"object"===typeof e&&null!==e&&("value"in e&&"_event"in e)}function ot(e,t){var n=e.exec,o=c(c({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return o}var rt=function(){function e(e){var t,n=this;this.actions=[],this.activities=g,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||g,this.meta=ve(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return me(n.configuration)}})}return e.from=function(t,n){if(t instanceof e)return t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var o=De;return new e({value:t,context:n,_event:o,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var o=De;return new e({value:t.value,context:n,_event:o,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),V(e))return[e];var o=Object.keys(e);return o.concat.apply(o,d([],p(o.map((function(o){return n.toStrings(e[o],t).map((function(e){return o+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=l(e,["configuration","transitions","tags","machine"]);return c(c({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return b(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;v&&H(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null===n||void 0===n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}(),it=[],st=function(e,t){it.push(e);var n=t(e);return it.pop(),n};function at(e){var t;return t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}},t[$]=function(){return this},t}function ct(e,t,n,o){var r,i=re(e.src),s=null===(r=null===t||void 0===t?void 0:t.options.services)||void 0===r?void 0:r[i.type],a=e.data?N(e.data,n,o):void 0,c=s?lt(s,e.id,a):at(e.id);return c.meta=e,c}function lt(e,t,n){var o=at(t);if(o.deferred=!0,K(e)){var r=o.state=st(void 0,(function(){return(n?e.withContext(n):e).initialState}));o.getSnapshot=function(){return r}}return o}function ut(e){try{return"function"===typeof e.send}catch(t){return!1}}function pt(e){return ut(e)&&"id"in e}function dt(e){var t;return c((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},t[$]=function(){return this},t),e)}function ht(e){if("string"===typeof e){var t={type:e,toString:function(){return e}};return t}return e}function ft(e){return c(c({type:Re},e),{toJSON:function(){e.onDone,e.onError;var t=l(e,["onDone","onError"]);return c(c({},t),{type:Re,src:ht(e.src)})}})}var gt="",mt="#",yt="*",vt={},bt=function(e){return e[0]===mt},_t=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},wt=function(e,t,n){var o=n.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&(V(e.target)||K(e.target))})),r=t===gt?"the transient event":"event '".concat(t,"'");H(!o,"One or more transitions for ".concat(r," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},Tt=function(){function e(t,n,o,r){void 0===o&&(o="context"in t?t.context:void 0);var i,s=this;this.config=t,this._context=o,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(_t(),n),this.parent=null===r||void 0===r?void 0:r.parent,this.key=this.config.key||(null===r||void 0===r?void 0:r.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:f),this.id=this.config.id||d([this.machine.key],p(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(i=this.config.schema)&&void 0!==i?i:{},this.description=this.config.description,v||H(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?E(this.config.states,(function(t,n){var o,r=new e(t,{},void 0,{parent:s,key:n});return Object.assign(s.idMap,c((o={},o[r.id]=r,o),r.idMap)),r})):vt;var a=0;function l(e){var t,n;e.order=a++;try{for(var o=u(ce(e)),r=o.next();!r.done;r=o.next()){var i=r.value;l(i)}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}l(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){var t=e.event;return t===gt})):gt in this.config.on),this.strict=!!this.config.strict,this.onEntry=j(this.config.entry||this.config.onEntry).map((function(e){return Le(e)})),this.onExit=j(this.config.exit||this.config.onExit).map((function(e){return Le(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=j(this.config.invoke).map((function(e,t){var n,o;if(K(e)){var r=se(s.id,t);return s.machine.options.services=c((n={},n[r]=e,n),s.machine.options.services),ft({src:r,id:r})}if(V(e.src)){r=e.id||se(s.id,t);return ft(c(c({},e),{id:r,src:e.src}))}if(K(e.src)||q(e.src)){r=e.id||se(s.id,t);return s.machine.options.services=c((o={},o[r]=e.src,o),s.machine.options.services),ft(c(c({id:r},e),{src:r}))}var i=e.src;return ft(c(c({id:se(s.id,t)},e),{src:i}))})),this.activities=j(this.config.activities).concat(this.invoke).map((function(e){return Fe(e)})),this.transition=this.transition.bind(this),this.tags=j(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||ue(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var o=this.options,r=o.actions,i=o.activities,s=o.guards,a=o.services,l=o.delays;return new e(this.config,{actions:c(c({},r),t.actions),activities:c(c({},i),t.activities),guards:c(c({},s),t.guards),services:c(c({},a),t.services),delays:c(c({},l),t.delays)},null!==n&&void 0!==n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return q(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:E(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===gt,n=this.transitions.filter((function(n){var o=n.eventType===e;return t?o:o||n.eventType===yt}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var o=q(t)?"".concat(e.id,":delay[").concat(n,"]"):t,r=Ye(o,e.id);return e.onEntry.push(We(r,{delay:t})),e.onExit.push(ze(r)),r},o=W(t)?t.map((function(e,t){var o=n(e.delay,t);return c(c({},e),{event:o})})):O(Object.keys(t).map((function(e,o){var r=t[e],i=V(r)?{target:r}:r,s=isNaN(+e)?e:+e,a=n(s,o);return j(i).map((function(e){return c(c({},e),{event:a,delay:s})}))})));return o.map((function(t){var n=t.delay;return c(c({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var o=e instanceof rt?e.value:x(e,this.delimiter);if(V(o)){var r=this.getStateNode(o).initial;return void 0!==r?this.getStateNodes((t={},t[o]=r,t)):[this,this.states[o]]}var i=Object.keys(o),s=[this];return s.push.apply(s,d([],p(O(i.map((function(e){return n.getStateNode(e).getStateNodes(o[e])})))),!1)),s},e.prototype.handles=function(e){var t=_(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof rt?e:rt.create(e),n=Array.from(pe([],this.getStateNodes(t.value)));return new rt(c(c({},t),{value:this.resolve(t.value),configuration:n,done:ye(n,this),tags:be(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var o=this.getStateNode(e),r=o.next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var o=Object.keys(e),r=this.getStateNode(o[0]),i=r._transition(e[o[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var o,r,i={};try{for(var s=u(Object.keys(e)),a=s.next();!a.done;a=s.next()){var c=a.value,l=e[c];if(l){var p=this.getStateNode(c),d=p._transition(l,t,n);d&&(i[c]=d)}}}catch(v){o={error:v}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}var h=Object.keys(i).map((function(e){return i[e]})),f=O(h.map((function(e){return e.transitions}))),g=h.some((function(e){return e.transitions.length>0}));if(!g)return this.next(t,n);var m=O(h.map((function(e){return e.entrySet}))),y=O(Object.keys(i).map((function(e){return i[e].configuration})));return{transitions:f,entrySet:m,exitSet:O(h.map((function(e){return e.exitSet}))),configuration:y,source:t,actions:O(Object.keys(i).map((function(e){return i[e].actions})))}},e.prototype._transition=function(e,t,n){return V(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,Q(t))},e.prototype.next=function(e,t){var n,o,r,i=this,s=t.name,a=[],c=[];try{for(var l=u(this.getCandidates(s)),h=l.next();!h.done;h=l.next()){var f=h.value,g=f.cond,m=f.in,y=e.context,v=!m||(V(m)&&bt(m)?e.matches(x(this.getStateNodeById(m).path,this.delimiter)):b(x(m,this.delimiter),I(this.path.slice(0,-2))(e.value))),_=!1;try{_=!g||oe(this.machine,g,y,t,e)}catch(E){throw new Error("Unable to evaluate guard '".concat(g.name||g.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,"':\n").concat(E.message))}if(_&&v){void 0!==f.target&&(c=f.target),a.push.apply(a,d([],p(f.actions),!1)),r=f;break}}}catch(k){n={error:k}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}if(r){if(!c.length)return{transitions:[r],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:a};var w=O(c.map((function(t){return i.getRelativeStateNodes(t,e.historyValue)}))),T=!!r.internal,S=[];return T||c.forEach((function(e){S.push.apply(S,d([],p(i.getExternalReentryNodes(e)),!1))})),{transitions:[r],entrySet:S,exitSet:T?[]:[this],configuration:w,source:e,actions:a}}},e.prototype.getExternalReentryNodes=function(e){var t=[],n=p(e.order>this.order?[e,this]:[this,e],2),o=n[0],r=n[1];while(o&&o!==r)t.push(o),o=o.parent;return o!==r?[]:(t.push(r),t)},e.prototype.getActions=function(e,t,n,o,r,i,s){var a,c,l,h,f=this,g=pe([],i?this.getStateNodes(i.value):[this]);try{for(var m=u(e),y=m.next();!y.done;y=m.next()){var v=y.value;(!ge(g,v)||ge(n.entrySet,v.parent)&&!ge(n.entrySet,v))&&n.entrySet.push(v)}}catch(A){a={error:A}}finally{try{y&&!y.done&&(c=m.return)&&c.call(m)}finally{if(a)throw a.error}}try{for(var b=u(g),_=b.next();!_.done;_=b.next()){v=_.value;ge(e,v)&&!ge(n.exitSet,v.parent)||n.exitSet.push(v)}}catch(R){l={error:R}}finally{try{_&&!_.done&&(h=b.return)&&h.call(b)}finally{if(l)throw l.error}}var w=O(n.entrySet.map((function(e){var t=[];if("final"!==e.type)return t;var i=e.parent;if(!i.parent)return t;t.push(Ze(e.id,e.doneData),Ze(i.id,e.doneData?N(e.doneData,o,r):void 0));var s=i.parent;return"parallel"===s.type&&le(s).every((function(e){return ye(n.configuration,e)}))&&t.push(Ze(s.id)),t})));n.exitSet.sort((function(e,t){return t.order-e.order})),n.entrySet.sort((function(e,t){return e.order-t.order}));var T=new Set(n.entrySet),x=new Set(n.exitSet),S=Array.from(T).map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return Ge(e)}));return Ue(s?d(d([],p(t),!1),p(n),!1):d(d([],p(n),!1),p(t),!1),f.machine.options.actions)})).concat([w.map(Be)]),E=Array.from(x).map((function(e){return Ue(d(d([],p(e.onExit),!1),p(e.activities.map((function(e){return $e(e)}))),!1),f.machine.options.actions)})),k=E.concat([Ue(n.actions,this.machine.options.actions)]).concat(S);if(t){var I=Ue(O(d([],p(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return e.type!==Te&&(e.type!==xe||!!e.to&&e.to!==J.Internal)}));return k.concat([I])}return k},e.prototype.transition=function(e,t,n,o){void 0===e&&(e=this.initialState);var r,i=Q(t);if(e instanceof rt)r=void 0===n?e:this.resolveState(rt.from(e,n));else{var s=V(e)?this.resolve(S(this.getResolvedPath(e))):this.resolve(e),a=null!==n&&void 0!==n?n:this.machine.context;r=this.resolveState(rt.from(s,a))}if(!v&&i.name===yt)throw new Error("An event cannot have the wildcard type ('".concat(yt,"')"));if(this.strict&&!this.events.includes(i.name)&&!P(i.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(i.name,"'"));var c=this._transition(r.value,r,i)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:r,actions:[]},l=pe([],this.getStateNodes(r.value)),u=c.configuration.length?pe(l,c.configuration):l;return c.configuration=d([],p(u),!1),this.resolveTransition(c,r,r.context,o,i)},e.prototype.resolveRaisedTransition=function(e,t,n,o){var r,i=e.actions;return e=this.transition(e,t,void 0,o),e._event=n,e.event=n.data,(r=e.actions).unshift.apply(r,d([],p(i),!1)),e},e.prototype.resolveTransition=function(e,t,n,o,r){var i,s,a,l,d=this;void 0===r&&(r=De);var h=e.configuration,f=!t||e.transitions.length>0,g=f?e.configuration:t?t.configuration:[],m=ye(g,this),y=f?fe(this.machine,h):void 0,v=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,b=this.getActions(new Set(g),m,e,n,r,t,o),_=t?c({},t.activities):{};try{for(var w=u(b),T=w.next();!T.done;T=w.next()){var x=T.value;try{for(var S=(a=void 0,u(x)),E=S.next();!E.done;E=S.next()){var k=E.value;k.type===_e?_[k.activity.id||k.activity.type]=k:k.type===we&&(_[k.activity.id||k.activity.type]=!1)}}catch(V){a={error:V}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(a)throw a.error}}}}catch(z){i={error:z}}finally{try{T&&!T.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}var I=p(et(this,t,n,r,b,o,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),A=I[0],R=I[1],O=p(L(A,(function(e){return e.type===Te||e.type===xe&&e.to===J.Internal})),2),C=O[0],j=O[1],N=A.filter((function(e){var t;return e.type===_e&&(null===(t=e.activity)||void 0===t?void 0:t.type)===Re})),P=N.reduce((function(e,t){return e[t.activity.id]=ct(t.activity,d.machine,R,r),e}),t?c({},t.children):{}),D=new rt({value:y||t.value,context:R,_event:r,_sessionid:t?t._sessionid:null,historyValue:y?v?F(v,y):void 0:t?t.historyValue:void 0,history:!y||e.source?t:void 0,actions:y?j:[],activities:y?_:t?t.activities:{},events:[],configuration:g,transitions:e.transitions,children:P,done:m,tags:be(g),machine:this}),M=n!==R;D.changed=r.name===je||M;var U=D.history;U&&delete U.history;var B=!m&&(this._transient||h.some((function(e){return e._transient})));if(!f&&(!B||r.name===gt))return D;var H=D;if(!m){B&&(H=this.resolveRaisedTransition(H,{type:Ee},r,o));while(C.length){var W=C.shift();H=this.resolveRaisedTransition(H,W._event,r,o)}}var q=H.changed||(U?!!H.actions.length||M||typeof U.value!==typeof H.value||!tt(H.value,U.value):void 0);return H.changed=q,H.history=U,H},e.prototype.getStateNode=function(e){if(bt(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=bt(e)?e.slice(mt.length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"===typeof e&&bt(e))try{return this.getStateNodeById(e.slice(1))}catch(r){}var t=w(e,this.delimiter).slice(),n=this;while(t.length){var o=t.shift();if(!o.length)break;n=n.getStateNode(o)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||vt;switch(this.type){case"parallel":return E(this.initialStateValue,(function(t,o){return t?n.getStateNode(o).resolve(e[o]||t):vt}));case"compound":if(V(e)){var o=this.getStateNode(e);return"parallel"===o.type||"compound"===o.type?(t={},t[e]=o.initialStateValue,t):e}return Object.keys(e).length?E(e,(function(e,t){return e?n.getStateNode(t).resolve(e):vt})):this.initialStateValue||{};default:return e||vt}},e.prototype.getResolvedPath=function(e){if(bt(e)){var t=this.machine.idMap[e.slice(mt.length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return w(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=k(this.states,(function(e){return e.initialStateValue||vt}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=ae(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!==t&&void 0!==t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=V(t.target)&&bt(t.target)?S(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;if(ae(this))return[this];if("compound"===this.type&&!this.initial)return v||H(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var t=R(this.initialStateValue);return O(t.map((function(t){return e.getFromRelativePath(t)})))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=p(e),n=t[0],o=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var r=this.getStateNode(n);if("history"===r.type)return r.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(o)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:k(this.states,(function(t,n){if(!e)return t.historyValue();var o=V(e)?void 0:e[n];return t.historyValue(o||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var o=this.target;return o?O(R(o).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var r=A(n.path,"states")(e).current;return V(r)?[n.getStateNode(r)]:O(R(r).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=O(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,o;if(this.__cache.events)return this.__cache.events;var r=this.states,i=new Set(this.ownEvents);if(r)try{for(var s=u(Object.keys(r)),a=s.next();!a.done;a=s.next()){var c=a.value,l=r[c];if(l.states)try{for(var p=(n=void 0,u(l.events)),d=p.next();!d.done;d=p.next()){var h=d.value;i.add("".concat(h))}}catch(f){n={error:f}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}}catch(g){e={error:g}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!V(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var o=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(o);try{var r=t.parent.getStateNodeByPath(o);return r}catch(i){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(i.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=te(e.target),o="internal"in e?e.internal:!n||n.some((function(e){return V(e)&&e[0]===t.delimiter})),r=this.machine.options.guards,i=this.resolveTarget(n),s=c(c({},e),{actions:Ue(j(e.actions)),cond:z(e.cond,r),target:i,source:this,internal:o,eventType:e.event,toJSON:function(){return c(c({},s),{target:s.target?s.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return s},e.prototype.formatTransitions=function(){var e,t,n,o=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var r=this.config.on,i=yt,s=r[i],a=void 0===s?[]:s,c=l(r,["symbol"===typeof i?i:i+""]);n=O(Object.keys(c).map((function(e){v||e!==gt||H(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(o.id,'".'));var t=ee(e,c[e]);return v||wt(o,e,t),t})).concat(ee(yt,a)))}else n=[];var h=this.config.always?ee("",this.config.always):[],f=this.config.onDone?ee(String(Ze(this.id)),this.config.onDone):[];v||H(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var g=O(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,d([],p(ee(String(Je(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,d([],p(ee(String(Xe(e.id)),e.onError)),!1)),t}))),m=this.after,y=O(d(d(d(d([],p(f),!1),p(g),!1),p(n),!1),p(h),!1).map((function(e){return j(e).map((function(e){return o.formatTransition(e)}))})));try{for(var b=u(m),_=b.next();!_.done;_=b.next()){var w=_.value;y.push(w)}}catch(T){e={error:T}}finally{try{_&&!_.done&&(t=b.return)&&t.call(b)}finally{if(e)throw e.error}}return y},e}(),xt=!1;function St(e,t){return v||e.predictableActionArguments||xt||(xt=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new Tt(e,t)}var Et={deferEvents:!1},kt=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=c(c({},Et),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){var e=this.queue.shift();while(e)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(t){throw this.clear(),t}finally{this.processingEvent=!1}},e}(),It=new Map,At=0,Rt={bookId:function(){return"x:".concat(At++)},register:function(e,t){return It.set(e,t),e},get:function(e){return It.get(e)},free:function(e){It.delete(e)}};function Ot(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:void(v||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}function Ct(){var e=Ot();if(e&&"__xstate__"in e)return e.__xstate__}function jt(e){if(Ot()){var t=Ct();t&&t.register(e)}}function Nt(e,t){void 0===t&&(t={});var n=e.initialState,o=new Set,r=[],i=!1,s=function(){if(!i){i=!0;while(r.length>0){var t=r.shift();n=e.transition(n,t,c),o.forEach((function(e){return e.next(n)}))}i=!1}},a=dt({id:t.id,send:function(e){r.push(e),s()},getSnapshot:function(){return n},subscribe:function(e,t,r){var i=ie(e,t,r);return o.add(i),i.next(n),{unsubscribe:function(){o.delete(i)}}}}),c={parent:t.parent,self:a,id:t.id||"anonymous",observers:o};return n=e.start?e.start(c):n,a}var Pt,Dt={sync:!1,autoForward:!1};(function(e){e[e["NotStarted"]=0]="NotStarted",e[e["Running"]=1]="Running",e[e["Stopped"]=2]="Stopped"})(Pt||(Pt={}));var Mt=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var o=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Pt.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(W(e))return o.batch(e),o.state;var n=Q(X(e,t));if(o.status===Pt.Stopped)return v||H(!1,'Event "'.concat(n.name,'" was sent to stopped service "').concat(o.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(n.data))),o.state;if(o.status!==Pt.Running&&!o.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(o.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return o.scheduler.schedule((function(){o.forward(n);var e=o._nextState(n);o.update(e,n)})),o._state},this.sendTo=function(e,t,n){var r=o.parent&&(t===J.Parent||o.parent.id===t),i=r?o.parent:V(t)?o.children.get(t)||Rt.get(t):Y(t)?t:void 0;if(i)if("machine"in i){if(o.status!==Pt.Stopped||o.parent!==i||o.state.done){var s=c(c({},e),{name:e.name===Ce?"".concat(Xe(o.id)):e.name,origin:o.sessionId});!n&&o.machine.config.predictableActionArguments?o._outgoingQueue.push([i,s]):i.send(s)}}else!n&&o.machine.config.predictableActionArguments?o._outgoingQueue.push([i,e.data]):i.send(e.data);else{if(!r)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(o.id,"'."));v||H(!1,"Service '".concat(o.id,"' has no parent: unable to send event ").concat(e.type))}},this._exec=function(e,t,n,r){void 0===r&&(r=o.machine.options.actions);var i=e.exec||Me(e.type,r),s=q(i)?i:i?i.exec:e.exec;if(s)try{return s(t,n.data,o.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:o.state,_event:n})}catch(_){throw o.parent&&o.parent.send({type:"xstate.error",data:_}),_}switch(e.type){case xe:var a=e;if("number"===typeof a.delay)return void o.defer(a);a.to?o.sendTo(a._event,a.to,n===De):o.send(a._event);break;case Se:o.cancel(e.sendId);break;case _e:if(o.status!==Pt.Running)return;var c=e.activity;if(!o.machine.config.predictableActionArguments&&!o.state.activities[c.id||c.type])break;if(c.type===Z.Invoke){var l=re(c.src),u=o.machine.options.services?o.machine.options.services[l.type]:void 0,p=c.id,d=c.data;v||H(!("forward"in c),"`forward` property is deprecated (found in invocation of '".concat(c.src,"' in in machine '").concat(o.machine.id,"'). ")+"Please use `autoForward` instead.");var h="autoForward"in c?c.autoForward:!!c.forward;if(!u)return void(v||H(!1,"No service found for invocation '".concat(c.src,"' in machine '").concat(o.machine.id,"'.")));var f=d?N(d,t,n):void 0;if("string"===typeof u)return;var g=q(u)?u(t,n.data,{data:f,src:l,meta:c.meta}):u;if(!g)return;var m=void 0;K(g)&&(g=f?g.withContext(f):g,m={autoForward:h}),o.spawn(g,p,m)}else o.spawnActivity(c);break;case we:o.stopChild(e.activity.id);break;case Ie:var y=e.label,b=e.value;y?o.logger(y,b):o.logger(b);break;default:v||H(!1,"No implementation found for action type '".concat(e.type,"'"));break}};var r=c(c({},e.defaultOptions),n),i=r.clock,s=r.logger,a=r.parent,l=r.id,u=void 0!==l?l:t.id;this.id=u,this.logger=s,this.clock=i,this.parent=a,this.options=r,this.scheduler=new kt({deferEvents:this.options.deferEvents}),this.sessionId=Rt.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:st(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return v||H(this.status!==Pt.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,o;try{for(var r=u(e.actions),i=r.next();!i.done;i=r.next()){var s=i.value;this.exec(s,e,t)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,o,r,i,s,a,c,l,p=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==De||!this.options.execute){var d=void 0;while(d=this._outgoingQueue.shift())d[0].send(d[1])}else this.execute(this.state);if(this.children.forEach((function(e){p.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var h=u(this.eventListeners),f=h.next();!f.done;f=h.next()){var g=f.value;g(e.event)}}catch(E){n={error:E}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}try{for(var m=u(this.listeners),y=m.next();!y.done;y=m.next()){g=y.value;g(e,e.event)}}catch(k){r={error:k}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}try{for(var v=u(this.contextListeners),b=v.next();!b.done;b=v.next()){var _=b.value;_(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(I){s={error:I}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}if(this.state.done){var w=e.configuration.find((function(e){return"final"===e.type&&e.parent===p.machine})),T=w&&w.doneData?N(w.doneData,e.context,t):void 0;try{for(var x=u(this.doneListeners),S=x.next();!S.done;S=x.next()){g=S.value;g(Je(this.id,T))}}catch(A){c={error:A}}finally{try{S&&!S.done&&(l=x.return)&&l.call(x)}finally{if(c)throw c.error}}this._stop(),this._stopChildren()}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Pt.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var o=this,r=ie(e,t,n);this.listeners.add(r.next),this.status!==Pt.NotStarted&&r.next(this.state);var i=function(){o.doneListeners.delete(i),o.stopListeners.delete(i),r.complete()};return this.status===Pt.Stopped?r.complete():(this.onDone(i),this.onStop(i)),{unsubscribe:function(){o.listeners.delete(r.next),o.doneListeners.delete(i),o.stopListeners.delete(i)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===Pt.Running)return this;this.machine._init(),Rt.register(this.sessionId,this),this.initialized=!0,this.status=Pt.Running;var n=void 0===e?this.initialState:st(this,(function(){return nt(e)?t.machine.resolveState(e):t.machine.resolveState(rt.from(e,t.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(n,De)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){q(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,o,r,i,s,a,c,l;try{for(var p=u(this.listeners),d=p.next();!d.done;d=p.next()){var h=d.value;this.listeners.delete(h)}}catch(x){e={error:x}}finally{try{d&&!d.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}try{for(var f=u(this.stopListeners),g=f.next();!g.done;g=f.next()){h=g.value;h(),this.stopListeners.delete(h)}}catch(S){n={error:S}}finally{try{g&&!g.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}try{for(var m=u(this.contextListeners),y=m.next();!y.done;y=m.next()){h=y.value;this.contextListeners.delete(h)}}catch(E){r={error:E}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}try{for(var v=u(this.doneListeners),b=v.next();!b.done;b=v.next()){h=b.value;this.doneListeners.delete(h)}}catch(k){s={error:k}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Pt.Stopped,this._initialState=void 0;try{for(var _=u(Object.keys(this.delayedEventsMap)),w=_.next();!w.done;w=_.next()){var T=w.value;this.clock.clearTimeout(this.delayedEventsMap[T])}}catch(I){c={error:I}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new kt({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t=Q({type:"xstate.stop"}),n=st(e,(function(){var n=O(d([],p(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return Ue(t.onExit,e.machine.options.actions)}))),o=p(et(e.machine,e.state,e.state.context,t,[n],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),r=o[0],i=o[1],s=new rt({value:e.state.value,context:i,_event:t,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:r.filter((function(e){return e.type!==Te&&(e.type!==xe||!!e.to&&e.to!==J.Internal)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return s.changed=!0,s}));e.update(n,t),e._stopChildren(),Rt.free(e.sessionId)})),this},e.prototype.batch=function(e){var t=this;if(this.status===Pt.NotStarted&&this.options.deferEvents)v||H(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==Pt.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var o,r,i=t.state,s=!1,a=[],c=function(e){var o=Q(e);t.forward(o),i=st(t,(function(){return t.machine.transition(i,o,void 0,n||void 0)})),a.push.apply(a,d([],p(t.machine.config.predictableActionArguments?i.actions:i.actions.map((function(e){return ot(e,i)}))),!1)),s=s||!!i.changed};try{for(var l=u(e),h=l.next();!h.done;h=l.next()){var f=h.value;c(f)}}catch(g){o={error:g}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(o)throw o.error}}i.changed=s,i.actions=a,t.update(i,Q(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var o=Q(e);if(0===o.name.indexOf(Oe)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(Oe)})))throw o.data.data;var r=st(this,(function(){return n.machine.transition(n.state,o,void 0,t||void 0)}));return r},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var o=u(this.forwardTo),r=o.next();!r.done;r=o.next()){var i=r.value,s=this.children.get(i);if(!s)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(i,"'."));s.send(e)}}catch(a){t={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout((function(){e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),q(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==Pt.Running)return lt(e,t);if(D(e))return this.spawnPromise(Promise.resolve(e),t);if(q(e))return this.spawnCallback(e,t);if(pt(e))return this.spawnActor(e,t);if(G(e))return this.spawnObservable(e,t);if(K(e))return this.spawnMachine(e,c(c({},n),{id:t}));if(M(e))return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'))},e.prototype.spawnMachine=function(t,n){var o=this;void 0===n&&(n={});var r=new e(t,c(c({},this.options),{parent:this,id:n.id||t.id})),i=c(c({},Dt),n);i.sync&&r.onTransition((function(e){o.send(je,{state:e,id:r.id})}));var s=r;return this.children.set(r.id,s),i.autoForward&&this.forwardTo.add(r.id),r.onDone((function(e){o.removeChild(r.id),o.send(Q(e,{origin:r.id}))})).start(),s},e.prototype.spawnBehavior=function(e,t){var n=Nt(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,o,r=this,i=!1;e.then((function(e){i||(o=e,r.removeChild(t),r.send(Q(Je(t,e),{origin:t})))}),(function(e){if(!i){r.removeChild(t);var n=Xe(t,e);try{r.send(Q(n,{origin:t}))}catch(o){ne(e,o,t),r.devTools&&r.devTools.send(n,r.state),r.machine.strict&&r.stop()}}}));var s=(n={id:t,send:function(){},subscribe:function(t,n,o){var r=ie(t,n,o),i=!1;return e.then((function(e){i||(r.next(e),i||r.complete())}),(function(e){i||r.error(e)})),{unsubscribe:function(){return i=!0}}},stop:function(){i=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return o}},n[$]=function(){return this},n);return this.children.set(t,s),s},e.prototype.spawnCallback=function(e,t){var n,o,r,i=this,s=!1,a=new Set,c=new Set,l=function(e){o=e,c.forEach((function(t){return t(e)})),s||i.send(Q(e,{origin:t}))};try{r=e(l,(function(e){a.add(e)}))}catch(p){this.send(Xe(t,p))}if(D(r))return this.spawnPromise(r,t);var u=(n={id:t,send:function(e){return a.forEach((function(t){return t(e)}))},subscribe:function(e){var t=ie(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){s=!0,q(r)&&r()},toJSON:function(){return{id:t}},getSnapshot:function(){return o}},n[$]=function(){return this},n);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var n,o,r=this,i=e.subscribe((function(e){o=e,r.send(Q(e,{origin:t}))}),(function(e){r.removeChild(t),r.send(Q(Xe(t,e),{origin:t}))}),(function(){r.removeChild(t),r.send(Q(Je(t),{origin:t}))})),s=(n={id:t,send:function(){},subscribe:function(t,n,o){return e.subscribe(t,n,o)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:t}}},n[$]=function(){return this},n);return this.children.set(t,s),s},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}else v||H(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,(n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},n[$]=function(){return this},n))},e.prototype.attachDev=function(){var e=Ot();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"===typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(c(c({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:c({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}jt(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[$]=function(){return this},e.prototype.getSnapshot=function(){return this.status===Pt.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=Lt,e}();function Lt(e,t){var n=new Mt(e,t);return n}var Ut=n(8001),Ft=n(5432);const Bt=St(s),Ht=St(a),Wt=Lt(Ht).start(),qt=Lt(Bt).start(),Vt=(0,o.iH)("TalkGroups"),zt=(0,o.iH)({name:"TalkGroups",param:{}}),{undo:Gt,batch:$t}=(0,i.x9X)(zt,{deep:!0});let Kt=null;const Yt=(0,r.Fl)((()=>Ut.loginedUserState.isOfficial?Wt:qt)),Zt=()=>{Gt(),Jt(zt.value.name,zt.value.param,!0)},Jt=(e,t,n)=>{const r=(0,o.SU)(Yt);r.send(e);const i=t||{};n||$t((()=>{zt.value.name=e,Object.assign(zt.value.param,i)}))},Xt=e=>{const t={official:Wt.machine.initial,normal:qt.machine.initial};Vt.value=t[e]},Qt=(0,o.OT)(Vt),en=()=>{"TalkGroups"!==Vt.value&&Jt("reset"),Yt.value.stop(),Kt?.unsubscribe(),Kt=null},tn=()=>{Kt||(Yt.value.start(),Kt=Yt.value.subscribe((function(e){e.changed&&(Vt.value=e.value)})))},nn={FRIEND_LISTS:{name:"FriendLists",layout:""},TALK_GROUPS:{name:"TalkGroups",layout:""},TALKING_ROOM:{name:"TalkingRoom",layout:""},ROOM_INFO:{name:"RoomInfo",layout:""},PERSONAL_INFO:{name:"PersonalInfo",layout:""},OFFICIAL_FRIEND_LISTS:{name:"OfficialFriendLists",layout:""},OFFICIAL_TALK_GROUPS:{name:"OfficialTalkGroups",layout:""},OFFICIAL_TALKING_ROOM:{name:"OfficialTalkingRoom",layout:""},OFFICIAL_ROOM_INFO:{name:"OfficialRoomInfo",layout:""},OFFICIAL_PERSONAL_INFO:{name:"OfficialPersonalInfo",layout:""}},on=e=>{Ft.updatePersonalID(e),Jt("PersonalInfo",{userID:e})},rn=e=>{let t="";for(const n in nn)if(nn[n].name===e){t=nn[n].layout;break}return t}},8001:function(e,t,n){"use strict";n.r(t),n.d(t,{addHiddenFriend:function(){return le},addPinnedFriend:function(){return ie},allFriendsCount:function(){return D},blackUids:function(){return j},clearAllInfo:function(){return de},clearNeedGetInfoUsers:function(){return K},defaultUserInfo:function(){return x},enableNotify:function(){return W},filterNotVisibleFriends:function(){return oe},firebaseToken:function(){return E},friendAllOptions:function(){return M},friends:function(){return R},getUserAndUpdateFriendLists:function(){return $},getUserInfo:function(){return H},handleWatchFirebaseToken:function(){return G},handleWatchPanToken:function(){return z},hiddenFriends:function(){return P},loadHiddenFriendByPagination:function(){return pe},loginedUserState:function(){return I},needGetInfoUsers:function(){return k},panToken:function(){return S},pinnedFriends:function(){return N},removeBlackUid:function(){return Z},removeHiddenFriend:function(){return ue},removePinnedFriend:function(){return se},updateAllFriendsCount:function(){return Q},updateBlackUids:function(){return X},updateEnableNotifyStatus:function(){return J},updateFirebaseToken:function(){return ee},updateFriends:function(){return Y},updatePanToken:function(){return te},updateUser:function(){return ne},userMap:function(){return B},userState:function(){return A},users:function(){return F},watchThrottleNeedGet:function(){return q},watchUser:function(){return V}});var o=n(6599),r=(n(6728),n(8896)),i=n(1703),s=n(7240),a=n(8936),c=n(4688),l=n(2781),u=n(2814),p=n(6772),d=n(2212),h=n(9633),f=n(5254);const g=e=>{if(""!==e){const t=f.qb.statusRef(e);(0,p.pl)(t,{State:"online",LastChanged:(0,h.Bt)(),TTL_Time:(0,d.Z)(new Date,{minutes:20})})}};var m=n(147),y=n(3336),v=n(8372),b=n(9079),_=n(1812),w=n(8268),T=n(4070);const x={numberId:0,uid:"",displayName:"",email:"",objectId:"",photoURL:"",refreshToken:""},S=(0,r.iH)(""),E=(0,r.iH)(""),k=(0,r.iH)([]),I=(0,r.qj)({numberId:0,uid:"",displayName:null,email:null,objectId:null,photoURL:null,refreshToken:null,isOfficial:!1}),A=(0,i.Fl)((()=>_.$D.value?I:null)),R=(0,r.qj)([]),O=(0,r.qj)([]),C=(0,r.qj)([]),j=(0,r.qj)([]),N=(0,r.OT)(O),P=(0,r.OT)(C),D=(0,r.iH)(0),M=(0,r.qj)({page:1,pageSize:w.Sr,includeHidden:!1,includePinned:!0,includeBlack:!1});class L{constructor(){(0,o.Z)(this,"_hideFriendPage",1),(0,o.Z)(this,"_apiTotalCount",0)}get page(){return this._hideFriendPage}get totalCount(){return this._apiTotalCount}updatePage(){this._hideFriendPage++}updateTotalCount(e){this._apiTotalCount=e}resetPage(e){this._hideFriendPage=1,this._apiTotalCount=e}}const U=new L,F=(0,r.qj)([]),B=(0,i.Fl)((()=>new Map(F.map((e=>[e.uid,e]))))),H=(0,i.Fl)((()=>e=>B.value.get(e))),W=(0,r.iH)(!0),q=(0,s.H)(k.value,(e=>{const t=[...e.filter((e=>!B.value.has(e)))];0!==t.length&&(w.SO(t),K())}),{throttle:10,trailing:!0,leading:!1}),V=(0,i.YP)(A,(async e=>{if(null!==e&&""!==e.uid){const t=e.uid||"";c.wc(t),c.x4(),re(),ae(U.page),$(t),g(t),(0,u.g4)(t).then((e=>{e.getExisted()||(0,u.yA)(t)})),(0,m.XB)().then(Q).catch((e=>console.log(e))),f.n5.getBlackUserLists(t).then(X).catch((e=>console.log(e))),f.n5.getNotifyStatus(t).then(J).catch((e=>console.log(e))),y.vG().then((e=>{const t=e.getAccountList().map((e=>e.getHashUid()));b.NV(t)})).catch((e=>console.log(e))),v.cj(t).catch((e=>console.error("backLog error: "+e)))}})),z=e=>{""!==e&&(0,l.w)(e)},G=e=>{if(""!==e){const{payload:t}=(0,T.k)(e),{isOfficial:n=!1}=t.value?.claims||{};I.isOfficial=n,_.m3(e)}},$=async e=>{try{const t=await(0,m.oH)(M),n=t.getFriendList().map((e=>e.getHashUid()));M.page=(t.getPaginator()?.getCurrPage()||M.page)+1;const o=n.filter((t=>t!==e&&-1===R.indexOf(t)));o.length>0&&k.value.push(...o),Y([...R,...o]),await pe()}catch(t){console.log(t)}},K=()=>{k.value.splice(0)},Y=e=>{(0,a.resetOriginalList)(R,e)},Z=e=>{const t=j.findIndex((t=>t===e));-1!==t&&j.splice(t,1)},J=e=>{W.value=e},X=e=>{(0,a.resetOriginalList)(j,e)},Q=e=>D.value=e,ee=e=>E.value=e,te=e=>S.value=e,ne=({numberId:e,uid:t,displayName:n,email:o,objectId:r,photoURL:i,refreshToken:s})=>{I.numberId=e,I.uid=t,I.displayName=n,I.email=o,I.photoURL=i,I.refreshToken=s,I.objectId=r},oe=e=>e?(0,a.filterBlocklist)(e,O,j,C):[],re=async()=>{const e=await(0,m.O)();e.length>0&&k.value.push(...e),(0,a.resetOriginalList)(O,e)},ie=e=>{const t=[...new Set(e)];(0,a.addDataToList)(O,t)},se=e=>{const t=[...new Set(e)];(0,a.removeDataFromList)(O,t)},ae=async e=>{const{friendsList:t,totalCount:n}=await(0,m.BD)({page:e,pageSize:w.Sr});k.value.push(...t),U.updateTotalCount(n),U.updatePage(),(0,a.resetOriginalList)(C,t)},ce=()=>C.length,le=e=>{const t=[...new Set(e)];(0,a.addDataToList)(C,t)},ue=e=>{const t=[...new Set(e)];(0,a.removeDataFromList)(C,t)},pe=async()=>{if(ce()<U.totalCount){const{friendsList:e,totalCount:t}=await(0,m.BD)({page:U.page,pageSize:w.Sr});k.value.push(...e),U.updatePage(),U.updateTotalCount(t),le(e)}},de=()=>{te(""),ee(""),Q(0),K(),ne({...x}),M.page=1,M.pageSize=w.Sr,Y([]),X([]),(0,a.resetOriginalList)(F,[]),(0,a.resetOriginalList)(O,[]),(0,a.resetOriginalList)(C,[])}},3901:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var o=n(8896);const r=(0,o.qj)(new Map)},6642:function(e,t,n){"use strict";var o,r,i,s,a,c;n.d(t,{Cs:function(){return r},D3:function(){return c},Kg:function(){return o},YS:function(){return i},pW:function(){return s},u9:function(){return a}}),function(e){e["Expire"]="Expire",e["CanReceive"]="CanReceive",e["IsBeforeTransTime"]="IsBeforeTransTime"}(o||(o={})),function(e){e[e["Text"]=0]="Text",e[e["Public"]=1]="Public",e[e["Trans"]=2]="Trans",e[e["Announcement"]=100]="Announcement"}(r||(r={})),function(e){e[e["TypeNone"]=0]="TypeNone",e[e["TypeTrans"]=1]="TypeTrans"}(i||(i={})),function(e){e[e["TRECreated"]=0]="TRECreated",e[e["TREReceived"]=1]="TREReceived",e[e["TRECanceled"]=2]="TRECanceled",e[e["TREImmediately"]=3]="TREImmediately",e[e["TREFreeze"]=4]="TREFreeze",e[e["TREUnfreeze"]=5]="TREUnfreeze",e[e["TREAdministratorCanceled"]=6]="TREAdministratorCanceled",e[e["TREAdministratorCanceledFreezed"]=7]="TREAdministratorCanceledFreezed"}(s||(s={})),function(e){e[e["PubActionNone"]=0]="PubActionNone",e[e["PubActionPanValidatePhone"]=1]="PubActionPanValidatePhone",e[e["PubActionTransfer"]=2]="PubActionTransfer",e[e["PubActionKnowMoreTransferInfo"]=3]="PubActionKnowMoreTransferInfo"}(a||(a={})),function(e){e[e["NONE"]=0]="NONE",e[e["PUBLISHED"]=1]="PUBLISHED",e[e["RESERVE"]=2]="RESERVE",e[e["DELETED"]=3]="DELETED"}(c||(c={}))},7770:function(e,t,n){"use strict";n.d(t,{FE:function(){return p},I7:function(){return h},a0:function(){return d},xv:function(){return u}});var o=n(6599),r=n(8896),i=n(8936),s=n(1267),a=n(581),c=n(6642);class l{constructor(e){(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"SenderID",void 0),(0,o.Z)(this,"AllowRead",void 0),(0,o.Z)(this,"Created",void 0),(0,o.Z)(this,"Modified",void 0),(0,o.Z)(this,"Type",void 0),(0,o.Z)(this,"Process",void 0),(0,o.Z)(this,"responseStatus",void 0),this.id=e.id,this.SenderID=e.SenderID,this.AllowRead=e.AllowRead,this.Created=e.Created,this.Modified=e.Modified,this.Type=e.Type,this.Process=e.Process,this.responseStatus=e.responseStatus}get createTime(){return(0,i.TimeFormat)(i.timeFormat.HMMAAA,this.Created)}get createDate(){return`${(0,i.TimeFormat)(i.timeFormat.MMDD,this.Created)} (${(0,i.TimeFormat)(i.timeFormat.EEEEE,this.Created)})`}otherUserId(e){return a.hu.include(this.AllowRead,e,"hashId shoud in this.allowRead"),this.AllowRead.find((t=>t!==e))||""}isMe(e){return this.SenderID===e}}class u extends l{constructor(e){super({id:e.id,SenderID:e.SenderID,AllowRead:e.AllowRead,Created:e.Created,Modified:e.Modified,Type:c.Cs.Text,Process:e.Process,responseStatus:e.responseStatus}),(0,o.Z)(this,"Text",void 0),(0,o.Z)(this,"ImageAll",void 0),(0,o.Z)(this,"VideoAll",void 0),(0,o.Z)(this,"Status",void 0),(0,o.Z)(this,"ReplyTo",void 0),this.Text=e.Text,this.ImageAll=e.ImageAll,this.VideoAll=e.VideoAll,this.Status=e.Status,this.ReplyTo=e.ReplyTo}get lastMessage(){return this.Status!=s.N.TAKE_BACK?this.hasImages?"[圖片]":this.Text:"[訊息已經撤回]"}get hasImages(){return this.ImageAll.length>=1}get isTidyBlackType(){return!1}get isTransferType(){return!1}get isTextType(){return!0}get isAnnouncementType(){return!1}}class p extends l{constructor(e){super({id:e.id,SenderID:e.SenderID,AllowRead:e.AllowRead,Created:e.Created,Modified:e.Modified,Type:c.Cs.Trans,Process:e.Process,responseStatus:"OK"}),(0,o.Z)(this,"TransId",void 0),(0,o.Z)(this,"TransPoint",void 0),(0,o.Z)(this,"TransStatus",void 0),(0,o.Z)(this,"TransTime",void 0),(0,o.Z)(this,"Deadline",void 0),(0,o.Z)(this,"TransformLastText",void 0),this.TransId=e.TransId,this.TransPoint=e.TransPoint,this.TransStatus=e.TransStatus,this.TransTime=e.TransTime,this.Deadline=this.TransTime+(0,i.dayToMilliseconds)(i.RECEIVE_TRANSFER_DAYS),this.TransformLastText=e.TransformLastText}get lastMessage(){return this.TransformLastText}get isCanReceive(){return!this.isBeforeTransTime&&!this.isExpire}get isBeforeTransTime(){const e=(new Date).getTime();return(0,i.TimeBefore)(e,this.TransTime)&&this.TransStatus!==c.pW.TREImmediately}get isExpire(){const e=(new Date).getTime();return(0,i.TimeBefore)(this.Deadline,e)}get transTimeStatus(){return this.isBeforeTransTime?c.Kg.IsBeforeTransTime:this.isCanReceive?c.Kg.CanReceive:c.Kg.Expire}get isTidyBlackType(){return!1}get isTransferType(){return!0}get isTextType(){return!1}get isAnnouncementType(){return!1}}class d extends l{constructor(e){super({id:e.id,SenderID:e.SenderID,AllowRead:e.AllowRead,Created:e.Created,Modified:e.Modified,Type:c.Cs.Public,Process:e.Process,responseStatus:"OK"}),(0,o.Z)(this,"PubText",void 0),(0,o.Z)(this,"PubAction",void 0),(0,o.Z)(this,"TransformLastText",void 0),this.PubText=e.PubText,this.PubAction=e.PubAction,this.TransformLastText=e.TransformLastText}get lastMessage(){const e=new RegExp(/<br\s*[/]?>/gim);return this.TransformLastText.replace(e,"")}get isTextType(){return!1}get isTransferType(){return!1}get isTidyBlackType(){return!0}get isAnnouncementType(){return!1}}class h extends l{constructor(e){super({id:e.id,SenderID:e.SenderID,AllowRead:e.AllowRead,Created:e.Created,Modified:e.Modified,Type:c.Cs.Announcement,Process:e.Process,responseStatus:"OK"}),(0,o.Z)(this,"AnnouncementId",void 0),(0,o.Z)(this,"Text",void 0),(0,o.Z)(this,"AnnouncementStatus",void 0),(0,o.Z)(this,"PublishedTime",void 0),this.Text=e.Text,this.AnnouncementId=e.AnnouncementId,this.AnnouncementStatus=e.AnnouncementStatus,this.PublishedTime=e.PublishedTime}get lastMessage(){const e=(0,r.SU)(this.Text);return e}get isTidyBlackType(){return!1}get isTransferType(){return!1}get isTextType(){return!1}get isAnnouncementType(){return!0}}},5816:function(e,t,n){"use strict";n.d(t,{O5:function(){return d},ZH:function(){return p},_o:function(){return f},WL:function(){return g},Po:function(){return m},mw:function(){return u}});var o=n(6599),r=n(2396),i="firebase",s="9.6.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,r.KN)(i,s,"app");var a=n(1236);class c{constructor(e,t){(0,o.Z)(this,"_analytics",void 0),(0,o.Z)(this,"env",void 0),(0,o.Z)(this,"firebaseInstance",void 0),this.env=e,this.firebaseInstance=t,this._analytics=this.isProduction()?(0,a.IH)(t):null}isProduction(){return"production"===this.env}logSendMessage(e){this.isProduction()&&null!==this._analytics&&(0,a.Kz)(this._analytics,"sendMessage",{user_id:e})}}const l=new Map,u=e=>{const t={apiKey:e.apiKey,authDomain:e.authDomain,databaseURL:e.databaseURL,projectId:e.projectId,storageBucket:e.storageBucket,messagingSenderId:e.messagingSenderId,appId:e.appId,measurementId:e.measurementId};let n;return l.has(e.firebaseName)?n=l.get(e.firebaseName):(n=(0,r.ZF)(t,e.firebaseName),l.set(e.firebaseName,n)),{INSTANCE:n}},p=(e,t)=>new c(e,t);var d,h=n(6772);(function(e){e["FRIEND_ALL"]="FriendAll",e["USER_ALL"]="UserAll",e["BLACKED_FRIEND_ALL"]="BlackedFriendAll",e["ROOM_ALL"]="RoomAll",e["MESSAGE_ALL"]="MessageAll",e["ANNOUNCE_ALL"]="AnnounceAll",e["MESSAGE_SHARD_ALL"]="MessageShardAll",e["ROOM_PARTICIPANT_ALL"]="RoomParticipantAll",e["REPORTED_ABUSE_ALL"]="ReportedAbuseAll",e["ANNOUNCEMENT_ALL"]="AnnouncementAll",e["BUSINESS"]="Business",e["USER_ONLINE"]="UserOnline",e["PLACARD_ALL"]="PlacardAll"})(d||(d={}));const f=(e,t)=>(0,h.hJ)(e,t),g=(e,t)=>(0,h.hJ)(t,e),m=(e,t)=>(0,h.B$)(t,e)},4184:function(e,t,n){"use strict";n.d(t,{d:function(){return b}});var o=n(8896),r=n(1703),i=n(1243);function s(e,t,n,o,i,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(e.mode),null,{default:(0,r.w5)((()=>[e.isShow?((0,r.wg)(),(0,r.j4)((0,r.LL)(e.componentName),(0,r.dG)({key:0,ref:"modal"},e.myProps,{onClose:e.close}),null,16,["onClose"])):(0,r.kq)("",!0)])),_:1})}var a=n(2180),c=n(8936);function l(e,t,n,o,s,a){return(0,r.wg)(),(0,r.j4)(i.uT,{name:"pop"},{default:(0,r.w5)((()=>[(0,r.WI)(e.$slots,"default",{},void 0,!0)])),_:3})}var u=(0,r.aZ)({name:"PopUpTransition"}),p=n(2280);const d=(0,p.Z)(u,[["render",l],["__scopeId","data-v-39481f60"]]);var h=d,f=h,g=n(647),m=(0,r.aZ)({name:"ModalWrap",props:{isShow:{type:Boolean,required:!0},close:{type:Function,required:!0},component:{type:String,required:!0},mode:{type:String,default:"popUp"},myProps:{type:Object,required:!0}},components:{PopUp:f,Fade:g.Z},setup(e){const{component:t,isShow:i}=(0,o.BK)(e),s=(0,o.iH)(null),l=(0,r.RC)((()=>n(4091)(`./${t.value}.vue`)));return(0,r.m0)((()=>{if(!i.value)return;const e=(0,c.findMaxZindex)();(0,a.NXq)(s)&&((0,a.NXq)(s).style.zIndex=e.toString())})),{componentName:l,modal:s}}});const y=(0,p.Z)(m,[["render",s]]);var v=y;const b=e=>{function t(t,n){const s=document.createElement("div"),a=document.getElementById(e)||document.body,l=()=>{u.isShow=!1,setTimeout((()=>{d.unmount(),s?.parentNode?.removeChild(s)}),500)},u=(0,o.qj)({isShow:!1,component:t,myProps:n,close:l}),p={name:"mockModal",setup(){return(0,r.JJ)(c.CLOSE_MODAL,u.close),{...(0,o.BK)(u)}},render(){return(0,r.h)(v,{isShow:u.isShow,component:u.component,myProps:u.myProps,close:u.close,mode:"jpointLoading"===t||"confirmModal"===t?"fade":"popUp"})}};a.appendChild(s);const d=(0,i.ri)(p);return d.mount(s),u.isShow=!0,{closeModal:l}}return{openModal:t}}},8296:function(e,t,n){"use strict";n.d(t,{vz:function(){return p},ED:function(){return h},z9:function(){return l},_J:function(){return d}});var o=n(4722);const r=async(e,{userId:t})=>{try{const n=await window.dog.imBusinessQuery.api.quickReplyAll({panAccessToken:e,user_id:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}},i=async(e,{quickReplyId:t,message:n,title:o})=>{try{const r=await window.dog.imBusinessCommand.api.UpdateQuickReply({panAccessToken:e,quickReplyId:t,title:o,text:n});return Promise.resolve(r)}catch(r){return Promise.reject(r)}},s=async(e,{message:t,title:n})=>{try{const o=await window.dog.imBusinessCommand.api.CreateQuickReply({panAccessToken:e,title:n,text:t});return Promise.resolve(o)}catch(o){return Promise.reject(o)}},a=async(e,{quickReplyIds:t})=>{try{const n=await window.dog.imBusinessCommand.api.DeleteQuickReply({panAccessToken:e,quickReplyIds:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}};var c=n(8936);const l=async()=>{const[e,t]=await u(o._7.value);o.U_({quickReplyData:t})},u=async e=>{try{const t=await r(o.Jf().value,{userId:e}),n=t.getQuickReplyList().map((e=>({quickReplyId:e.getQuickReplyId(),title:e.getTitle(),message:e.getMessage()}))),i=n.length>0;return[i,n]}catch(t){return Promise.reject(t)}},p=async({title:e,message:t})=>{try{e||(e=f(t,20).replace(/\n/g,""));const n=await Promise.all([(0,c.sleep)(500),s(o.Jf().value,{title:e,message:t})]);o.ij({quickReplyId:n[1].getQuickReplyId(),title:e,message:t})}catch(n){return Promise.reject(n)}},d=async({quickReplyId:e,title:t,message:n})=>{try{t||(t=f(n,20).replace(/\n/g,""));const r=await Promise.all([(0,c.sleep)(500),i(o.Jf().value,{quickReplyId:e,title:t,message:n})]);o.N7({quickReplyId:r[1].getQuickReplyId(),title:t,message:n})}catch(r){return Promise.reject(r)}},h=async e=>{try{await Promise.all([(0,c.sleep)(500),a(o.Jf().value,{quickReplyIds:e})]),e.forEach((e=>{o.ED(e)}))}catch(t){return Promise.reject(t)}},f=(e,t)=>e.substring(0,t)},4722:function(e,t,n){"use strict";n.d(t,{ED:function(){return v},Jf:function(){return c},N7:function(){return g},S1:function(){return l},U_:function(){return h},_7:function(){return a},g1:function(){return d},ij:function(){return f},mc:function(){return u},qf:function(){return y}});n(6728);var o=n(8896),r=n(1703);const i=(0,o.iH)(""),s=(0,o.iH)(""),a=(0,o.OT)(i),c=()=>(0,o.OT)(s),l=(e,t)=>{i.value=e,s.value=t},u=()=>{i.value="",s.value="",Object.assign(p.data,[])},p={hasData:(0,r.Fl)((()=>p.data.length>0)),data:(0,o.qj)([])},d={hasData:(0,o.OT)(p.hasData),data:(0,o.OT)(p.data)},h=({quickReplyData:e})=>{Object.assign(p.data,[...e])},f=e=>{p.data.push(e)},g=e=>{const t=m(e.quickReplyId);t<0||(p.data[t]=e)},m=e=>{const t=p.data.findIndex((t=>t.quickReplyId===e));return t<0?(console.warn("not has quick reply data"),-1):t},y=e=>{const t=m(e);if(t<0)throw Error("not has this quick replay data");return(0,o.OT)(p.data[t])},v=e=>{const t=m(e);if(t<0)throw Error("not has this quick replay data");return p.data.splice(t,1)[0]}},8936:function(e,t,n){"use strict";n.r(t),n.d(t,{CHECK_BACK_LOG_TOKEN:function(){return Te},CHECK_PLUGINS_LIST:function(){return et},CJKSymbolsAndPunctuation:function(){return ge},CJKUnifiedIdeographs:function(){return fe},CLOSE_MODAL:function(){return Qe},CONTROL_HEADER_OPERATION:function(){return ot},FAKE_AVATAR:function(){return be},JPOINTS_SERVICE_ID:function(){return we},JPOINT_INSTANCE:function(){return nt},OPEN_HEADER_OPERATION:function(){return st},OPEN_TALKINGROOM_FOOTER:function(){return Je},OPEN_TALKINGROOM_FOOTER_VALUE:function(){return Xe},PAN_INSTANCE:function(){return tt},RECEIVE_TRANSFER_DAYS:function(){return _e},SELECT_OFFICIAL_DATA:function(){return ut},SHOW_RADIO_BUTTON:function(){return rt},SHOW_UNHIDE_FRIEND_MODAL:function(){return at},SHOW_UNPIN_RADIO_BUTTON:function(){return it},TimeAfter:function(){return ke},TimeBefore:function(){return Ie},TimeFormat:function(){return Ee},TimeFormatDistance:function(){return Se},UPDATE_CREATE_BUTTON_VALUE:function(){return lt},UPDATE_OFFICIAL_COMPONENT:function(){return ct},addDataToList:function(){return Ge},addDay:function(){return Oe},addHttps:function(){return Le},addStr:function(){return Ne},binarySearch:function(){return Ke},brPattern:function(){return ye},calcTextareaHeight:function(){return Ot},dayToMilliseconds:function(){return qe},detectDeviceOs:function(){return Fe},filterBlocklist:function(){return Ve},findMaxZindex:function(){return Be},genSliceText:function(){return je},getConfig:function(){return wt},getRoomId:function(){return De},getStartOfDay:function(){return Ae},getStartOfYear:function(){return Re},hashCode:function(){return Ye},iconBullhorn:function(){return St},iconMessageFlash:function(){return xt},iconPartyPopper:function(){return Tt},initializeOSConfig:function(){return _t},injectStrict:function(){return pt},isOverTextLength:function(){return Ce},linkify:function(){return Ue},removeDataFromList:function(){return $e},resetOriginalList:function(){return ze},resetRegexlastIndex:function(){return ve},resolveStopPromise:function(){return vt},sleep:function(){return He},sortUidAndSHA1:function(){return Pe},stopPromise:function(){return yt},timeFormat:function(){return xe},urlPattern:function(){return me},useCheckPluginsList:function(){return dt},useJpointInstance:function(){return ft},usePanInstance:function(){return ht},uuid4:function(){return Me},waitingAPI:function(){return We}});n(6728),n(171),n(7093);var o=n(624),r=n(5852),i=n(2722),s=n(2213);function a(e,t){(0,s.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t),r=n.getTime()-o.getTime();return r<0?-1:r>0?1:r}function c(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function l(e){return c({},e)}var u=n(4597),p=6e4,d=1440,h=30*d,f=365*d;function g(e,t,n){var g,m,y;(0,s.Z)(2,arguments);var v=(0,o.j)(),b=null!==(g=null!==(m=null===n||void 0===n?void 0:n.locale)&&void 0!==m?m:v.locale)&&void 0!==g?g:u.Z;if(!b.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var _=a(e,t);if(isNaN(_))throw new RangeError("Invalid time value");var w,T,x=c(l(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:_});_>0?(w=(0,i.Z)(t),T=(0,i.Z)(e)):(w=(0,i.Z)(e),T=(0,i.Z)(t));var S,E=String(null!==(y=null===n||void 0===n?void 0:n.roundingMethod)&&void 0!==y?y:"round");if("floor"===E)S=Math.floor;else if("ceil"===E)S=Math.ceil;else{if("round"!==E)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");S=Math.round}var k,I=T.getTime()-w.getTime(),A=I/p,R=(0,r.Z)(T)-(0,r.Z)(w),O=(I-R)/p,C=null===n||void 0===n?void 0:n.unit;if(k=C?String(C):A<1?"second":A<60?"minute":A<d?"hour":O<h?"day":O<f?"month":"year","second"===k){var j=S(I/1e3);return b.formatDistance("xSeconds",j,x)}if("minute"===k){var N=S(A);return b.formatDistance("xMinutes",N,x)}if("hour"===k){var P=S(A/60);return b.formatDistance("xHours",P,x)}if("day"===k){var D=S(O/d);return b.formatDistance("xDays",D,x)}if("month"===k){var M=S(O/h);return 12===M&&"month"!==C?b.formatDistance("xYears",1,x):b.formatDistance("xMonths",M,x)}if("year"===k){var L=S(O/f);return b.formatDistance("xYears",L,x)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}var m=n(9030),y=(0,m.Z)(g,3),v=n(5276),b=(0,m.Z)(v.Z,3),_=n(2241),w=n(5216),T=n(7368);function x(e){(0,s.Z)(1,arguments);var t=(0,i.Z)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var S=(0,m.Z)(x,1),E=n(6914),k={lessThanXSeconds:{one:"少於 1 秒",other:"少於 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分鐘",lessThanXMinutes:{one:"少於 1 分鐘",other:"少於 {{count}} 分鐘"},xMinutes:{one:"1 分鐘",other:"{{count}} 分鐘"},xHours:{one:"1 小時",other:"{{count}} 小時"},aboutXHours:{one:"大約 1 小時",other:"大約 {{count}} 小時"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大約 1 個星期",other:"大約 {{count}} 個星期"},xWeeks:{one:"1 個星期",other:"{{count}} 個星期"},aboutXMonths:{one:"大約 1 個月",other:"大約 {{count}} 個月"},xMonths:{one:"1 個月",other:"{{count}} 個月"},aboutXYears:{one:"大約 1 年",other:"大約 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超過 1 年",other:"超過 {{count}} 年"},almostXYears:{one:"將近 1 年",other:"將近 {{count}} 年"}},I=function(e,t,n){var o,r=k[e];return o="string"===typeof r?r:1===t?r.one:r.other.replace("{{count}}",String(t)),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?o+"內":o+"前":o},A=I,R=n(2899),O={full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},C={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},j={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},N={date:(0,R.Z)({formats:O,defaultWidth:"full"}),time:(0,R.Z)({formats:C,defaultWidth:"full"}),dateTime:(0,R.Z)({formats:j,defaultWidth:"full"})},P=N,D={lastWeek:"'上個'eeee p",yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:"'下個'eeee p",other:"P"},M=function(e,t,n,o){return D[e]},L=M,U=n(3528),F={narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},B={narrow:["1","2","3","4"],abbreviated:["第一刻","第二刻","第三刻","第四刻"],wide:["第一刻鐘","第二刻鐘","第三刻鐘","第四刻鐘"]},H={narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},W={narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["週日","週一","週二","週三","週四","週五","週六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},q={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜間"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜間"}},V={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜間"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜間"}},z=function(e,t){var n=Number(e);switch(null===t||void 0===t?void 0:t.unit){case"date":return n+"日";case"hour":return n+"時";case"minute":return n+"分";case"second":return n+"秒";default:return"第 "+n}},G={ordinalNumber:z,era:(0,U.Z)({values:F,defaultWidth:"wide"}),quarter:(0,U.Z)({values:B,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,U.Z)({values:H,defaultWidth:"wide"}),day:(0,U.Z)({values:W,defaultWidth:"wide"}),dayPeriod:(0,U.Z)({values:q,defaultWidth:"wide",formattingValues:V,defaultFormattingWidth:"wide"})},$=G,K=n(1159),Y=n(5801),Z=/^(第\s*)?\d+(日|時|分|秒)?/i,J=/\d+/i,X={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},Q={any:[/^(前)/i,/^(公元)/i]},ee={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻鐘/i},te={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},ne={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},oe={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},re={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^週[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},ie={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},se={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨)/i},ae={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},ce={ordinalNumber:(0,Y.Z)({matchPattern:Z,parsePattern:J,valueCallback:function(e){return parseInt(e,10)}}),era:(0,K.Z)({matchPatterns:X,defaultMatchWidth:"wide",parsePatterns:Q,defaultParseWidth:"any"}),quarter:(0,K.Z)({matchPatterns:ee,defaultMatchWidth:"wide",parsePatterns:te,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,K.Z)({matchPatterns:ne,defaultMatchWidth:"wide",parsePatterns:oe,defaultParseWidth:"any"}),day:(0,K.Z)({matchPatterns:re,defaultMatchWidth:"wide",parsePatterns:ie,defaultParseWidth:"any"}),dayPeriod:(0,K.Z)({matchPatterns:se,defaultMatchWidth:"any",parsePatterns:ae,defaultParseWidth:"any"})},le=ce,ue={code:"zh-TW",formatDistance:A,formatLong:P,formatRelative:L,localize:$,match:le,options:{weekStartsOn:1,firstWeekContainsDate:4}},pe=ue,de=n(1026),he=n.n(de);const fe=/[\u4E00-\u9FFF]/,ge=/[\u3000\u3001-\u303F]/,me=new RegExp(/(?:https?):\/\/[a-z0-9-+&@#/%?=~_|!:,.;]*[a-z0-9-+&@#/%=~_|]|(www\.[\S]+(\b|$))/gim),ye=new RegExp(/<br\s*\/?>/gim),ve=e=>{e.lastIndex=0},be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO8ePX2fwAIggOCR8M6ygAAAABJRU5ErkJggg==",_e=10,we=5290265,Te="talkIsCheck_30a5a2fa",xe={HMMAAA:"aaa h:mm",MMDDE:"MM/dd EEEEE",MMDD:"MM/dd",YYYMMDD:"yyyy-MM-dd",YYYYMMDD:"yyyy/MM/dd",EEEEE:"EEEEE",HM:"HH:mm",YYYMMDDHM:"yyyy-MM-dd HH:mm"},Se=e=>{const t=new Date;return y({locale:pe})(t)(new Date(e))},Ee=(e=xe.HMMAAA,t)=>b({locale:pe})(e)(new Date(t)),ke=(e,t)=>(0,_.Z)(t)(e),Ie=(e,t)=>(0,w.Z)(t)(e),Ae=e=>(0,T.Z)(new Date(e)),Re=e=>S(new Date(e)),Oe=(e,t)=>(0,E.Z)(t)(new Date(e)),Ce=(e,t)=>{const n=e.length,o=e.replace(new RegExp(fe,"g"),""),r=o.length,i=r+2*(n-r);return i>t},je=(e,t)=>{const n=[];let o=0;const r=new RegExp(fe,"");for(const[i,s]of Array.from(e).entries()){const e=r.test(s);r.lastIndex=0;const i=e?2:1;o+=i,o>=t||n.push(s)}return n.join("")},Ne=(e,t,n)=>{const o=e.substring(0,t),r=e.substring(t,e.length);return`${o}${n}${r}`},Pe=e=>he()(e.map((e=>e.toUpperCase())).sort().join("")),De=e=>`dm-${e.map((e=>e.toUpperCase())).sort().join("")}`,Me=()=>{const e=new Uint8Array(16);crypto.getRandomValues(e),e[8]&=63,e[8]|=128,e[6]&=15,e[6]|=64;const t="$FAKE_XXXXXXXX-XXXX";let n=0;return t.replace(/XX/g,(()=>e[n++].toString(16).padStart(2,"0")))},Le=e=>{const t=new RegExp(/^(?:https?):\/\//);return t.test(e)?e:`https://${e}`},Ue=(e,t="URL")=>{const n=e.match("URL"===t?me:ye);if(null===n)return[{type:"TEXT",text:e}];let o=e;const r=n.map((e=>{const t=o.indexOf(e);return o=o.replace(e,"*".repeat(e.length)),{value:e,start:t,end:t+e.length}})),i=e.length;let s=0,a=0,c="";const l=[];while(s<i)r[a]&&s>=r[a].start&&(c.length>0&&(l.push({type:"TEXT",text:c}),c=""),l.push({type:t,text:r[a].value,value:"URL"===t?Le(r[a].value):r[a].value}),s=r[a].end,a++),c+=e[s],s++,s==i&&c.length>0&&l.push({type:"TEXT",text:c});return l},Fe=(e,t)=>{const n=new Map([["Windows",new RegExp(/Windows/i)],["ios",new RegExp(/iPhone|iPod|iPad/i)],["Android",new RegExp(/Android/i)]]);return n.get(t)?.test(e)},Be=()=>Math.max(1,...Array.from(document.querySelectorAll("*")).map((e=>getComputedStyle(e).zIndex)).filter((e=>!isNaN(parseInt(e[1])))).map((e=>parseInt(e)))),He=async e=>new Promise((t=>{const n=setTimeout((()=>{t(),clearTimeout(n)}),e)})),We=async(e,...t)=>{await Promise.all([...t,He(e)])},qe=e=>864e5*e,Ve=(e,...t)=>{const n=t.flat();return e.filter((e=>!n.includes(e)))},ze=(e,t)=>{e.splice(0),Object.assign(e,t)},Ge=(e,t)=>{Object.assign(e,t.concat(e))},$e=(e,t)=>{const n=e.filter((e=>!t.includes(e)));e.splice(0),Object.assign(e,n)},Ke=(e,t,n)=>{let o=0,r=e.length-1;while(o<=r){const i=o+Math.floor((r-o)/2),s=n(t,e[i]);if(s>0)o=i+1;else{if(!(s<0))return i;r=i-1}}return o},Ye=e=>e.split("").reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0);var Ze=n(1703);const Je=Symbol("openFooter"),Xe=Symbol("openFooterValue"),Qe=Symbol("closeModal"),et=Symbol("checkPluginsList"),tt=Symbol("jktalkPanInstance"),nt=Symbol("jktalkJpointInstance"),ot=Symbol("controlHeaderOperation"),rt=Symbol("showRadioButton"),it=Symbol("showUnPinRadioButton"),st=Symbol("openHeaderOperation"),at=Symbol("showUnHideFriendConfirmModal"),ct=Symbol("updateOfficialComponent"),lt=Symbol("updateCreateButtonValue"),ut=Symbol("selectQuickReply"),pt=(e,t)=>{const n=(0,Ze.f3)(e,t);if(!n)throw new Error(`Could not resolve ${e}`);return n},dt=()=>pt(et),ht=()=>pt(tt),ft=()=>pt(nt);var gt=n(6599);class mt{constructor(){(0,gt.Z)(this,"_promise",void 0),(0,gt.Z)(this,"_resolive",void 0),(0,gt.Z)(this,"_reject",void 0)}static instance(){return mt._instance||(mt._instance=new mt),mt._instance}get stopPromise(){return this._promise||(this._promise=new Promise(((e,t)=>{this._resolive=e,this._reject=t}))),this._promise}reset(){this._promise=null,this._resolive=null,this._reject=null}start(){this._resolive&&this._resolive(),this.reset()}reject(){this._reject&&this._reject(),this.reset()}}(0,gt.Z)(mt,"_instance",void 0);const yt=()=>mt.instance().stopPromise,vt=()=>{mt.instance().start()},bt={VUE_APP_VERSION:"0.0.0",NODE_ENV:"development",FIREBASE_API_KEY:"",FIREBASE_AUTH_DOMAIN:"",FIREBASE_DATABASE_URL:"",FIREBASE_PROJECT_ID:"",FIREBASE_STORAGE_BUCKET:"",FIREBASE_MESSAGING_SENDER_ID:"",FIREBASE_APP_ID:"",FIREBASE_MEASUREMENT_ID:"",FIREBASE_STORAGE_HOST:"",GCP_IM_STORAGE_URL:"",JKF_IMAGE_URL_PREFIX:"",PAN_API_HOST:"",FORUM_API_HOST:"",IS_SHADOW:"false",JPOINT_HOST:"",JPOINT_SCHEDULE:null},_t=e=>{if(Object.isFrozen(bt))throw console.error("is already init config file"),new Error("already init config file");const t=Object.assign({},e);bt.VUE_APP_VERSION=t.VUE_APP_VERSION,bt.NODE_ENV=t.NODE_ENV,bt.FIREBASE_API_KEY=t.FIREBASE_API_KEY,bt.FIREBASE_AUTH_DOMAIN=t.FIREBASE_AUTH_DOMAIN,bt.FIREBASE_DATABASE_URL=t.FIREBASE_DATABASE_URL,bt.FIREBASE_PROJECT_ID=t.FIREBASE_PROJECT_ID,bt.FIREBASE_STORAGE_BUCKET=t.FIREBASE_STORAGE_BUCKET,bt.FIREBASE_MESSAGING_SENDER_ID=t.FIREBASE_MESSAGING_SENDER_ID,bt.FIREBASE_APP_ID=t.FIREBASE_APP_ID,bt.FIREBASE_MEASUREMENT_ID=t.FIREBASE_MEASUREMENT_ID,bt.FIREBASE_STORAGE_HOST=t.FIREBASE_STORAGE_HOST,bt.GCP_IM_STORAGE_URL=t.GCP_IM_STORAGE_URL,bt.JKF_IMAGE_URL_PREFIX=t.JKF_IMAGE_URL_PREFIX,bt.PAN_API_HOST=t.PAN_API_HOST,bt.FORUM_API_HOST=t.FORUM_API_HOST,bt.IS_SHADOW=t.IS_SHADOW,bt.JPOINT_HOST=t.JPOINT_HOST,bt.JPOINT_SCHEDULE=t.JPOINT_SCHEDULE,Object.freeze(bt)},wt=()=>{if(!Object.isFrozen(bt))throw console.error("not init config"),new Error("not init config");return bt},Tt="M17.9999 8.31003C17.6399 7.90003 17.2699 7.49003 16.8799 7.10003L16.5899 6.83003L16.7299 6.71003C17.2189 6.29023 17.5674 5.73054 17.7284 5.10646C17.8893 4.48239 17.855 3.82396 17.6299 3.22003C17.3038 2.539 16.7875 1.96696 16.1433 1.57301C15.4992 1.17906 14.7547 0.98005 13.9999 1.00003V3.00003C14.3557 2.99507 14.7064 3.08513 15.0158 3.26092C15.3252 3.4367 15.582 3.69185 15.7599 4.00003C15.9299 4.40003 15.7599 4.84003 15.2899 5.31003C15.2199 5.39003 15.1399 5.44003 15.0699 5.51003C12.0699 3.10003 8.77992 1.74003 7.16992 3.35003C7.00128 3.52242 6.86269 3.72185 6.75992 3.94003V4.04003L6.57992 4.57003L2.16992 17.67C2.00311 18.1637 1.95632 18.69 2.03342 19.2053C2.11051 19.7207 2.30929 20.2102 2.61327 20.6335C2.91725 21.0567 3.31769 21.4014 3.78142 21.6391C4.24516 21.8767 4.75884 22.0004 5.27992 22C5.62016 21.9967 5.9577 21.9393 6.27992 21.83L19.9999 17.28C20.1685 17.2173 20.3171 17.1102 20.4299 16.97L20.6399 16.79C22.0699 15.35 21.1499 12.58 19.2299 9.89003C20.37 9.22468 21.6827 8.91478 22.9999 9.00003V7.00003C21.2373 6.90304 19.4886 7.3612 17.9999 8.31003ZM5.69992 19.93C5.47293 20.0052 5.22952 20.0157 4.99687 19.9605C4.76422 19.9054 4.55149 19.7866 4.38242 19.6175C4.21335 19.4485 4.09459 19.2357 4.03941 19.0031C3.98423 18.7704 3.99479 18.527 4.06992 18.3L5.42992 14.2C6.4005 16.0509 7.89188 17.5771 9.71992 18.59L5.69992 19.93ZM12.6999 17.6C11.1886 17.1998 9.81 16.4072 8.70365 15.3026C7.5973 14.198 6.80256 12.8207 6.39992 11.31L7.39992 8.31003L7.45992 8.40003C7.56992 8.62003 7.70992 8.85003 7.84992 9.08003C7.98992 9.31003 8.00992 9.37003 8.10992 9.52003C8.20992 9.67003 8.43992 10 8.61992 10.25C8.79992 10.5 8.80992 10.53 8.91992 10.67C9.02992 10.81 9.34992 11.22 9.57992 11.49L9.86992 11.84C10.2099 12.23 10.5699 12.61 10.9499 13C11.3299 13.39 11.6299 13.64 11.9499 14L12.2799 14.28L13.0599 14.91L13.4299 15.19C13.7099 15.39 13.9799 15.59 14.2599 15.77L14.5699 15.97C14.9299 16.19 15.2899 16.4 15.6399 16.58H15.6899L12.6999 17.6ZM19.2099 15.37H19.1499C18.4599 15.75 15.5899 14.8 12.3599 11.56C12.0199 11.22 11.6999 10.89 11.4099 10.56L11.1199 10.21L10.5899 9.57003L10.2999 9.17003C10.1699 8.98003 10.0299 8.80003 9.90992 8.62003L9.64992 8.20003L9.35992 7.73003C9.27992 7.59003 9.21992 7.46003 9.14992 7.33003C9.07992 7.20003 8.99992 7.07003 8.93992 6.93003C8.88629 6.81285 8.83954 6.69265 8.79992 6.57003C8.74992 6.44003 8.68992 6.31003 8.64992 6.19003C8.60992 6.07003 8.59992 6.00003 8.56992 5.88003C8.53992 5.76003 8.51992 5.66003 8.49992 5.56003C8.49493 5.47343 8.49493 5.38662 8.49992 5.30003C8.49029 5.22032 8.49029 5.13974 8.49992 5.06003L8.60992 4.75003C8.96992 4.39003 10.8399 4.75003 13.3399 6.65003C12.9161 6.84129 12.4631 6.95962 11.9999 7.00003V9.00003C13.0621 8.93893 14.0928 8.616 14.9999 8.06003L15.4799 8.52003C15.8999 8.94003 16.2899 9.37003 16.6599 9.80003C16.0875 10.8351 15.8764 12.0315 16.0599 13.2L18.0599 12.81C18.001 12.439 18.001 12.061 18.0599 11.69C18.3651 12.1528 18.6359 12.6375 18.8699 13.14C19.4299 14.46 19.3899 15.2 19.2099 15.37Z",xt="M4 17.2V4H20V10H22V4C22 2.9 21.1 2 20 2H4C2.9 2 2 2.9 2 4V22L6 18H15V16H5.2L4 17.2ZM22.5 16H20.3L22 12H17V18H19V23L22.5 16Z",St="M24 10.96C24 9.97538 23.4604 9.12496 22.6667 8.66329V2.29371C22.6667 1.92913 22.3758 0.959961 21.3333 0.959961C21.0367 0.959961 20.7421 1.05913 20.5008 1.25246L16.9579 4.08704C15.1783 5.50954 12.9442 6.29329 10.6667 6.29329H2.66667C1.19375 6.29329 0 7.48704 0 8.95996V12.96C0 14.4329 1.19375 15.6266 2.66667 15.6266H4.07083C4.01292 16.0633 3.98 16.5075 3.98 16.96C3.98 18.617 4.36583 20.1829 5.045 21.5825C5.26125 22.0279 5.73333 22.2933 6.22833 22.2933H9.32333C10.4088 22.2933 11.0604 21.05 10.4025 20.1866C9.71917 19.29 9.31292 18.1716 9.31292 16.96C9.31292 16.497 9.38042 16.052 9.49667 15.6266H10.6667C12.9442 15.6266 15.1783 16.4104 16.9575 17.8329L20.5004 20.6675C20.7367 20.8566 21.0303 20.9597 21.3329 20.96C22.3713 20.96 22.6663 20.0108 22.6663 19.6266V13.257C23.4604 12.795 24 11.9445 24 10.96ZM20 16.8525L18.6229 15.7508C16.3729 13.9508 13.5467 12.96 10.6667 12.96V8.95996C13.5467 8.95996 16.3729 7.96913 18.6229 6.16913L20 5.06746V16.8525Z",Et=e=>"number"===typeof e;let kt;const It="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n",At=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Rt(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),o=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),r=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),i=At.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";");return{contextStyle:i,paddingSize:o,borderSize:r,boxSizing:n}}function Ot(e,t=1,n){kt||(kt=document.createElement("textarea"),document.body.appendChild(kt));const{paddingSize:o,borderSize:r,boxSizing:i,contextStyle:s}=Rt(e);kt.setAttribute("style",`${s};${It}`),kt.value=e.value||e.placeholder||"";let a=kt.scrollHeight;const c={};"border-box"===i?a+=r:"content-box"===i&&(a-=o),kt.value="";const l=kt.scrollHeight-o;if(Et(t)){let e=l*t;"border-box"===i&&(e=e+o+r),a=Math.max(e,a),e<20&&(e=20),c.minHeight=`${e}px`}if(Et(n)){let e=l*n;"border-box"===i&&(e=e+o+r),a=Math.min(e,a)}return a<20&&(a=20),c.height=`${a}px`,kt.parentNode?.removeChild(kt),kt=void 0,c}},9633:function(e,t,n){"use strict";n.d(t,{hJ:function(){return qu},B$:function(){return Vu},JU:function(){return zu},Lx:function(){return Wp},QT:function(){return Yp},kl:function(){return Jp},Xk:function(){return Xp},PL:function(){return Qp},ad:function(){return Zu},b9:function(){return Up},Pb:function(){return Qu},cf:function(){return td},Xo:function(){return Mp},IO:function(){return jp},Bt:function(){return rd},pl:function(){return ed},TQ:function(){return Bp},ar:function(){return Pp}});n(171),n(7093),n(6728),n(5640);var o,r=n(2396),i=n(8124),s=n(5803),a=n(7626),c=(n(1951),"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}),l={},u=u||{},p=c||self;function d(){}function h(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++y)}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,o),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return _=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:b,_.apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function T(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,o){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}}function x(){this.s=this.s,this.o=this.o}var S=0,E={};x.prototype.s=!1,x.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=S)){var e=g(this);delete E[e]}},x.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const k=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},I=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const o=e.length,r="string"===typeof e?e.split(""):e;for(let i=0;i<o;i++)i in r&&t.call(n,r[i],i,e)};function A(e){e:{var t=Gn;const n=e.length,o="string"===typeof e?e.split(""):e;for(let r=0;r<n;r++)if(r in o&&t.call(void 0,o[r],r,e)){t=r;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}function R(e){return Array.prototype.concat.apply([],arguments)}function O(e){const t=e.length;if(0<t){const n=Array(t);for(let o=0;o<t;o++)n[o]=e[o];return n}return[]}function C(e){return/^[\s\xa0]*$/.test(e)}var j,N=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function P(e,t){return-1!=e.indexOf(t)}function D(e,t){return e<t?-1:e>t?1:0}e:{var M=p.navigator;if(M){var L=M.userAgent;if(L){j=L;break e}}j=""}function U(e,t,n){for(const o in e)t.call(n,e[o],o,e)}function F(e){const t={};for(const n in e)t[n]=e[n];return t}var B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(e,t){let n,o;for(let r=1;r<arguments.length;r++){for(n in o=arguments[r],o)e[n]=o[n];for(let t=0;t<B.length;t++)n=B[t],Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}}function W(e){return W[" "](e),e}function q(e){var t=ne;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}W[" "]=d;var V,z=P(j,"Opera"),G=P(j,"Trident")||P(j,"MSIE"),$=P(j,"Edge"),K=$||G,Y=P(j,"Gecko")&&!(P(j.toLowerCase(),"webkit")&&!P(j,"Edge"))&&!(P(j,"Trident")||P(j,"MSIE"))&&!P(j,"Edge"),Z=P(j.toLowerCase(),"webkit")&&!P(j,"Edge");function J(){var e=p.document;return e?e.documentMode:void 0}e:{var X="",Q=function(){var e=j;return Y?/rv:([^\);]+)(\)|;)/.exec(e):$?/Edge\/([\d\.]+)/.exec(e):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Z?/WebKit\/(\S+)/.exec(e):z?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Q&&(X=Q?Q[1]:""),G){var ee=J();if(null!=ee&&ee>parseFloat(X)){V=String(ee);break e}}V=X}var te,ne={};function oe(){return q((function(){let e=0;const t=N(String(V)).split("."),n=N("9").split("."),o=Math.max(t.length,n.length);for(let s=0;0==e&&s<o;s++){var r=t[s]||"",i=n[s]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],0==r[0].length&&0==i[0].length)break;e=D(0==r[1].length?0:parseInt(r[1],10),0==i[1].length?0:parseInt(i[1],10))||D(0==r[2].length,0==i[2].length)||D(r[2],i[2]),r=r[3],i=i[3]}while(0==e)}return 0<=e}))}if(p.document&&G){var re=J();te=re||(parseInt(V,10)||void 0)}else te=void 0;var ie=te,se=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{p.addEventListener("test",d,t),p.removeEventListener("test",d,t)}catch(n){}return e}();function ae(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ce(e,t){if(ae.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,o=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Y){e:{try{W(t.nodeName);var r=!0;break e}catch(i){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:le[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ce.Z.h.call(this)}}ae.prototype.h=function(){this.defaultPrevented=!0},T(ce,ae);var le={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),pe=0;function de(e,t,n,o,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!o,this.ia=r,this.key=++pe,this.ca=this.fa=!1}function he(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function fe(e){this.src=e,this.g={},this.h=0}function ge(e,t){var n=t.type;if(n in e.g){var o,r=e.g[n],i=k(r,t);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(he(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function me(e,t,n,o){for(var r=0;r<e.length;++r){var i=e[r];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==o)return r}return-1}fe.prototype.add=function(e,t,n,o,r){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var s=me(e,t,o,r);return-1<s?(t=e[s],n||(t.fa=!1)):(t=new de(t,this.src,i,!!o,r),t.fa=n,e.push(t)),t};var ye="closure_lm_"+(1e6*Math.random()|0),ve={};function be(e,t,n,o,r){if(o&&o.once)return Te(e,t,n,o,r);if(Array.isArray(t)){for(var i=0;i<t.length;i++)be(e,t[i],n,o,r);return null}return n=Re(n),e&&e[ue]?e.N(t,n,f(o)?!!o.capture:!!o,r):_e(e,t,n,!1,o,r)}function _e(e,t,n,o,r,i){if(!t)throw Error("Invalid event type");var s=f(r)?!!r.capture:!!r,a=Ie(e);if(a||(e[ye]=a=new fe(e)),n=a.add(t,n,o,s,i),n.proxy)return n;if(o=we(),n.proxy=o,o.src=e,o.listener=n,e.addEventListener)se||(r=s),void 0===r&&(r=!1),e.addEventListener(t.toString(),o,r);else if(e.attachEvent)e.attachEvent(Ee(t.toString()),o);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(o)}return n}function we(){function e(n){return t.call(e.src,e.listener,n)}var t=ke;return e}function Te(e,t,n,o,r){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Te(e,t[i],n,o,r);return null}return n=Re(n),e&&e[ue]?e.O(t,n,f(o)?!!o.capture:!!o,r):_e(e,t,n,!0,o,r)}function xe(e,t,n,o,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)xe(e,t[i],n,o,r);else o=f(o)?!!o.capture:!!o,n=Re(n),e&&e[ue]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=me(i,n,o,r),-1<n&&(he(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Ie(e))&&(t=e.g[t.toString()],e=-1,t&&(e=me(t,n,o,r)),(n=-1<e?t[e]:null)&&Se(n))}function Se(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ue])ge(t.i,e);else{var n=e.type,o=e.proxy;t.removeEventListener?t.removeEventListener(n,o,e.capture):t.detachEvent?t.detachEvent(Ee(n),o):t.addListener&&t.removeListener&&t.removeListener(o),(n=Ie(t))?(ge(n,e),0==n.h&&(n.src=null,t[ye]=null)):he(e)}}}function Ee(e){return e in ve?ve[e]:ve[e]="on"+e}function ke(e,t){if(e.ca)e=!0;else{t=new ce(t,this);var n=e.listener,o=e.ia||e.src;e.fa&&Se(e),e=n.call(o,t)}return e}function Ie(e){return e=e[ye],e instanceof fe?e:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(e){return"function"===typeof e?e:(e[Ae]||(e[Ae]=function(t){return e.handleEvent(t)}),e[Ae])}function Oe(){x.call(this),this.i=new fe(this),this.P=this,this.I=null}function Ce(e,t){var n,o=e.I;if(o)for(n=[];o;o=o.I)n.push(o);if(e=e.P,o=t.type||t,"string"===typeof t)t=new ae(t,e);else if(t instanceof ae)t.target=t.target||e;else{var r=t;t=new ae(o,e),H(t,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];r=je(s,o,!0,t)&&r}if(s=t.g=e,r=je(s,o,!0,t)&&r,r=je(s,o,!1,t)&&r,n)for(i=0;i<n.length;i++)s=t.g=n[i],r=je(s,o,!1,t)&&r}function je(e,t,n,o){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&ge(e.i,s),r=!1!==a.call(c,o)&&r}}return r&&!o.defaultPrevented}T(Oe,x),Oe.prototype[ue]=!0,Oe.prototype.removeEventListener=function(e,t,n,o){xe(this,e,t,n,o)},Oe.prototype.M=function(){if(Oe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],o=0;o<n.length;o++)he(n[o]);delete t.g[e],t.h--}}this.I=null},Oe.prototype.N=function(e,t,n,o){return this.i.add(String(e),t,!1,n,o)},Oe.prototype.O=function(e,t,n,o){return this.i.add(String(e),t,!0,n,o)};var Ne=p.JSON.stringify;function Pe(){var e=qe;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class De{constructor(){this.h=this.g=null}add(e,t){const n=Le.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var Me,Le=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ue),(e=>e.reset()));class Ue{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fe(e){p.setTimeout((()=>{throw e}),0)}function Be(e,t){Me||He(),We||(Me(),We=!0),qe.add(e,t)}function He(){var e=p.Promise.resolve(void 0);Me=function(){e.then(Ve)}}var We=!1,qe=new De;function Ve(){for(var e;e=Pe();){try{e.h.call(e.g)}catch(n){Fe(n)}var t=Le;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}We=!1}function ze(e,t){Oe.call(this),this.h=e||1,this.g=t||p,this.j=_(this.kb,this),this.l=Date.now()}function Ge(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function $e(e,t,n){if("function"===typeof e)n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:p.setTimeout(e,t||0)}function Ke(e){e.g=$e((()=>{e.g=null,e.i&&(e.i=!1,Ke(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}T(ze,Oe),o=ze.prototype,o.da=!1,o.S=null,o.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ce(this,"tick"),this.da&&(Ge(this),this.start()))}},o.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},o.M=function(){ze.Z.M.call(this),Ge(this),delete this.g};class Ye extends x{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ke(this)}M(){super.M(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(e){x.call(this),this.h=e,this.g={}}T(Ze,x);var Je=[];function Xe(e,t,n,o){Array.isArray(n)||(n&&(Je[0]=n.toString()),n=Je);for(var r=0;r<n.length;r++){var i=be(t,n[r],o||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Qe(e){U(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Se(e)}),e),e.g={}}function et(){this.g=!0}function tt(e,t,n,o,r,i){e.info((function(){if(e.g)if(i)for(var s="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var p=u.split("_");s=2<=p.length&&"type"==p[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+o+") [attempt "+r+"]: "+t+"\n"+n+"\n"+s}))}function nt(e,t,n,o,r,i,s){e.info((function(){return"XMLHTTP RESP ("+o+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+i+" "+s}))}function ot(e,t,n,o){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+it(e,n)+(o?" "+o:"")}))}function rt(e,t){e.info((function(){return"TIMEOUT: "+t}))}function it(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var o=n[e];if(!(2>o.length)){var r=o[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<r.length;s++)r[s]=""}}}return Ne(n)}catch(a){return t}}Ze.prototype.M=function(){Ze.Z.M.call(this),Qe(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},et.prototype.Aa=function(){this.g=!1},et.prototype.info=function(){};var st={},at=null;function ct(){return at=at||new Oe}function lt(e){ae.call(this,st.Ma,e)}function ut(e){const t=ct();Ce(t,new lt(t,e))}function pt(e,t){ae.call(this,st.STAT_EVENT,e),this.stat=t}function dt(e){const t=ct();Ce(t,new pt(t,e))}function ht(e,t){ae.call(this,st.Na,e),this.size=t}function ft(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return p.setTimeout((function(){e()}),t)}st.Ma="serverreachability",T(lt,ae),st.STAT_EVENT="statevent",T(pt,ae),st.Na="timingevent",T(ht,ae);var gt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yt(){}function vt(e){return e.h||(e.h=e.i())}function bt(){}yt.prototype.h=null;var _t,wt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Tt(){ae.call(this,"d")}function xt(){ae.call(this,"c")}function St(){}function Et(e,t,n,o){this.l=e,this.j=t,this.m=n,this.X=o||1,this.V=new Ze(this),this.P=It,e=K?125:void 0,this.W=new ze(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}T(Tt,ae),T(xt,ae),T(St,yt),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},_t=new St;var It=45e3,At={},Rt={};function Ot(e,t,n){e.K=1,e.v=tn(Yt(t)),e.s=n,e.U=!0,Ct(e,null)}function Ct(e,t){e.F=Date.now(),Dt(e),e.A=Yt(e.v);var n=e.A,o=e.X;Array.isArray(o)||(o=[String(o)]),yn(n.h,"t",o),e.C=0,n=e.l.H,e.h=new kt,e.g=So(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ye(_(e.Ia,e,e.g),e.O)),Xe(e.V,e.g,"readystatechange",e.gb),t=e.H?F(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ut(1),tt(e.j,e.u,e.A,e.m,e.X,e.s)}function jt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Nt(e,t,n){let o,r=!0;for(;!e.I&&e.C<n.length;){if(o=Pt(e,n),o==Rt){4==t&&(e.o=4,dt(14),r=!1),ot(e.j,e.m,null,"[Incomplete Response]");break}if(o==At){e.o=4,dt(15),ot(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}ot(e.j,e.m,o,null),Bt(e,o)}jt(e)&&o!=Rt&&o!=At&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mo(t),t.L=!0,dt(11))):(ot(e.j,e.m,n,"[Invalid Chunked Response]"),Ft(e),Ut(e))}function Pt(e,t){var n=e.C,o=t.indexOf("\n",n);return-1==o?Rt:(n=Number(t.substring(n,o)),isNaN(n)?At:(o+=1,o+n>t.length?Rt:(t=t.substr(o,n),e.C=o+n,t)))}function Dt(e){e.Y=Date.now()+e.P,Mt(e,e.P)}function Mt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ft(_(e.eb,e),t)}function Lt(e){e.B&&(p.clearTimeout(e.B),e.B=null)}function Ut(e){0==e.l.G||e.I||bo(e.l,e)}function Ft(e){Lt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ge(e.W),Qe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||En(n.i,e)))if(n.I=e.N,!e.J&&En(n.i,e)&&3==n.G){try{var o=n.Ca.g.parse(t)}catch(l){o=null}if(Array.isArray(o)&&3==o.length){var r=o;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vo(n),io(n)}go(n),dt(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=ft(_(n.ab,n),6e3));if(1>=Sn(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else wo(n,11)}else if((e.J||n.g==e)&&vo(n),!C(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const t=l[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const r=l[4];null!=r&&(n.za=r,n.h.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(o=1.5*u,n.K=o,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const p=e.g;if(p){const e=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=o.i;!i.g&&(P(e,"spdy")||P(e,"quic")||P(e,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(kn(i,i.h),i.h=null))}if(o.D){const e=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(o.sa=e,en(o.F,o.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),o=n;var s=e;if(o.oa=xo(o,o.H?o.la:null,o.W),s.J){In(o.i,s);var a=s,c=o.K;c&&a.setTimeout(c),a.B&&(Lt(a),Dt(a)),o.g=s}else fo(o);0<n.l.length&&co(n)}else"stop"!=l[0]&&"close"!=l[0]||wo(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?wo(n,7):ro(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}ut(4)}catch(l){}}function Ht(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(h(e)){for(var t=[],n=e.length,o=0;o<n;o++)t.push(e[o]);return t}for(o in t=[],n=0,e)t[n++]=e[o];return t}function Wt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||"string"===typeof e)I(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(h(e)||"string"===typeof e){n=[];for(var o=e.length,r=0;r<o;r++)n.push(r)}else for(r in n=[],o=0,e)n[o++]=r;o=Ht(e),r=o.length;for(var i=0;i<r;i++)t.call(void 0,o[i],n&&n[i],e)}}function qt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(e)if(e instanceof qt)for(n=e.T(),o=0;o<n.length;o++)this.set(n[o],e.get(n[o]));else for(o in e)this.set(o,e[o])}function Vt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var o=e.g[t];zt(e.h,o)&&(e.g[n++]=o),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)o=e.g[t],zt(r,o)||(e.g[n++]=o,r[o]=1),t++;e.g.length=n}}function zt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o=Et.prototype,o.setTimeout=function(e){this.P=e},o.gb=function(e){e=e.target;const t=this.L;t&&3==Xn(e)?t.l():this.Ia(e)},o.Ia=function(e){try{if(e==this.g)e:{const u=Xn(this.g);var t=this.g.Da();const d=this.g.ba();if(!(3>u)&&(3!=u||K||this.g&&(this.h.h||this.g.ga()||Qn(this.g)))){this.I||4!=u||7==t||ut(8==t||0>=d?3:2),Lt(this);var n=this.g.ba();this.N=n;t:if(jt(this)){var o=Qn(this.g);e="";var r=o.length,i=4==Xn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ft(this),Ut(this);var s="";break t}this.h.i=new p.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(o[t],{stream:i&&t==r-1});o.splice(0,r),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,nt(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,dt(12),Ft(this),Ut(this);break e}ot(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bt(this,n)}this.U?(Nt(this,u,s),K&&this.i&&3==u&&(Xe(this.V,this.W,"tick",this.fb),this.W.start())):(ot(this.j,this.m,s,null),Bt(this,s)),4==u&&Ft(this),this.i&&!this.I&&(4==u?bo(this.l,this):(this.i=!1,Dt(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,dt(12)):(this.o=0,dt(13)),Ft(this),Ut(this)}}}catch(u){}},o.fb=function(){if(this.g){var e=Xn(this.g),t=this.g.ga();this.C<t.length&&(Lt(this),Nt(this,e,t),this.i&&4!=e&&Dt(this))}},o.cancel=function(){this.I=!0,Ft(this)},o.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(rt(this.j,this.A),2!=this.K&&(ut(3),dt(17)),Ft(this),this.o=2,Ut(this)):Mt(this,this.Y-e)},o=qt.prototype,o.R=function(){Vt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},o.T=function(){return Vt(this),this.g.concat()},o.get=function(e,t){return zt(this.h,e)?this.h[e]:t},o.set=function(e,t){zt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},o.forEach=function(e,t){for(var n=this.T(),o=0;o<n.length;o++){var r=n[o],i=this.get(r);e.call(t,i,r,this)}};var Gt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $t(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var o=e[n].indexOf("="),r=null;if(0<=o){var i=e[n].substring(0,o);r=e[n].substring(o+1)}else i=e[n];t(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Kt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Kt){this.g=void 0!==t?t:e.g,Zt(this,e.j),this.s=e.s,Jt(this,e.i),Xt(this,e.m),this.l=e.l,t=e.h;var n=new hn;n.i=t.i,t.g&&(n.g=new qt(t.g),n.h=t.h),Qt(this,n),this.o=e.o}else e&&(n=String(e).match(Gt))?(this.g=!!t,Zt(this,n[1]||"",!0),this.s=rn(n[2]||""),Jt(this,n[3]||"",!0),Xt(this,n[4]),this.l=rn(n[5]||"",!0),Qt(this,n[6]||"",!0),this.o=rn(n[7]||"")):(this.g=!!t,this.h=new hn(null,this.g))}function Yt(e){return new Kt(e)}function Zt(e,t,n){e.j=n?rn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Jt(e,t,n){e.i=n?rn(t,!0):t}function Xt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qt(e,t,n){t instanceof hn?(e.h=t,bn(e.h,e.g)):(n||(t=sn(t,pn)),e.h=new hn(t,e.g))}function en(e,t,n){e.h.set(t,n)}function tn(e){return en(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nn(e){return e instanceof Kt?Yt(e):new Kt(e,void 0)}function on(e,t,n,o){var r=new Kt(null,void 0);return e&&Zt(r,e),t&&Jt(r,t),n&&Xt(r,n),o&&(r.l=o),r}function rn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,an),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function an(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}Kt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(sn(t,cn,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(sn(t,cn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(sn(n,"/"==n.charAt(0)?un:ln,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",sn(n,dn)),e.join("")};var cn=/[#\/\?@]/g,ln=/[#\?:]/g,un=/[#\?]/g,pn=/[#\?@]/g,dn=/#/g;function hn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fn(e){e.g||(e.g=new qt,e.h=0,e.i&&$t(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gn(e,t){fn(e),t=vn(e,t),zt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,zt(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Vt(e)))}function mn(e,t){return fn(e),t=vn(e,t),zt(e.g.h,t)}function yn(e,t,n){gn(e,t),0<n.length&&(e.i=null,e.g.set(vn(e,t),O(n)),e.h+=n.length)}function vn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function bn(e,t){t&&!e.j&&(fn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gn(this,t),yn(this,n,e))}),e)),e.j=t}o=hn.prototype,o.add=function(e,t){fn(this),this.i=null,e=vn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},o.forEach=function(e,t){fn(this),this.g.forEach((function(n,o){I(n,(function(n){e.call(t,n,o,this)}),this)}),this)},o.T=function(){fn(this);for(var e=this.g.R(),t=this.g.T(),n=[],o=0;o<t.length;o++)for(var r=e[o],i=0;i<r.length;i++)n.push(t[o]);return n},o.R=function(e){fn(this);var t=[];if("string"===typeof e)mn(this,e)&&(t=R(t,this.g.get(vn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=R(t,e[n])}return t},o.set=function(e,t){return fn(this),this.i=null,e=vn(this,e),mn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},o.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t},o.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var o=t[n],r=encodeURIComponent(String(o));o=this.R(o);for(var i=0;i<o.length;i++){var s=r;""!==o[i]&&(s+="="+encodeURIComponent(String(o[i]))),e.push(s)}}return this.i=e.join("&")};var _n=class{constructor(e,t){this.h=e,this.g=t}};function wn(e){this.l=e||Tn,p.PerformanceNavigationTiming?(e=p.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(p.g&&p.g.Ea&&p.g.Ea()&&p.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tn=10;function xn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Sn(e){return e.h?1:e.g?e.g.size:0}function En(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function kn(e,t){e.g?e.g.add(t):e.h=t}function In(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function An(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return O(e.i)}function Rn(){}function On(){this.g=new Rn}function Cn(e,t,n){const o=n||"";try{Wt(e,(function(e,n){let r=e;f(e)&&(r=Ne(e)),t.push(o+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(o+"type="+encodeURIComponent("_badmap")),r}}function jn(e,t){const n=new et;if(p.Image){const o=new Image;o.onload=w(Nn,n,o,"TestLoadImage: loaded",!0,t),o.onerror=w(Nn,n,o,"TestLoadImage: error",!1,t),o.onabort=w(Nn,n,o,"TestLoadImage: abort",!1,t),o.ontimeout=w(Nn,n,o,"TestLoadImage: timeout",!1,t),p.setTimeout((function(){o.ontimeout&&o.ontimeout()}),1e4),o.src=e}else t(!1)}function Nn(e,t,n,o,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(o)}catch(i){}}function Pn(e){this.l=e.$b||null,this.j=e.ib||!1}function Dn(e,t){Oe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Mn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wn.prototype.cancel=function(){if(this.i=An(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Rn.prototype.stringify=function(e){return p.JSON.stringify(e,void 0)},Rn.prototype.parse=function(e){return p.JSON.parse(e,void 0)},T(Pn,yt),Pn.prototype.g=function(){return new Dn(this.l,this.j)},Pn.prototype.i=function(e){return function(){return e}}({}),T(Dn,Oe);var Mn=0;function Ln(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Un(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fn(e)}function Fn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}o=Dn.prototype,o.open=function(e,t){if(this.readyState!=Mn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fn(this)},o.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||p).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},o.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Un(this)),this.readyState=Mn},o.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof p.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ln(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},o.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Un(this):Fn(this),3==this.readyState&&Ln(this)}},o.Ua=function(e){this.g&&(this.response=this.responseText=e,Un(this))},o.Ta=function(e){this.g&&(this.response=e,Un(this))},o.ha=function(){this.g&&Un(this)},o.setRequestHeader=function(e,t){this.v.append(e,t)},o.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bn=p.JSON.parse;function Hn(e){Oe.call(this),this.headers=new qt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wn,this.K=this.L=!1}T(Hn,Oe);var Wn="",qn=/^https?$/i,Vn=["POST","PUT"];function zn(e){return G&&oe()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function Gn(e){return"content-type"==e.toLowerCase()}function $n(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Kn(e),Zn(e)}function Kn(e){e.D||(e.D=!0,Ce(e,"complete"),Ce(e,"error"))}function Yn(e){if(e.h&&"undefined"!=typeof u&&(!e.C[1]||4!=Xn(e)||2!=e.ba()))if(e.v&&4==Xn(e))$e(e.Fa,0,e);else if(Ce(e,"readystatechange"),4==Xn(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===c){var r=String(e.H).match(Gt)[1]||null;if(!r&&p.self&&p.self.location){var i=p.self.location.protocol;r=i.substr(0,i.length-1)}o=!qn.test(r?r.toLowerCase():"")}n=o}if(n)Ce(e,"complete"),Ce(e,"success");else{e.m=6;try{var s=2<Xn(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.ba()+"]",Kn(e)}}finally{Zn(e)}}}function Zn(e,t){if(e.g){Jn(e);const o=e.g,r=e.C[0]?d:null;e.g=null,e.C=null,t||Ce(e,"ready");try{o.onreadystatechange=r}catch(n){}}}function Jn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(p.clearTimeout(e.A),e.A=null)}function Xn(e){return e.g?e.g.readyState:0}function Qn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Wn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function eo(e){let t="";return U(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function to(e,t,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=eo(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):en(e,t,n))}function no(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function oo(e){this.za=0,this.l=[],this.h=new et,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=no("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=no("baseRetryDelayMs",5e3,e),this.$a=no("retryDelaySeedMs",1e4,e),this.Ya=no("forwardChannelMaxRetries",2,e),this.ra=no("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new wn(e&&e.concurrentRequestLimit),this.Ca=new On,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ro(e){if(so(e),3==e.G){var t=e.V++,n=Yt(e.F);en(n,"SID",e.J),en(n,"RID",t),en(n,"TYPE","terminate"),po(e,n),t=new Et(e,e.h,t,void 0),t.K=2,t.v=tn(Yt(n)),n=!1,p.navigator&&p.navigator.sendBeacon&&(n=p.navigator.sendBeacon(t.v.toString(),"")),!n&&p.Image&&((new Image).src=t.v,n=!0),n||(t.g=So(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Dt(t)}To(e)}function io(e){e.g&&(mo(e),e.g.cancel(),e.g=null)}function so(e){io(e),e.u&&(p.clearTimeout(e.u),e.u=null),vo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&p.clearTimeout(e.m),e.m=null)}function ao(e,t){e.l.push(new _n(e.Za++,t)),3==e.G&&co(e)}function co(e){xn(e.i)||e.m||(e.m=!0,Be(e.Ha,e),e.C=0)}function lo(e,t){return!(Sn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ft(_(e.Ha,e,t),_o(e,e.C)),e.C++,!0))}function uo(e,t){var n;n=t?t.m:e.V++;const o=Yt(e.F);en(o,"SID",e.J),en(o,"RID",n),en(o,"AID",e.U),po(e,o),e.o&&e.s&&to(o,e.o,e.s),n=new Et(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ho(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),kn(e.i,n),Ot(n,o,t)}function po(e,t){e.j&&Wt({},(function(e,n){en(t,n,e)}))}function ho(e,t,n){n=Math.min(e.l.length,n);var o=e.j?_(e.j.Oa,e.j,e):null;e:{var r=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let s=0;s<n;s++){let n=r[s].h;const a=r[s].g;if(n-=t,0>n)t=Math.max(0,r[s].h-100),i=!1;else try{Cn(a,e,"req"+n+"_")}catch(nr){o&&o(a)}}if(i){o=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,o}function fo(e){e.g||e.u||(e.Y=1,Be(e.Ga,e),e.A=0)}function go(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ft(_(e.Ga,e),_o(e,e.A)),e.A++,!0)}function mo(e){null!=e.B&&(p.clearTimeout(e.B),e.B=null)}function yo(e){e.g=new Et(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Yt(e.oa);en(t,"RID","rpc"),en(t,"SID",e.J),en(t,"CI",e.N?"0":"1"),en(t,"AID",e.U),po(e,t),en(t,"TYPE","xmlhttp"),e.o&&e.s&&to(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tn(Yt(t)),n.s=null,n.U=!0,Ct(n,e)}function vo(e){null!=e.v&&(p.clearTimeout(e.v),e.v=null)}function bo(e,t){var n=null;if(e.g==t){vo(e),mo(e),e.g=null;var o=2}else{if(!En(e.i,t))return;n=t.D,In(e.i,t),o=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==o){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;o=ct(),Ce(o,new ht(o,n,t,r)),co(e)}else fo(e);else if(r=t.o,3==r||0==r&&0<e.I||!(1==o&&lo(e,t)||2==o&&go(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:wo(e,5);break;case 4:wo(e,10);break;case 3:wo(e,6);break;default:wo(e,2)}}function _o(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var o=_(e.jb,e);n||(n=new Kt("//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||Zt(n,"https"),tn(n)),jn(n.toString(),o)}else dt(2);e.G=0,e.j&&e.j.va(t),To(e),so(e)}function To(e){e.G=0,e.I=-1,e.j&&(0==An(e.i).length&&0==e.l.length||(e.i.i.length=0,O(e.l),e.l.length=0),e.j.ua())}function xo(e,t,n){let o=nn(n);if(""!=o.i)t&&Jt(o,t+"."+o.i),Xt(o,o.m);else{const e=p.location;o=on(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&U(e.aa,(function(e,t){en(o,t,e)})),t=e.D,n=e.sa,t&&n&&en(o,t,n),en(o,"VER",e.ma),po(e,o),o}function So(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Hn(new Pn({ib:!0})):new Hn(e.qa),t.L=e.H,t}function Eo(){}function ko(){if(G&&!(10<=Number(ie)))throw Error("Environmental error: no available transport.")}function Io(e,t){Oe.call(this),this.g=new oo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!C(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Oo(this)}function Ao(e){Tt.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ro(){xt.call(this),this.status=1}function Oo(e){this.g=e}o=Hn.prototype,o.ea=function(e,t,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_t.g(),this.C=this.u?vt(this.u):vt(_t),this.g.onreadystatechange=_(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){return void $n(this,i)}e=n||"";const r=new qt(this.headers);o&&Wt(o,(function(e,t){r.set(t,e)})),o=A(r.T()),n=p.FormData&&e instanceof p.FormData,!(0<=k(Vn,t))||o||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jn(this),0<this.B&&((this.K=zn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_(this.pa,this)):this.A=$e(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){$n(this,i)}},o.pa=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ce(this,"timeout"),this.abort(8))},o.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ce(this,"complete"),Ce(this,"abort"),Zn(this))},o.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zn(this,!0)),Hn.Z.M.call(this)},o.Fa=function(){this.s||(this.F||this.v||this.l?Yn(this):this.cb())},o.cb=function(){Yn(this)},o.ba=function(){try{return 2<Xn(this)?this.g.status:-1}catch(e){return-1}},o.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},o.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bn(t)}},o.Da=function(){return this.m},o.La=function(){return"string"===typeof this.j?this.j:String(this.j)},o=oo.prototype,o.ma=8,o.G=1,o.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},o.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new Et(this,this.h,e,void 0);let i=this.s;if(this.P&&(i?(i=F(i),H(i,this.P)):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var o=this.l[n];if(o="__data__"in o.g&&(o=o.g.__data__,"string"===typeof o)?o.length:void 0,void 0===o)break;if(t+=o,4096<t){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ho(this,r,t),n=Yt(this.F),en(n,"RID",e),en(n,"CVER",22),this.D&&en(n,"X-HTTP-Session-Id",this.D),po(this,n),this.o&&i&&to(n,this.o,i),kn(this.i,r),this.Ra&&en(n,"TYPE","init"),this.ja?(en(n,"$req",t),en(n,"SID","null"),r.$=!0,Ot(r,n,null)):Ot(r,n,t),this.G=2}}else 3==this.G&&(e?uo(this,e):0==this.l.length||xn(this.i)||uo(this))},o.Ga=function(){if(this.u=null,yo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ft(_(this.bb,this),e)}},o.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dt(10),io(this),yo(this))},o.ab=function(){null!=this.v&&(this.v=null,io(this),go(this),dt(19))},o.jb=function(e){e?(this.h.info("Successfully pinged google.com"),dt(2)):(this.h.info("Failed to ping google.com"),dt(1))},o=Eo.prototype,o.xa=function(){},o.wa=function(){},o.va=function(){},o.ua=function(){},o.Oa=function(){},ko.prototype.g=function(e,t){return new Io(e,t)},T(Io,Oe),Io.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Be(_(e.hb,e,t))),dt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=xo(e,null,e.W),co(e)},Io.prototype.close=function(){ro(this.g)},Io.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ao(this.g,t)}else this.v?(t={},t.__data__=Ne(e),ao(this.g,t)):ao(this.g,e)},Io.prototype.M=function(){this.g.j=null,delete this.j,ro(this.g),delete this.g,Io.Z.M.call(this)},T(Ao,Tt),T(Ro,xt),T(Oo,Eo),Oo.prototype.xa=function(){Ce(this.g,"a")},Oo.prototype.wa=function(e){Ce(this.g,new Ao(e))},Oo.prototype.va=function(e){Ce(this.g,new Ro(e))},Oo.prototype.ua=function(){Ce(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,Io.prototype.send=Io.prototype.u,Io.prototype.open=Io.prototype.m,Io.prototype.close=Io.prototype.close,gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,mt.COMPLETE="complete",bt.EventType=wt,wt.OPEN="a",wt.CLOSE="b",wt.ERROR="c",wt.MESSAGE="d",Oe.prototype.listen=Oe.prototype.N,Hn.prototype.listenOnce=Hn.prototype.O,Hn.prototype.getLastError=Hn.prototype.La,Hn.prototype.getLastErrorCode=Hn.prototype.Da,Hn.prototype.getStatus=Hn.prototype.ba,Hn.prototype.getResponseJson=Hn.prototype.Qa,Hn.prototype.getResponseText=Hn.prototype.ga,Hn.prototype.send=Hn.prototype.ea;var Co=l.createWebChannelTransport=function(){return new ko},jo=l.getStatEventTarget=function(){return ct()},No=l.ErrorCode=gt,Po=l.EventType=mt,Do=l.Event=st,Mo=l.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Lo=l.FetchXmlHttpFactory=Pn,Uo=l.WebChannel=bt,Fo=l.XhrIo=Hn;const Bo="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ho.UNAUTHENTICATED=new Ho(null),Ho.GOOGLE_CREDENTIALS=new Ho("google-credentials-uid"),Ho.FIRST_PARTY=new Ho("first-party-uid"),Ho.MOCK_USER=new Ho("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Wo="9.6.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new s.Yd("@firebase/firestore");function Vo(){return qo.logLevel}function zo(e,...t){if(qo.logLevel<=s["in"].DEBUG){const n=t.map(Ko);qo.debug(`Firestore (${Wo}): ${e}`,...n)}}function Go(e,...t){if(qo.logLevel<=s["in"].ERROR){const n=t.map(Ko);qo.error(`Firestore (${Wo}): ${e}`,...n)}}function $o(e,...t){if(qo.logLevel<=s["in"].WARN){const n=t.map(Ko);qo.warn(`Firestore (${Wo}): ${e}`,...n)}}function Ko(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(e="Unexpected state"){const t=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: `+e;throw Go(t),new Error(t)}function Zo(e,t){e||Yo()}function Jo(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qo extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ho.UNAUTHENTICATED)))}shutdown(){}}class or{constructor(e){this.t=e,this.currentUser=Ho.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const o=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new er;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new er,e.enqueueRetryable((()=>o(this.currentUser)))};const i=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await o(this.currentUser)}))},s=e=>{zo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(zo("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new er)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(zo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Zo("string"==typeof t.accessToken),new tr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zo(null===e||"string"==typeof e),new Ho(e)}}class rr{constructor(e,t,n){this.type="FirstParty",this.user=Ho.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class ir{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new rr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Ho.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ar{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable((()=>(e=>(null!=e.error&&zo("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token)))(n)))};const n=e=>{zo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):zo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Zo("string"==typeof e.token),new sr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let o=0;o<e;o++)n[o]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr.I=-1;class ur{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const o=lr(40);for(let r=0;r<o.length;++r)n.length<20&&o[r]<t&&(n+=e.charAt(o[r]%e.length))}return n}}function pr(e,t){return e<t?-1:e>t?1:0}function dr(e,t,n){return e.length===t.length&&e.every(((e,o)=>n(e,t[o])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class hr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qo(Xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qo(Xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qo(Xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qo(Xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new hr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pr(this.nanoseconds,e.nanoseconds):pr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fr(e)}static min(){return new fr(new hr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t,n){void 0===t?t=0:t>e.length&&Yo(),void 0===n?n=e.length-t:n>e.length-t&&Yo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===vr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++){const n=e.get(o),r=t.get(o);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class br extends vr{construct(e,t,n){return new br(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Qo(Xo.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new br(t)}static emptyPath(){return new br([])}}const _r=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends vr{construct(e,t,n){return new wr(e,t,n)}static isValidIdentifier(e){return _r.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const t=[];let n="",o=0;const r=()=>{if(0===n.length)throw new Qo(Xo.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;o<e.length;){const t=e[o];if("\\"===t){if(o+1===e.length)throw new Qo(Xo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[o+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Qo(Xo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,o+=2}else"`"===t?(i=!i,o++):"."!==t||i?(n+=t,o++):(r(),o++)}if(r(),i)throw new Qo(Xo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(wr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new xr(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const Sr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(e){if(Zo(!!e),"string"==typeof e){let t=0;const n=Sr.exec(e);if(Zo(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:kr(e.seconds),nanos:kr(e.nanos)}}function kr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ir(e){return"string"==typeof e?xr.fromBase64String(e):xr.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Rr(e){const t=e.mapValue.fields.__previous_value__;return Ar(t)?Rr(t):t}function Or(e){const t=Er(e.mapValue.fields.__local_write_time__.timestampValue);return new hr(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(e){return null==e}function jr(e){return 0===e&&1/e==-1/0}function Nr(e){return"number"==typeof e&&Number.isInteger(e)&&!jr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.path=e}static fromPath(e){return new Pr(br.fromString(e))}static fromName(e){return new Pr(br.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===br.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return br.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pr(new br(e.slice()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ar(e)?4:10:Yo()}function Mr(e,t){const n=Dr(e);if(n!==Dr(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Or(e).isEqual(Or(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Er(e.timestampValue),o=Er(t.timestampValue);return n.seconds===o.seconds&&n.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ir(e.bytesValue).isEqual(Ir(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kr(e.geoPointValue.latitude)===kr(t.geoPointValue.latitude)&&kr(e.geoPointValue.longitude)===kr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kr(e.integerValue)===kr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=kr(e.doubleValue),o=kr(t.doubleValue);return n===o?jr(n)===jr(o):isNaN(n)&&isNaN(o)}return!1}(e,t);case 9:return dr(e.arrayValue.values||[],t.arrayValue.values||[],Mr);case 10:return function(e,t){const n=e.mapValue.fields||{},o=t.mapValue.fields||{};if(gr(n)!==gr(o))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===o[r]||!Mr(n[r],o[r])))return!1;return!0}(e,t);default:return Yo()}}function Lr(e,t){return void 0!==(e.values||[]).find((e=>Mr(e,t)))}function Ur(e,t){const n=Dr(e),o=Dr(t);if(n!==o)return pr(n,o);switch(n){case 0:return 0;case 1:return pr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=kr(e.integerValue||e.doubleValue),o=kr(t.integerValue||t.doubleValue);return n<o?-1:n>o?1:n===o?0:isNaN(n)?isNaN(o)?0:-1:1}(e,t);case 3:return Fr(e.timestampValue,t.timestampValue);case 4:return Fr(Or(e),Or(t));case 5:return pr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ir(e),o=Ir(t);return n.compareTo(o)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),o=t.split("/");for(let r=0;r<n.length&&r<o.length;r++){const e=pr(n[r],o[r]);if(0!==e)return e}return pr(n.length,o.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=pr(kr(e.latitude),kr(t.latitude));return 0!==n?n:pr(kr(e.longitude),kr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],o=t.values||[];for(let r=0;r<n.length&&r<o.length;++r){const e=Ur(n[r],o[r]);if(e)return e}return pr(n.length,o.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},o=Object.keys(n),r=t.fields||{},i=Object.keys(r);o.sort(),i.sort();for(let s=0;s<o.length&&s<i.length;++s){const e=pr(o[s],i[s]);if(0!==e)return e;const t=Ur(n[o[s]],r[i[s]]);if(0!==t)return t}return pr(o.length,i.length)}(e.mapValue,t.mapValue);default:throw Yo()}}function Fr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pr(e,t);const n=Er(e),o=Er(t),r=pr(n.seconds,o.seconds);return 0!==r?r:pr(n.nanos,o.nanos)}function Br(e){return Hr(e)}function Hr(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Er(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ir(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Pr.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const o of e.values||[])n?n=!1:t+=",",t+=Hr(o);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",o=!0;for(const r of t)o?o=!1:n+=",",n+=`${r}:${Hr(e.fields[r])}`;return n+"}"}(e.mapValue):Yo();var t,n}function Wr(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function qr(e){return!!e&&"integerValue"in e}function Vr(e){return!!e&&"arrayValue"in e}function zr(e){return!!e&&"nullValue"in e}function Gr(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $r(e){return!!e&&"mapValue"in e}function Kr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return mr(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Kr(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kr(e.arrayValue.values[n]);return t}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$r(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kr(t)}setAll(e){let t=wr.emptyPath(),n={},o=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,o),n={},o=[],t=r.popLast()}e?n[r.lastSegment()]=Kr(e):o.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,o)}delete(e){const t=this.field(e.popLast());$r(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=t.mapValue.fields[e.get(n)];$r(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,n){mr(t,((t,n)=>e[t]=n));for(const o of n)delete e[o]}clone(){return new Yr(Kr(this.value))}}function Zr(e){const t=[];return mr(e.fields,((e,n)=>{const o=new wr([e]);if($r(n)){const e=Zr(n.mapValue).fields;if(0===e.length)t.push(o);else for(const n of e)t.push(o.child(n))}else t.push(o)})),new Tr(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Jr{constructor(e,t,n,o,r){this.key=e,this.documentType=t,this.version=n,this.data=o,this.documentState=r}static newInvalidDocument(e){return new Jr(e,0,fr.min(),Yr.empty(),0)}static newFoundDocument(e,t,n){return new Jr(e,1,t,n,0)}static newNoDocument(e,t){return new Jr(e,2,t,Yr.empty(),0)}static newUnknownDocument(e,t){return new Jr(e,3,t,Yr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Jr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t=null,n=[],o=[],r=null,i=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=o,this.limit=r,this.startAt=i,this.endAt=s,this.R=null}}function Qr(e,t=null,n=[],o=[],r=null,i=null,s=null){return new Xr(e,t,n,o,r,i,s)}function ei(e){const t=Jo(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ii(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Cr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=gi(t.startAt)),t.endAt&&(e+="|ub:",e+=gi(t.endAt)),t.R=e}return t.R}function ti(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Br(t.value)}`;var t})).join(", ")}]`),Cr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+gi(e.startAt)),e.endAt&&(t+=", endAt: "+gi(e.endAt)),`Target(${t})`}function ni(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!yi(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(n=e.filters[r],o=t.filters[r],n.op!==o.op||!n.field.isEqual(o.field)||!Mr(n.value,o.value))return!1;var n,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bi(e.startAt,t.startAt)&&bi(e.endAt,t.endAt)}function oi(e){return Pr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ri extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new si(e,t,n):"array-contains"===t?new ui(e,n):"in"===t?new pi(e,n):"not-in"===t?new di(e,n):"array-contains-any"===t?new hi(e,n):new ri(e,t,n)}static P(e,t,n){return"in"===t?new ai(e,n):new ci(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ur(t,this.value)):null!==t&&Dr(this.value)===Dr(t)&&this.v(Ur(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yo()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}function ii(e){return e.field.canonicalString()+e.op.toString()+Br(e.value)}class si extends ri{constructor(e,t,n){super(e,t,n),this.key=Pr.fromName(n.referenceValue)}matches(e){const t=Pr.comparator(e.key,this.key);return this.v(t)}}class ai extends ri{constructor(e,t){super(e,"in",t),this.keys=li("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ci extends ri{constructor(e,t){super(e,"not-in",t),this.keys=li("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function li(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Pr.fromName(e.referenceValue)))}class ui extends ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vr(t)&&Lr(t.arrayValue,this.value)}}class pi extends ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lr(this.value.arrayValue,t)}}class di extends ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lr(this.value.arrayValue,t)}}class hi extends ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vr(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Lr(this.value.arrayValue,e)))}}class fi{constructor(e,t){this.position=e,this.before=t}}function gi(e){return`${e.before?"b":"a"}:${e.position.map((e=>Br(e))).join(",")}`}class mi{constructor(e,t="asc"){this.field=e,this.dir=t}}function yi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function vi(e,t,n){let o=0;for(let r=0;r<e.position.length;r++){const i=t[r],s=e.position[r];if(o=i.field.isKeyField()?Pr.comparator(Pr.fromName(s.referenceValue),n.key):Ur(s,n.data.field(i.field)),"desc"===i.dir&&(o*=-1),0!==o)break}return e.before?o<=0:o<0}function bi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Mr(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t=null,n=[],o=[],r=null,i="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=o,this.limit=r,this.limitType=i,this.startAt=s,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function wi(e,t,n,o,r,i,s,a){return new _i(e,t,n,o,r,i,s,a)}function Ti(e){return new _i(e)}function xi(e){return!Cr(e.limit)&&"F"===e.limitType}function Si(e){return!Cr(e.limit)&&"L"===e.limitType}function Ei(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ki(e){for(const t of e.filters)if(t.V())return t.field;return null}function Ii(e){return null!==e.collectionGroup}function Ai(e){const t=Jo(e);if(null===t.S){t.S=[];const e=ki(t),n=Ei(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new mi(e)),t.S.push(new mi(wr.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new mi(wr.keyField(),e))}}}return t.S}function Ri(e){const t=Jo(e);if(!t.D)if("F"===t.limitType)t.D=Qr(t.path,t.collectionGroup,Ai(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const r of Ai(t)){const t="desc"===r.dir?"asc":"desc";e.push(new mi(r.field,t))}const n=t.endAt?new fi(t.endAt.position,!t.endAt.before):null,o=t.startAt?new fi(t.startAt.position,!t.startAt.before):null;t.D=Qr(t.path,t.collectionGroup,e,t.filters,t.limit,n,o)}return t.D}function Oi(e,t,n){return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ci(e,t){return ni(Ri(e),Ri(t))&&e.limitType===t.limitType}function ji(e){return`${ei(Ri(e))}|lt:${e.limitType}`}function Ni(e){return`Query(target=${ti(Ri(e))}; limitType=${e.limitType})`}function Pi(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!vi(e.startAt,Ai(e),t))&&(!e.endAt||!vi(e.endAt,Ai(e),t))}(e,t)}function Di(e){return(t,n)=>{let o=!1;for(const r of Ai(e)){const e=Mi(r,t,n);if(0!==e)return e;o=o||r.field.isKeyField()}return 0}}function Mi(e,t,n){const o=e.field.isKeyField()?Pr.comparator(t.key,n.key):function(e,t,n){const o=t.data.field(e),r=n.data.field(e);return null!==o&&null!==r?Ur(o,r):Yo()}(e.field,t,n);switch(e.dir){case"asc":return o;case"desc":return-1*o;default:return Yo()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jr(t)?"-0":t}}function Ui(e){return{integerValue:""+e}}function Fi(e,t){return Nr(t)?Ui(t):Li(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this._=void 0}}function Hi(e,t,n){return e instanceof Vi?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof zi?Gi(e,t):e instanceof $i?Ki(e,t):function(e,t){const n=qi(e,t),o=Zi(n)+Zi(e.N);return qr(n)&&qr(e.N)?Ui(o):Li(e.k,o)}(e,t)}function Wi(e,t,n){return e instanceof zi?Gi(e,t):e instanceof $i?Ki(e,t):n}function qi(e,t){return e instanceof Yi?qr(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Vi extends Bi{}class zi extends Bi{constructor(e){super(),this.elements=e}}function Gi(e,t){const n=Ji(t);for(const o of e.elements)n.some((e=>Mr(e,o)))||n.push(o);return{arrayValue:{values:n}}}class $i extends Bi{constructor(e){super(),this.elements=e}}function Ki(e,t){let n=Ji(t);for(const o of e.elements)n=n.filter((e=>!Mr(e,o)));return{arrayValue:{values:n}}}class Yi extends Bi{constructor(e,t){super(),this.k=e,this.N=t}}function Zi(e){return kr(e.integerValue||e.doubleValue)}function Ji(e){return Vr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t){this.field=e,this.transform=t}}function Qi(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof zi&&t instanceof zi||e instanceof $i&&t instanceof $i?dr(e.elements,t.elements,Mr):e instanceof Yi&&t instanceof Yi?Mr(e.N,t.N):e instanceof Vi&&t instanceof Vi}(e.transform,t.transform)}class es{constructor(e,t){this.version=e,this.transformResults=t}}class ts{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ns(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class os{}function rs(e,t,n){e instanceof ls?function(e,t,n){const o=e.value.clone(),r=ds(e.fieldTransforms,t,n.transformResults);o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):e instanceof us?function(e,t,n){if(!ns(e.precondition,t))return void t.convertToUnknownDocument(n.version);const o=ds(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(ps(e)),r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function is(e,t,n){e instanceof ls?function(e,t,n){if(!ns(e.precondition,t))return;const o=e.value.clone(),r=hs(e.fieldTransforms,n,t);o.setAll(r),t.convertToFoundDocument(cs(t),o).setHasLocalMutations()}(e,t,n):e instanceof us?function(e,t,n){if(!ns(e.precondition,t))return;const o=hs(e.fieldTransforms,n,t),r=t.data;r.setAll(ps(e)),r.setAll(o),t.convertToFoundDocument(cs(t),r).setHasLocalMutations()}(e,t,n):function(e,t){ns(e.precondition,t)&&t.convertToNoDocument(fr.min())}(e,t)}function ss(e,t){let n=null;for(const o of e.fieldTransforms){const e=t.data.field(o.field),r=qi(o.transform,e||null);null!=r&&(null==n&&(n=Yr.empty()),n.set(o.field,r))}return n||null}function as(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&dr(e,t,((e,t)=>Qi(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function cs(e){return e.isFoundDocument()?e.version:fr.min()}class ls extends os{constructor(e,t,n,o=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=o,this.type=0}}class us extends os{constructor(e,t,n,o,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=o,this.fieldTransforms=r,this.type=1}}function ps(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const o=e.data.field(n);t.set(n,o)}})),t}function ds(e,t,n){const o=new Map;Zo(e.length===n.length);for(let r=0;r<n.length;r++){const i=e[r],s=i.transform,a=t.data.field(i.field);o.set(i.field,Wi(s,a,n[r]))}return o}function hs(e,t,n){const o=new Map;for(const r of e){const e=r.transform,i=n.data.field(r.field);o.set(r.field,Hi(e,i,t))}return o}class fs extends os{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class gs extends os{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.count=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ys,vs;function bs(e){switch(e){default:return Yo();case Xo.CANCELLED:case Xo.UNKNOWN:case Xo.DEADLINE_EXCEEDED:case Xo.RESOURCE_EXHAUSTED:case Xo.INTERNAL:case Xo.UNAVAILABLE:case Xo.UNAUTHENTICATED:return!1;case Xo.INVALID_ARGUMENT:case Xo.NOT_FOUND:case Xo.ALREADY_EXISTS:case Xo.PERMISSION_DENIED:case Xo.FAILED_PRECONDITION:case Xo.ABORTED:case Xo.OUT_OF_RANGE:case Xo.UNIMPLEMENTED:case Xo.DATA_LOSS:return!0}}function _s(e){if(void 0===e)return Go("GRPC error has no .code"),Xo.UNKNOWN;switch(e){case ys.OK:return Xo.OK;case ys.CANCELLED:return Xo.CANCELLED;case ys.UNKNOWN:return Xo.UNKNOWN;case ys.DEADLINE_EXCEEDED:return Xo.DEADLINE_EXCEEDED;case ys.RESOURCE_EXHAUSTED:return Xo.RESOURCE_EXHAUSTED;case ys.INTERNAL:return Xo.INTERNAL;case ys.UNAVAILABLE:return Xo.UNAVAILABLE;case ys.UNAUTHENTICATED:return Xo.UNAUTHENTICATED;case ys.INVALID_ARGUMENT:return Xo.INVALID_ARGUMENT;case ys.NOT_FOUND:return Xo.NOT_FOUND;case ys.ALREADY_EXISTS:return Xo.ALREADY_EXISTS;case ys.PERMISSION_DENIED:return Xo.PERMISSION_DENIED;case ys.FAILED_PRECONDITION:return Xo.FAILED_PRECONDITION;case ys.ABORTED:return Xo.ABORTED;case ys.OUT_OF_RANGE:return Xo.OUT_OF_RANGE;case ys.UNIMPLEMENTED:return Xo.UNIMPLEMENTED;case ys.DATA_LOSS:return Xo.DATA_LOSS;default:return Yo()}}(vs=ys||(ys={}))[vs.OK=0]="OK",vs[vs.CANCELLED=1]="CANCELLED",vs[vs.UNKNOWN=2]="UNKNOWN",vs[vs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vs[vs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vs[vs.NOT_FOUND=5]="NOT_FOUND",vs[vs.ALREADY_EXISTS=6]="ALREADY_EXISTS",vs[vs.PERMISSION_DENIED=7]="PERMISSION_DENIED",vs[vs.UNAUTHENTICATED=16]="UNAUTHENTICATED",vs[vs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vs[vs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vs[vs.ABORTED=10]="ABORTED",vs[vs.OUT_OF_RANGE=11]="OUT_OF_RANGE",vs[vs.UNIMPLEMENTED=12]="UNIMPLEMENTED",vs[vs.INTERNAL=13]="INTERNAL",vs[vs.UNAVAILABLE=14]="UNAVAILABLE",vs[vs.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ws{constructor(e,t){this.comparator=e,this.root=t||xs.EMPTY}insert(e,t){return new ws(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new ws(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return t+n.left.size;o<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ts(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ts(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ts(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ts(this.root,e,this.comparator,!0)}}class Ts{constructor(e,t,n,o){this.isReverse=o,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,o&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xs{constructor(e,t,n,o,r){this.key=e,this.value=t,this.color=null!=n?n:xs.RED,this.left=null!=o?o:xs.EMPTY,this.right=null!=r?r:xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,o,r){return new xs(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=o?o:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const r=n(e,o.key);return o=r<0?o.copy(null,null,null,o.left.insert(e,t,n),null):0===r?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return xs.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yo();if(this.right.isRed())throw Yo();const e=this.left.check();if(e!==this.right.check())throw Yo();return e+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1,xs.EMPTY=new class{constructor(){this.size=0}get key(){throw Yo()}get value(){throw Yo()}get color(){throw Yo()}get left(){throw Yo()}get right(){throw Yo()}copy(e,t,n,o,r){return this}insert(e,t,n){return new xs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ss{constructor(e){this.comparator=e,this.data=new ws(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Es(this.data.getIterator())}getIteratorFrom(e){return new Es(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ss))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,o=n.getNext().key;if(0!==this.comparator(e,o))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ss(this.comparator);return t.data=e,t}}class Es{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new ws(Pr.comparator);function Is(){return ks}const As=new ws(Pr.comparator);function Rs(){return As}const Os=new ws(Pr.comparator);function Cs(){return Os}const js=new Ss(Pr.comparator);function Ns(...e){let t=js;for(const n of e)t=t.add(n);return t}const Ps=new Ss(pr);function Ds(){return Ps}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,n,o,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Ls.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ms(fr.min(),n,Ds(),Is(),Ns())}}class Ls{constructor(e,t,n,o,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ls(xr.EMPTY_BYTE_STRING,t,Ns(),Ns(),Ns())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t,n,o){this.$=e,this.removedTargetIds=t,this.key=n,this.F=o}}class Fs{constructor(e,t){this.targetId=e,this.O=t}}class Bs{constructor(e,t,n=xr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}}class Hs{constructor(){this.M=0,this.L=Vs(),this.B=xr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Ns(),t=Ns(),n=Ns();return this.L.forEach(((o,r)=>{switch(r){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:n=n.add(o);break;default:Yo()}})),new Ls(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=Vs()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class Ws{constructor(e){this.et=e,this.nt=new Map,this.st=Is(),this.it=qs(),this.rt=new Ss(pr)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,(t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:Yo()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(((e,n)=>{this.lt(n)&&t(n)}))}dt(e){const t=e.targetId,n=e.O.count,o=this.wt(t);if(o){const e=o.target;if(oi(e))if(0===n){const n=new Pr(e.path);this.ct(t,n,Jr.newNoDocument(n,fr.min()))}else Zo(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach(((n,o)=>{const r=this.wt(o);if(r){if(n.current&&oi(r.target)){const t=new Pr(r.target.path);null!==this.st.get(t)||this.yt(o,t)||this.ct(o,t,Jr.newNoDocument(t,e))}n.j&&(t.set(o,n.G()),n.H())}}));let n=Ns();this.it.forEach(((e,t)=>{let o=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(o=!1,!1)})),o&&(n=n.add(e))}));const o=new Ms(e,t,this.rt,this.st,n);return this.st=Is(),this.it=qs(),this.rt=new Ss(pr),o}at(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.lt(e))return;const o=this.ht(e);this.yt(e,t)?o.J(t,1):o.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new Hs,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Ss(pr),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||zo("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new Hs),this.et.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function qs(){return new ws(Pr.comparator)}function Vs(){return new ws(Pr.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=(()=>{const e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),Gs=(()=>{const e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})();class $s{constructor(e,t){this.databaseId=e,this.C=t}}function Ks(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ys(e,t){return e.C?t.toBase64():t.toUint8Array()}function Zs(e,t){return Ks(e,t.toTimestamp())}function Js(e){return Zo(!!e),fr.fromTimestamp(function(e){const t=Er(e);return new hr(t.seconds,t.nanos)}(e))}function Xs(e,t){return function(e){return new br(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Qs(e){const t=br.fromString(e);return Zo(Ea(t)),t}function ea(e,t){return Xs(e.databaseId,t.path)}function ta(e,t){const n=Qs(t);if(n.get(1)!==e.databaseId.projectId)throw new Qo(Xo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qo(Xo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pr(ia(n))}function na(e,t){return Xs(e.databaseId,t)}function oa(e){const t=Qs(e);return 4===t.length?br.emptyPath():ia(t)}function ra(e){return new br(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ia(e){return Zo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sa(e,t,n){return{name:ea(e,t),fields:n.value.mapValue.fields}}function aa(e,t,n){const o=ta(e,t.name),r=Js(t.updateTime),i=new Yr({mapValue:{fields:t.fields}}),s=Jr.newFoundDocument(o,r,i);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ca(e,t){let n;if("targetChange"in t){t.targetChange;const o=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Yo()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=function(e,t){return e.C?(Zo(void 0===t||"string"==typeof t),xr.fromBase64String(t||"")):(Zo(void 0===t||t instanceof Uint8Array),xr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Xo.UNKNOWN:_s(e.code);return new Qo(t,e.message||"")}(s);n=new Bs(o,r,i,a||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const r=ta(e,o.document.name),i=Js(o.document.updateTime),s=new Yr({mapValue:{fields:o.document.fields}}),a=Jr.newFoundDocument(r,i,s),c=o.targetIds||[],l=o.removedTargetIds||[];n=new Us(c,l,a.key,a)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const r=ta(e,o.document),i=o.readTime?Js(o.readTime):fr.min(),s=Jr.newNoDocument(r,i),a=o.removedTargetIds||[];n=new Us([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const r=ta(e,o.document),i=o.removedTargetIds||[];n=new Us([],i,r,null)}else{if(!("filter"in t))return Yo();{t.filter;const e=t.filter;e.targetId;const o=e.count||0,r=new ms(o),i=e.targetId;n=new Fs(i,r)}}return n}function la(e,t){let n;if(t instanceof ls)n={update:sa(e,t.key,t.value)};else if(t instanceof fs)n={delete:ea(e,t.key)};else if(t instanceof us)n={update:sa(e,t.key,t.data),updateMask:Sa(t.fieldMask)};else{if(!(t instanceof gs))return Yo();n={verify:ea(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Vi)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof zi)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $i)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yi)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Yo()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Yo()}(e,t.precondition)),n}function ua(e,t){return e&&e.length>0?(Zo(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Js(e.updateTime):Js(t);return n.isEqual(fr.min())&&(n=Js(t)),new es(n,e.transformResults||[])}(e,t)))):[]}function pa(e,t){return{documents:[na(e,t.path)]}}function da(e,t){const n={structuredQuery:{}},o=t.path;null!==t.collectionGroup?(n.parent=na(e,o),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=na(e,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const r=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Gr(e.value))return{unaryFilter:{field:_a(e.field),op:"IS_NAN"}};if(zr(e.value))return{unaryFilter:{field:_a(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gr(e.value))return{unaryFilter:{field:_a(e.field),op:"IS_NOT_NAN"}};if(zr(e.value))return{unaryFilter:{field:_a(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(e.field),op:ba(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);r&&(n.structuredQuery.where=r);const i=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:_a(e.field),direction:va(e.dir)}}(e)))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const s=function(e,t){return e.C||Cr(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=ma(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ma(t.endAt)),n}function ha(e){let t=oa(e.parent);const n=e.structuredQuery,o=n.from?n.from.length:0;let r=null;if(o>0){Zo(1===o);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=ga(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new mi(wa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Cr(t)?null:t}(n.limit));let c=null;n.startAt&&(c=ya(n.startAt));let l=null;return n.endAt&&(l=ya(n.endAt)),wi(t,r,s,i,a,"F",c,l)}function fa(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}function ga(e){return e?void 0!==e.unaryFilter?[xa(e)]:void 0!==e.fieldFilter?[Ta(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>ga(e))).reduce(((e,t)=>e.concat(t))):Yo():[]}function ma(e){return{before:e.before,values:e.position}}function ya(e){const t=!!e.before,n=e.values||[];return new fi(n,t)}function va(e){return zs[e]}function ba(e){return Gs[e]}function _a(e){return{fieldPath:e.canonicalString()}}function wa(e){return wr.fromServerFormat(e.fieldPath)}function Ta(e){return ri.create(wa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yo()}}(e.fieldFilter.op),e.fieldFilter.value)}function xa(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wa(e.unaryFilter.field);return ri.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=wa(e.unaryFilter.field);return ri.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wa(e.unaryFilter.field);return ri.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=wa(e.unaryFilter.field);return ri.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Yo()}}function Sa(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ea(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Aa(t)),t=Ia(e.get(n),t);return Aa(t)}function Ia(e,t){let n=t;const o=e.length;for(let r=0;r<o;r++){const t=e.charAt(r);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function Aa(e){return e+""}class Ra{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Ra.store="owner",Ra.key="owner";class Oa{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Oa.store="mutationQueues",Oa.keyPath="userId";class Ca{constructor(e,t,n,o,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=o,this.mutations=r}}Ca.store="mutations",Ca.keyPath="batchId",Ca.userMutationsIndex="userMutationsIndex",Ca.userMutationsKeyPath=["userId","batchId"];class ja{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ka(t)]}static key(e,t,n){return[e,ka(t),n]}}ja.store="documentMutations",ja.PLACEHOLDER=new ja;class Na{constructor(e,t,n,o,r,i){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=o,this.readTime=r,this.parentPath=i}}Na.store="remoteDocuments",Na.readTimeIndex="readTimeIndex",Na.readTimeIndexPath="readTime",Na.collectionReadTimeIndex="collectionReadTimeIndex",Na.collectionReadTimeIndexPath=["parentPath","readTime"];class Pa{constructor(e){this.byteSize=e}}Pa.store="remoteDocumentGlobal",Pa.key="remoteDocumentGlobalKey";class Da{constructor(e,t,n,o,r,i,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=o,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=i,this.query=s}}Da.store="targets",Da.keyPath="targetId",Da.queryTargetsIndexName="queryTargetsIndex",Da.queryTargetsKeyPath=["canonicalId","targetId"];class Ma{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Ma.store="targetDocuments",Ma.keyPath=["targetId","path"],Ma.documentTargetsIndex="documentTargetsIndex",Ma.documentTargetsKeyPath=["path","targetId"];class La{constructor(e,t,n,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=o}}La.key="targetGlobalKey",La.store="targetGlobal";class Ua{constructor(e,t){this.collectionId=e,this.parent=t}}Ua.store="collectionParents",Ua.keyPath=["collectionId","parent"];class Fa{constructor(e,t,n,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=o}}Fa.store="clientMetadata",Fa.keyPath="clientId";class Ba{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Ba.store="bundles",Ba.keyPath="bundleId";class Ha{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Ha.store="namedQueries",Ha.keyPath="name";Oa.store,Ca.store,ja.store,Na.store,Da.store,Ra.store,La.store,Ma.store,Fa.store,Pa.store,Ua.store,Ba.store,Ha.store;const Wa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Va(((n,o)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,o)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Va?t:Va.resolve(t)}catch(e){return Va.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Va.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Va.reject(t)}static resolve(e){return new Va(((t,n)=>{t(e)}))}static reject(e){return new Va(((t,n)=>{n(e)}))}static waitFor(e){return new Va(((t,n)=>{let o=0,r=0,i=!1;e.forEach((e=>{++o,e.next((()=>{++r,i&&r===o&&t()}),(e=>n(e)))})),i=!0,r===o&&t()}))}static or(e){let t=Va.resolve(!1);for(const n of e)t=t.next((e=>e?Va.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,o)=>{n.push(t.call(this,e,o))})),this.waitFor(n)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ga{constructor(e,t,n,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const t=this.mutations[o];t.key.isEqual(e.key)&&rs(t,e,n[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&is(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&is(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),o=n;this.applyToLocalView(o),n.isValidDocument()||o.convertToNoDocument(fr.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ns())}isEqual(e){return this.batchId===e.batchId&&dr(this.mutations,e.mutations,((e,t)=>as(e,t)))&&dr(this.baseMutations,e.baseMutations,((e,t)=>as(e,t)))}}class $a{constructor(e,t,n,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=o}static from(e,t,n){Zo(e.mutations.length===n.length);let o=Cs();const r=e.mutations;for(let i=0;i<r.length;i++)o=o.insert(r[i].key,n[i].version);return new $a(e,t,n,o)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,t,n,o,r=fr.min(),i=fr.min(),s=xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.Gt=e}}function Za(e){const t=ha({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Oi(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ja{constructor(){this.zt=new Xa}addToCollectionParentIndex(e,t){return this.zt.add(t),Va.resolve()}getCollectionParents(e,t){return Va.resolve(this.zt.getEntries(t))}}class Xa{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t]||new Ss(br.comparator),r=!o.has(n);return this.index[t]=o.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t];return o&&o.has(n)}getEntries(e){return(this.index[e]||new Ss(br.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Qa(e,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa.DEFAULT_COLLECTION_PERCENTILE=10,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qa.DEFAULT=new Qa(41943040,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qa.DISABLED=new Qa(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ec{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ec(0)}static re(){return new ec(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function tc(e){if(e.code!==Xo.FAILED_PRECONDITION||e.message!==Wa)throw e;zo("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class nc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[o,r]of n)if(this.equalsFn(o,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o){for(let n=0;n<o.length;n++)if(this.equalsFn(o[n][0],e))return void(o[n]=[e,t]);o.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return 1===n.length?delete this.inner[t]:n.splice(o,1),!0;return!1}forEach(e){mr(this.inner,((t,n)=>{for(const[o,r]of n)e(o,r)}))}isEmpty(){return yr(this.inner)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.changes=new nc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:fr.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Jr.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Va.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rc{constructor(e,t){this.progress=e,this.In=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Pn(e,t,n)))}Pn(e,t,n){return this.Je.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const o of t)o.applyToLocalView(n)}))}vn(e,t){return this.Je.getEntries(e,t).next((t=>this.Vn(e,t).next((()=>t))))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Pr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Ii(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new Pr(t)).next((e=>{let t=Rs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Dn(e,t,n){const o=t.collectionGroup;let r=Rs();return this.Jt.getCollectionParents(e,o).next((i=>Va.forEach(i,(i=>{const s=function(e,t){return new _i(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(o));return this.Cn(e,s,n).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}Cn(e,t,n){let o,r;return this.Je.getDocumentsMatchingQuery(e,t,n).next((n=>(o=n,this.An.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(r=t,this.Nn(e,r,o).next((e=>{o=e;for(const t of r)for(const e of t.mutations){const n=e.key;let r=o.get(n);null==r&&(r=Jr.newInvalidDocument(n),o=o.insert(n,r)),is(e,r,t.localWriteTime),r.isFoundDocument()||(o=o.remove(n))}}))))).next((()=>(o.forEach(((e,n)=>{Pi(t,n)||(o=o.remove(e))})),o)))}Nn(e,t,n){let o=Ns();for(const i of t)for(const e of i.mutations)e instanceof us&&null===n.get(e.key)&&(o=o.add(e.key));let r=n;return this.Je.getEntries(e,o).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(r=r.insert(e,t))})),r)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t,n,o){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=o}static $n(e,t){let n=Ns(),o=Ns();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:o=o.add(r.doc.key)}return new sc(e,t.fromCache,n,o)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,n,o){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(fr.min())?this.Mn(e,t):this.On.vn(e,o).next((r=>{const i=this.Ln(t,r);return(xi(t)||Si(t))&&this.Bn(t.limitType,i,o,n)?this.Mn(e,t):(Vo()<=s["in"].DEBUG&&zo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ni(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(i.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Ln(e,t){let n=new Ss(Di(e));return t.forEach(((t,o)=>{Pi(e,o)&&(n=n.add(o))})),n}Bn(e,t,n,o){if(n.size!==t.size)return!0;const r="F"===e?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(o)>0)}Mn(e,t){return Vo()<=s["in"].DEBUG&&zo("QueryEngine","Using full collection scan to execute query:",Ni(t)),this.On.getDocumentsMatchingQuery(e,t,fr.min())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t,n,o){this.persistence=e,this.Un=t,this.k=o,this.qn=new ws(pr),this.Kn=new nc((e=>ei(e)),ni),this.jn=fr.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new ic(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qn)))}}function lc(e,t,n,o){return new cc(e,t,n,o)}async function uc(e,t){const n=Jo(e);let o=n.An,r=n.Wn;const i=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.An.getAllMutationBatches(e).next((s=>(i=s,o=n.persistence.getMutationQueue(t),r=new ic(n.Qn,o,n.persistence.getIndexManager()),o.getAllMutationBatches(e)))).next((t=>{const n=[],o=[];let s=Ns();for(const e of i){n.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return r.vn(e,s).next((e=>({Gn:e,removedBatchIds:n,addedBatchIds:o})))}))}));return n.An=o,n.Wn=r,n.Un.Fn(n.Wn),i}function pc(e,t){const n=Jo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const o=t.batch.keys(),r=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,o){const r=n.batch,i=r.keys();let s=Va.resolve();return i.forEach((e=>{s=s.next((()=>o.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Zo(null!==i),t.version.compareTo(i)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&o.addEntry(t,n.commitVersion))}))})),s.next((()=>e.An.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,o)))}))}function dc(e){const t=Jo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.He.getLastRemoteSnapshotVersion(e)))}function hc(e,t){const n=Jo(e),o=t.snapshotVersion;let r=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Qn.newChangeBuffer({trackRemovals:!0});r=n.qn;const s=[];t.targetChanges.forEach(((t,i)=>{const a=r.get(i);if(!a)return;s.push(n.He.removeMatchingKeys(e,t.removedDocuments,i).next((()=>n.He.addMatchingKeys(e,t.addedDocuments,i))));const c=t.resumeToken;if(c.approximateByteSize()>0){const l=a.withResumeToken(c,o).withSequenceNumber(e.currentSequenceNumber);r=r.insert(i,l),function(e,t,n){return Zo(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(a,l,t)&&s.push(n.He.updateTargetData(e,l))}}));let a=Is();if(t.documentUpdates.forEach(((o,r)=>{t.resolvedLimboDocuments.has(o)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,o))})),s.push(fc(e,i,t.documentUpdates,o,void 0).next((e=>{a=e}))),!o.isEqual(fr.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next((t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,o)));s.push(t)}return Va.waitFor(s).next((()=>i.apply(e))).next((()=>n.Wn.Vn(e,a))).next((()=>a))})).then((e=>(n.qn=r,e)))}function fc(e,t,n,o,r){let i=Ns();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=Is();return n.forEach(((n,s)=>{const a=e.get(n),c=(null==r?void 0:r.get(n))||o;s.isNoDocument()&&s.version.isEqual(fr.min())?(t.removeEntry(n,c),i=i.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,c),i=i.insert(n,s)):zo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),i}))}function gc(e,t){const n=Jo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t))))}function mc(e,t){const n=Jo(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let o;return n.He.getTargetData(e,t).next((r=>r?(o=r,Va.resolve(o)):n.He.allocateTargetId(e).next((r=>(o=new Ka(t,r,0,e.currentSequenceNumber),n.He.addTargetData(e,o).next((()=>o)))))))})).then((e=>{const o=n.qn.get(e.targetId);return(null===o||e.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}async function yc(e,t,n){const o=Jo(e),r=o.qn.get(t),i=n?"readwrite":"readwrite-primary";try{n||await o.persistence.runTransaction("Release target",i,(e=>o.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!za(e))throw e;zo("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}o.qn=o.qn.remove(t),o.Kn.delete(r.target)}function vc(e,t,n){const o=Jo(e);let r=fr.min(),i=Ns();return o.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const o=Jo(e),r=o.Kn.get(n);return void 0!==r?Va.resolve(o.qn.get(r)):o.He.getTargetData(t,n)}(o,e,Ri(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,o.He.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>o.Un.getDocumentsMatchingQuery(e,t,n?r:fr.min(),n?i:Ns()))).next((e=>({documents:e,zn:i})))))}async function bc(e,t,n,o){const r=Jo(e);let i=Ns(),s=Is(),a=Cs();for(const u of n){const e=t.Hn(u.metadata.name);u.document&&(i=i.add(e)),s=s.insert(e,t.Jn(u)),a=a.insert(e,t.Yn(u.metadata.readTime))}const c=r.Qn.newChangeBuffer({trackRemovals:!0}),l=await mc(r,function(e){return Ri(Ti(br.fromString(`__bundle__/docs/${e}`)))}(o));return r.persistence.runTransaction("Apply bundle documents","readwrite",(e=>fc(e,c,s,fr.min(),a).next((t=>(c.apply(e),t))).next((t=>r.He.removeMatchingKeysForTargetId(e,l.targetId).next((()=>r.He.addMatchingKeys(e,i,l.targetId))).next((()=>r.Wn.Vn(e,t))).next((()=>t))))))}async function _c(e,t,n=Ns()){const o=await mc(e,Ri(Za(t.bundledQuery))),r=Jo(e);return r.persistence.runTransaction("Save named query","readwrite",(e=>{const i=Js(t.readTime);if(o.snapshotVersion.compareTo(i)>=0)return r.Ye.saveNamedQuery(e,t);const s=o.withResumeToken(xr.EMPTY_BYTE_STRING,i);return r.qn=r.qn.insert(s.targetId,s),r.He.updateTargetData(e,s).next((()=>r.He.removeMatchingKeysForTargetId(e,o.targetId))).next((()=>r.He.addMatchingKeys(e,n,o.targetId))).next((()=>r.Ye.saveNamedQuery(e,t)))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Va.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Js(n.createTime)}),Va.resolve()}getNamedQuery(e,t){return Va.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Za(e.bundledQuery),readTime:Js(e.readTime)}}(t)),Va.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.ts=new Ss(xc.es),this.ns=new Ss(xc.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new xc(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.os(new xc(e,t))}cs(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new Pr(new br([])),n=new xc(t,e),o=new xc(t,e+1),r=[];return this.ns.forEachInRange([n,o],(e=>{this.os(e),r.push(e.key)})),r}hs(){this.ts.forEach((e=>this.os(e)))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Pr(new br([])),n=new xc(t,e),o=new xc(t,e+1);let r=Ns();return this.ns.forEachInRange([n,o],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new xc(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class xc{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Pr.comparator(e.key,t.key)||pr(e.fs,t.fs)}static ss(e,t){return pr(e.fs,t.fs)||Pr.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Ss(xc.es)}checkEmpty(e){return Va.resolve(0===this.An.length)}addMutationBatch(e,t,n,o){const r=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const i=new Ga(r,t,n,o);this.An.push(i);for(const s of o)this.ws=this.ws.add(new xc(s.key,r)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast());return Va.resolve(i)}lookupMutationBatch(e,t){return Va.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,o=this.gs(n),r=o<0?0:o;return Va.resolve(this.An.length>r?this.An[r]:null)}getHighestUnacknowledgedBatchId(){return Va.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Va.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xc(t,0),o=new xc(t,Number.POSITIVE_INFINITY),r=[];return this.ws.forEachInRange([n,o],(e=>{const t=this._s(e.fs);r.push(t)})),Va.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ss(pr);return t.forEach((e=>{const t=new xc(e,0),o=new xc(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,o],(e=>{n=n.add(e.fs)}))})),Va.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,o=n.length+1;let r=n;Pr.isDocumentKey(r)||(r=r.child(""));const i=new xc(new Pr(r),0);let s=new Ss(pr);return this.ws.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===o&&(s=s.add(e.fs)),!0)}),i),Va.resolve(this.ys(s))}ys(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Zo(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return Va.forEach(t.mutations,(o=>{const r=new xc(o.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.ws=n}))}ee(e){}containsKey(e,t){const n=new xc(t,0),o=this.ws.firstAfterOrEqual(n);return Va.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.An.length,Va.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new ws(Pr.comparator),this.size=0}addEntry(e,t,n){const o=t.key,r=this.docs.get(o),i=r?r.size:0,s=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:s,readTime:n}),this.size+=s-i,this.Jt.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Va.resolve(n?n.document.clone():Jr.newInvalidDocument(t))}getEntries(e,t){let n=Is();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Jr.newInvalidDocument(e))})),Va.resolve(n)}getDocumentsMatchingQuery(e,t,n){let o=Is();const r=new Pr(t.path.child("")),i=this.docs.getIteratorFrom(r);for(;i.hasNext();){const{key:e,value:{document:r,readTime:s}}=i.getNext();if(!t.path.isPrefixOf(e.path))break;s.compareTo(n)<=0||Pi(t,r)&&(o=o.insert(r.key,r.clone()))}return Va.resolve(o)}Es(e,t){return Va.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new kc(this)}getSize(e){return Va.resolve(this.size)}}class kc extends oc{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach(((n,o)=>{o.document.isValidDocument()?t.push(this.De.addEntry(e,o.document,this.getReadTime(n))):this.De.removeEntry(n)})),Va.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.persistence=e,this.Is=new nc((e=>ei(e)),ni),this.lastRemoteSnapshotVersion=fr.min(),this.highestTargetId=0,this.As=0,this.Rs=new Tc,this.targetCount=0,this.Ps=ec.ie()}forEachTarget(e,t){return this.Is.forEach(((e,n)=>t(n))),Va.resolve()}getLastRemoteSnapshotVersion(e){return Va.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Va.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Va.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Va.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new ec(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Va.resolve()}updateTargetData(e,t){return this.ce(t),Va.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Va.resolve()}removeTargets(e,t,n){let o=0;const r=[];return this.Is.forEach(((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Is.delete(i),r.push(this.removeMatchingKeysForTargetId(e,s.targetId)),o++)})),Va.waitFor(r).next((()=>o))}getTargetCount(e){return Va.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return Va.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),Va.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const o=this.persistence.referenceDelegate,r=[];return o&&t.forEach((t=>{r.push(o.markPotentiallyOrphaned(e,t))})),Va.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Va.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return Va.resolve(n)}containsKey(e,t){return Va.resolve(this.Rs.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.bs={},this.Be=new cr(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Ic(this),this.Jt=new Ja,this.Je=function(e,t){return new Ec(e,t)}(this.Jt,(e=>this.referenceDelegate.vs(e))),this.k=new Ya(t),this.Ye=new wc(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Sc(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){zo("MemoryPersistence","Starting transaction:",e);const o=new Rc(this.Be.next());return this.referenceDelegate.Vs(),n(o).next((e=>this.referenceDelegate.Ss(o).next((()=>e)))).toPromise().then((e=>(o.raiseOnCommittedEvent(),e)))}Ds(e,t){return Va.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class Rc extends qa{constructor(e){super(),this.currentSequenceNumber=e}}class Oc{constructor(e){this.persistence=e,this.Cs=new Tc,this.Ns=null}static ks(e){return new Oc(e)}get xs(){if(this.Ns)return this.Ns;throw Yo()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Va.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Va.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Va.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Va.forEach(this.xs,(n=>{const o=Pr.fromPath(n);return this.$s(e,o).next((e=>{e||t.removeEntry(o)}))})).next((()=>(this.Ns=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}vs(e){return 0}$s(e,t){return Va.or([()=>Va.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.activeTargetIds=Ds()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jc{constructor(){this.pi=new Cc,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Cc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{Ei(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){zo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){zo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,o,r){const i=this.Ui(e,t);zo("RestConnection","Sending: ",i,n);const s={};return this.qi(s,o,r),this.Ki(e,i,s,n).then((e=>(zo("RestConnection","Received: ",e),e)),(t=>{throw $o("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}ji(e,t,n,o,r){return this.Bi(e,t,n,o,r)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Ui(e,t){const n=Dc[e];return`${this.Mi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,o){return new Promise(((r,i)=>{const s=new Fo;s.listenOnce(Po.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case No.NO_ERROR:const t=s.getResponseJson();zo("Connection","XHR received:",JSON.stringify(t)),r(t);break;case No.TIMEOUT:zo("Connection",'RPC "'+e+'" timed out'),i(new Qo(Xo.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:const n=s.getStatus();if(zo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xo).indexOf(t)>=0?t:Xo.UNKNOWN}(e.status);i(new Qo(t,e.message))}else i(new Qo(Xo.UNKNOWN,"Server responded with status "+s.getStatus()))}else i(new Qo(Xo.UNAVAILABLE,"Connection failed."));break;default:Yo()}}finally{zo("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(o);s.send(t,"POST",a,n,15)}))}Qi(e,t,n){const o=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Co(),i=jo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Lo({})),this.qi(s.initMessageHeaders,t,n),(0,a.uI)()||(0,a.b$)()||(0,a.d)()||(0,a.w1)()||(0,a.Mn)()||(0,a.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const c=o.join("");zo("Connection","Creating WebChannel: "+c,s);const l=r.createWebChannel(c,s);let u=!1,p=!1;const d=new Mc({Vi:e=>{p?zo("Connection","Not sending because WebChannel is closed:",e):(u||(zo("Connection","Opening WebChannel transport."),l.open(),u=!0),zo("Connection","WebChannel sending:",e),l.send(e))},Si:()=>l.close()}),h=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return h(l,Uo.EventType.OPEN,(()=>{p||zo("Connection","WebChannel transport opened.")})),h(l,Uo.EventType.CLOSE,(()=>{p||(p=!0,zo("Connection","WebChannel transport closed"),d.Fi())})),h(l,Uo.EventType.ERROR,(e=>{p||(p=!0,$o("Connection","WebChannel transport errored:",e),d.Fi(new Qo(Xo.UNAVAILABLE,"The operation could not be completed")))})),h(l,Uo.EventType.MESSAGE,(e=>{var t;if(!p){const n=e.data[0];Zo(!!n);const o=n,r=o.error||(null===(t=o[0])||void 0===t?void 0:t.error);if(r){zo("Connection","WebChannel received error:",r);const e=r.status;let t=function(e){const t=ys[e];if(void 0!==t)return _s(t)}(e),n=r.message;void 0===t&&(t=Xo.INTERNAL,n="Unknown error status: "+e+" with message "+r.message),p=!0,d.Fi(new Qo(t,n)),l.close()}else zo("Connection","WebChannel received:",n),d.Oi(n)}})),h(i,Do.STAT_EVENT,(e=>{e.stat===Mo.PROXY?zo("Connection","Detected buffering proxy"):e.stat===Mo.NOPROXY&&zo("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.$i()}),0),d}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(e){return new $s(e,!0)}class Bc{constructor(e,t,n=1e3,o=1.5,r=6e4){this.Oe=e,this.timerId=t,this.Wi=n,this.Gi=o,this.zi=r,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),o=Math.max(0,t-n);o>0&&zo("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,o,(()=>(this.Yi=Date.now(),e()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t,n,o,r,i,s,a){this.Oe=e,this.nr=n,this.sr=o,this.ir=r,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Bc(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===Xo.RESOURCE_EXHAUSTED?(Go(t.toString()),Go("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===Xo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.rr===t&&this.Ir(e,n)}),(t=>{e((()=>{const e=new Qo(Xo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)}))}))}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((()=>{n((()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((e=>{n((()=>this.Ar(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(e){return zo("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget((()=>this.rr===e?t():(zo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wc extends Hc{constructor(e,t,n,o,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,o,i),this.k=r}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=ca(this.k,e),n=function(e){if(!("targetChange"in e))return fr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?fr.min():t.readTime?Js(t.readTime):fr.min()}(e);return this.listener.Pr(t,n)}br(e){const t={};t.database=ra(this.k),t.addTarget=function(e,t){let n;const o=t.target;return n=oi(o)?{documents:pa(e,o)}:{query:da(e,o)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ys(e,t.resumeToken):t.snapshotVersion.compareTo(fr.min())>0&&(n.readTime=Ks(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=fa(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=ra(this.k),t.removeTarget=e,this.gr(t)}}class qc extends Hc{constructor(e,t,n,o,r,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,o,i),this.k=r,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Zo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=ua(e.writeResults,e.commitTime),n=Js(e.commitTime);return this.listener.Cr(n,t)}return Zo(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=ra(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>la(this.k,e)))};this.gr(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends class{}{constructor(e,t,n,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=o,this.$r=!1}Fr(){if(this.$r)throw new Qo(Xo.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,r])=>this.ir.Bi(e,t,n,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Xo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qo(Xo.UNKNOWN,e.toString())}))}ji(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,r])=>this.ir.ji(e,t,n,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Xo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qo(Xo.UNKNOWN,e.toString())}))}terminate(){this.$r=!0}}class zc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Go(t),this.Lr=!1):zo("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t,n,o,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=r,this.Hr.Ei((e=>{n.enqueueAndForget((async()=>{tl(this)&&(zo("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Jo(e);t.Gr.add(4),await Kc(t),t.Jr.set("Unknown"),t.Gr.delete(4),await $c(t)}(this))}))})),this.Jr=new zc(n,o)}}async function $c(e){if(tl(e))for(const t of e.zr)await t(!0)}async function Kc(e){for(const t of e.zr)await t(!1)}function Yc(e,t){const n=Jo(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),el(n)?Qc(n):vl(n).lr()&&Jc(n,t))}function Zc(e,t){const n=Jo(e),o=vl(n);n.Wr.delete(t),o.lr()&&Xc(n,t),0===n.Wr.size&&(o.lr()?o._r():tl(n)&&n.Jr.set("Unknown"))}function Jc(e,t){e.Yr.X(t.targetId),vl(e).br(t)}function Xc(e,t){e.Yr.X(t),vl(e).vr(t)}function Qc(e){e.Yr=new Ws({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),vl(e).start(),e.Jr.Br()}function el(e){return tl(e)&&!vl(e).hr()&&e.Wr.size>0}function tl(e){return 0===Jo(e).Gr.size}function nl(e){e.Yr=void 0}async function ol(e){e.Wr.forEach(((t,n)=>{Jc(e,t)}))}async function rl(e,t){nl(e),el(e)?(e.Jr.Kr(t),Qc(e)):e.Jr.set("Unknown")}async function il(e,t,n){if(e.Jr.set("Online"),t instanceof Bs&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const o of t.targetIds)e.Wr.has(o)&&(await e.remoteSyncer.rejectListen(o,n),e.Wr.delete(o),e.Yr.removeTarget(o))}(e,t)}catch(n){zo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sl(e,n)}else if(t instanceof Us?e.Yr.ot(t):t instanceof Fs?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(fr.min()))try{const t=await dc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach(((n,o)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Wr.get(o);r&&e.Wr.set(o,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(xr.EMPTY_BYTE_STRING,n.snapshotVersion)),Xc(e,t);const o=new Ka(n.target,t,1,n.sequenceNumber);Jc(e,o)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){zo("RemoteStore","Failed to raise snapshot:",t),await sl(e,t)}}async function sl(e,t,n){if(!za(t))throw t;e.Gr.add(1),await Kc(e),e.Jr.set("Offline"),n||(n=()=>dc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{zo("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await $c(e)}))}function al(e,t){return t().catch((n=>sl(e,n,t)))}async function cl(e){const t=Jo(e),n=bl(t);let o=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;ll(t);)try{const e=await gc(t.localStore,o);if(null===e){0===t.Qr.length&&n._r();break}o=e.batchId,ul(t,e)}catch(e){await sl(t,e)}pl(t)&&dl(t)}function ll(e){return tl(e)&&e.Qr.length<10}function ul(e,t){e.Qr.push(t);const n=bl(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function pl(e){return tl(e)&&!bl(e).hr()&&e.Qr.length>0}function dl(e){bl(e).start()}async function hl(e){bl(e).kr()}async function fl(e){const t=bl(e);for(const n of e.Qr)t.Dr(n.mutations)}async function gl(e,t,n){const o=e.Qr.shift(),r=$a.from(o,t,n);await al(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await cl(e)}async function ml(e,t){t&&bl(e).Sr&&await async function(e,t){if(n=t.code,bs(n)&&n!==Xo.ABORTED){const n=e.Qr.shift();bl(e).wr(),await al(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await cl(e)}var n}(e,t),pl(e)&&dl(e)}async function yl(e,t){const n=Jo(e);t?(n.Gr.delete(2),await $c(n)):t||(n.Gr.add(2),await Kc(n),n.Jr.set("Unknown"))}function vl(e){return e.Xr||(e.Xr=function(e,t,n){const o=Jo(e);return o.Fr(),new Wc(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Di:ol.bind(null,e),Ni:rl.bind(null,e),Pr:il.bind(null,e)}),e.zr.push((async t=>{t?(e.Xr.wr(),el(e)?Qc(e):e.Jr.set("Unknown")):(await e.Xr.stop(),nl(e))}))),e.Xr}function bl(e){return e.Zr||(e.Zr=function(e,t,n){const o=Jo(e);return o.Fr(),new qc(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,n)}(e.datastore,e.asyncQueue,{Di:hl.bind(null,e),Ni:ml.bind(null,e),Nr:fl.bind(null,e),Cr:gl.bind(null,e)}),e.zr.push((async t=>{t?(e.Zr.wr(),await cl(e)):(await e.Zr.stop(),e.Qr.length>0&&(zo("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))}))),e.Zr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class _l{constructor(e,t,n,o,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=r,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,o,r){const i=Date.now()+n,s=new _l(e,t,i,o,r);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qo(Xo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wl(e,t){if(Go("AsyncQueue",`${t}: ${e}`),za(e))return new Qo(Xo.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Pr.comparator(t.key,n.key):(e,t)=>Pr.comparator(e.key,t.key),this.keyedMap=Rs(),this.sortedSet=new ws(this.comparator)}static emptySet(e){return new Tl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tl))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,o=n.getNext().key;if(!e.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Tl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.eo=new ws(Pr.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Yo():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Sl{constructor(e,t,n,o,r,i,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=r,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,o){const r=[];return t.forEach((e=>{r.push({type:0,doc:e})})),new Sl(e,t,Tl.emptySet(t),r,n,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ci(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.so=void 0,this.listeners=[]}}class kl{constructor(){this.queries=new nc((e=>ji(e)),Ci),this.onlineState="Unknown",this.io=new Set}}async function Il(e,t){const n=Jo(e),o=t.query;let r=!1,i=n.queries.get(o);if(i||(r=!0,i=new El),r)try{i.so=await n.onListen(o)}catch(e){const n=wl(e,`Initialization of query '${Ni(t.query)}' failed`);return void t.onError(n)}n.queries.set(o,i),i.listeners.push(t),t.ro(n.onlineState),i.so&&t.oo(i.so)&&Cl(n)}async function Al(e,t){const n=Jo(e),o=t.query;let r=!1;const i=n.queries.get(o);if(i){const e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),r=0===i.listeners.length)}if(r)return n.queries.delete(o),n.onUnlisten(o)}function Rl(e,t){const n=Jo(e);let o=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.oo(r)&&(o=!0);t.so=r}}o&&Cl(n)}function Ol(e,t,n){const o=Jo(e),r=o.queries.get(t);if(r)for(const i of r.listeners)i.onError(n);o.queries.delete(t)}function Cl(e){e.io.forEach((e=>{e.next()}))}class jl{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Sl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.k=e}Hn(e){return ta(this.k,e)}Jn(e){return e.metadata.exists?aa(this.k,e.document,!1):Jr.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Js(e)}}class Dl{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=Ml(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new Pl(this.k);for(const o of e)if(o.metadata.queries){const e=n.Hn(o.metadata.name);for(const n of o.metadata.queries){const o=(t.get(n)||Ns()).add(e);t.set(n,o)}}return t}async complete(){const e=await bc(this.localStore,new Pl(this.k),this.documents,this.mo.id),t=this.po(this.documents);for(const n of this.queries)await _c(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",new rc(Object.assign({},this.progress),e)}}function Ml(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.key=e}}class Ul{constructor(e){this.key=e}}class Fl{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Ns(),this.mutatedKeys=Ns(),this.Ao=Di(e),this.Ro=new Tl(this.Ao)}get Po(){return this.To}bo(e,t){const n=t?t.vo:new xl,o=t?t.Ro:this.Ro;let r=t?t.mutatedKeys:this.mutatedKeys,i=o,s=!1;const a=xi(this.query)&&o.size===this.query.limit?o.last():null,c=Si(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((e,t)=>{const l=o.get(e),u=Pi(this.query,t)?t:null,p=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let h=!1;l&&u?l.data.isEqual(u.data)?p!==d&&(n.track({type:3,doc:u}),h=!0):this.Vo(l,u)||(n.track({type:2,doc:u}),h=!0,(a&&this.Ao(u,a)>0||c&&this.Ao(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),h=!0):l&&!u&&(n.track({type:1,doc:l}),h=!0,(a||c)&&(s=!0)),h&&(u?(i=i.add(u),r=d?r.add(e):r.delete(e)):(i=i.delete(e),r=r.delete(e)))})),xi(this.query)||Si(this.query))for(;i.size>this.query.limit;){const e=xi(this.query)?i.last():i.first();i=i.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Ro:i,vo:n,Bn:s,mutatedKeys:r}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const o=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const r=e.vo.no();r.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yo()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.Ao(e.doc,t.doc))),this.So(n);const i=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,a=s!==this.Eo;return this.Eo=s,0!==r.length||a?{snapshot:new Sl(this.query,e.Ro,o,r,e.mutatedKeys,0===s,a,!1),Co:i}:{Co:i}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new xl,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach((e=>this.To=this.To.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.To=this.To.delete(e))),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Ns(),this.Ro.forEach((e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))}));const t=[];return e.forEach((e=>{this.Io.has(e)||t.push(new Ul(e))})),this.Io.forEach((n=>{e.has(n)||t.push(new Ll(n))})),t}ko(e){this.To=e.zn,this.Io=Ns();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Sl.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Bl{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Hl{constructor(e){this.key=e,this.$o=!1}}class Wl{constructor(e,t,n,o,r,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=o,this.currentUser=r,this.maxConcurrentLimboResolutions=i,this.Fo={},this.Oo=new nc((e=>ji(e)),Ci),this.Mo=new Map,this.Lo=new Set,this.Bo=new ws(Pr.comparator),this.Uo=new Map,this.qo=new Tc,this.Ko={},this.jo=new Map,this.Qo=ec.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function ql(e,t){const n=cu(e);let o,r;const i=n.Oo.get(t);if(i)o=i.targetId,n.sharedClientState.addLocalQueryTarget(o),r=i.view.xo();else{const e=await mc(n.localStore,Ri(t)),i=n.sharedClientState.addLocalQueryTarget(e.targetId);o=e.targetId,r=await Vl(n,t,o,"current"===i),n.isPrimaryClient&&Yc(n.remoteStore,e)}return r}async function Vl(e,t,n,o){e.Go=(t,n,o)=>async function(e,t,n,o){let r=t.view.bo(n);r.Bn&&(r=await vc(e.localStore,t.query,!1).then((({documents:e})=>t.view.bo(e,r))));const i=o&&o.targetChanges.get(t.targetId),s=t.view.applyChanges(r,e.isPrimaryClient,i);return nu(e,t.targetId,s.Co),s.snapshot}(e,t,n,o);const r=await vc(e.localStore,t,!0),i=new Fl(t,r.zn),s=i.bo(r.documents),a=Ls.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==e.onlineState),c=i.applyChanges(s,e.isPrimaryClient,a);nu(e,n,c.Co);const l=new Bl(t,n,i);return e.Oo.set(t,l),e.Mo.has(n)?e.Mo.get(n).push(t):e.Mo.set(n,[t]),c.snapshot}async function zl(e,t){const n=Jo(e),o=n.Oo.get(t),r=n.Mo.get(o.targetId);if(r.length>1)return n.Mo.set(o.targetId,r.filter((e=>!Ci(e,t)))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await yc(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),Zc(n.remoteStore,o.targetId),eu(n,o.targetId)})).catch(tc)):(eu(n,o.targetId),await yc(n.localStore,o.targetId,!0))}async function Gl(e,t,n){const o=lu(e);try{const e=await function(e,t){const n=Jo(e),o=hr.now(),r=t.reduce(((e,t)=>e.add(t.key)),Ns());let i;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Wn.vn(e,r).next((r=>{i=r;const s=[];for(const e of t){const t=ss(e,i.get(e.key));null!=t&&s.push(new us(e.key,t,Zr(t.value.mapValue),ts.exists(!0)))}return n.An.addMutationBatch(e,o,s,t)})))).then((e=>(e.applyToLocalDocumentSet(i),{batchId:e.batchId,changes:i})))}(o.localStore,t);o.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let o=e.Ko[e.currentUser.toKey()];o||(o=new ws(pr)),o=o.insert(t,n),e.Ko[e.currentUser.toKey()]=o}(o,e.batchId,n),await iu(o,e.changes),await cl(o.remoteStore)}catch(e){const t=wl(e,"Failed to persist write");n.reject(t)}}async function $l(e,t){const n=Jo(e);try{const e=await hc(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const o=n.Uo.get(t);o&&(Zo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?o.$o=!0:e.modifiedDocuments.size>0?Zo(o.$o):e.removedDocuments.size>0&&(Zo(o.$o),o.$o=!1))})),await iu(n,e,t)}catch(e){await tc(e)}}function Kl(e,t,n){const o=Jo(e);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const e=[];o.Oo.forEach(((n,o)=>{const r=o.view.ro(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Jo(e);n.onlineState=t;let o=!1;n.queries.forEach(((e,n)=>{for(const r of n.listeners)r.ro(t)&&(o=!0)})),o&&Cl(n)}(o.eventManager,t),e.length&&o.Fo.Pr(e),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function Yl(e,t,n){const o=Jo(e);o.sharedClientState.updateQueryState(t,"rejected",n);const r=o.Uo.get(t),i=r&&r.key;if(i){let e=new ws(Pr.comparator);e=e.insert(i,Jr.newNoDocument(i,fr.min()));const n=Ns().add(i),r=new Ms(fr.min(),new Map,new Ss(pr),e,n);await $l(o,r),o.Bo=o.Bo.remove(i),o.Uo.delete(t),ru(o)}else await yc(o.localStore,t,!1).then((()=>eu(o,t,n))).catch(tc)}async function Zl(e,t){const n=Jo(e),o=t.batch.batchId;try{const e=await pc(n.localStore,t);Ql(n,o,null),Xl(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),await iu(n,e)}catch(e){await tc(e)}}async function Jl(e,t,n){const o=Jo(e);try{const e=await function(e,t){const n=Jo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let o;return n.An.lookupMutationBatch(e,t).next((t=>(Zo(null!==t),o=t.keys(),n.An.removeMutationBatch(e,t)))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,o)))}))}(o.localStore,t);Ql(o,t,n),Xl(o,t),o.sharedClientState.updateMutationState(t,"rejected",n),await iu(o,e)}catch(n){await tc(n)}}function Xl(e,t){(e.jo.get(t)||[]).forEach((e=>{e.resolve()})),e.jo.delete(t)}function Ql(e,t,n){const o=Jo(e);let r=o.Ko[o.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),o.Ko[o.currentUser.toKey()]=r}}function eu(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const o of e.Mo.get(t))e.Oo.delete(o),n&&e.Fo.zo(o,n);e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((t=>{e.qo.containsKey(t)||tu(e,t)}))}function tu(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(Zc(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),ru(e))}function nu(e,t,n){for(const o of n)o instanceof Ll?(e.qo.addReference(o.key,t),ou(e,o)):o instanceof Ul?(zo("SyncEngine","Document no longer in limbo: "+o.key),e.qo.removeReference(o.key,t),e.qo.containsKey(o.key)||tu(e,o.key)):Yo()}function ou(e,t){const n=t.key,o=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(o)||(zo("SyncEngine","New document in limbo: "+n),e.Lo.add(o),ru(e))}function ru(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new Pr(br.fromString(t)),o=e.Qo.next();e.Uo.set(o,new Hl(n)),e.Bo=e.Bo.insert(n,o),Yc(e.remoteStore,new Ka(Ri(Ti(n.path)),o,2,cr.I))}}async function iu(e,t,n){const o=Jo(e),r=[],i=[],s=[];o.Oo.isEmpty()||(o.Oo.forEach(((e,a)=>{s.push(o.Go(a,t,n).then((e=>{if(e){o.isPrimaryClient&&o.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),r.push(e);const t=sc.$n(a.targetId,e);i.push(t)}})))})),await Promise.all(s),o.Fo.Pr(r),await async function(e,t){const n=Jo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Va.forEach(t,(t=>Va.forEach(t.kn,(o=>n.persistence.referenceDelegate.addReference(e,t.targetId,o))).next((()=>Va.forEach(t.xn,(o=>n.persistence.referenceDelegate.removeReference(e,t.targetId,o)))))))))}catch(e){if(!za(e))throw e;zo("LocalStore","Failed to update sequence numbers: "+e)}for(const o of t){const e=o.targetId;if(!o.fromCache){const t=n.qn.get(e),o=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(o);n.qn=n.qn.insert(e,r)}}}(o.localStore,i))}async function su(e,t){const n=Jo(e);if(!n.currentUser.isEqual(t)){zo("SyncEngine","User change. New user:",t.toKey());const e=await uc(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach((e=>{e.forEach((e=>{e.reject(new Qo(Xo.CANCELLED,t))}))})),e.jo.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await iu(n,e.Gn)}}function au(e,t){const n=Jo(e),o=n.Uo.get(t);if(o&&o.$o)return Ns().add(o.key);{let e=Ns();const o=n.Mo.get(t);if(!o)return e;for(const t of o){const o=n.Oo.get(t);e=e.unionWith(o.view.Po)}return e}}function cu(e){const t=Jo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$l.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=au.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yl.bind(null,t),t.Fo.Pr=Rl.bind(null,t.eventManager),t.Fo.zo=Ol.bind(null,t.eventManager),t}function lu(e){const t=Jo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zl.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jl.bind(null,t),t}function uu(e,t,n){const o=Jo(e);(async function(e,t,n){try{const o=await t.getMetadata();if(await function(e,t){const n=Jo(e),o=Js(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ye.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(o)>=0))}(e.localStore,o))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(o));n._updateProgress(Ml(o));const r=new Dl(o,e.localStore,t.k);let i=await t.Ho();for(;i;){const e=await r.yo(i);e&&n._updateProgress(e),i=await t.Ho()}const s=await r.complete();await iu(e,s.In,void 0),await function(e,t){const n=Jo(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ye.saveBundleMetadata(e,t)))}(e.localStore,o),n._completeWith(s.progress)}catch(e){$o("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(o,t,n).then((()=>{o.sharedClientState.notifyBundleLoaded()}))}class pu{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=Fc(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return lc(this.persistence,new ac,e.initialUser,this.k)}Yo(e){return new Ac(Oc.ks,this.k)}Jo(e){return new jc}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class du{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Kl(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=su.bind(null,this.syncEngine),await yl(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new kl}createDatastore(e){const t=Fc(e.databaseInfo.databaseId),n=(o=e.databaseInfo,new Lc(o));var o;return function(e,t,n,o){return new Vc(e,t,n,o)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,o=e.asyncQueue,r=e=>Kl(this.syncEngine,e,0),i=Pc.bt()?new Pc:new Nc,new Gc(t,n,o,r,i);var t,n,o,r,i}createSyncEngine(e,t){return function(e,t,n,o,r,i,s){const a=new Wl(e,t,n,o,r,i);return s&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Jo(e);zo("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Kc(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const o={value:e.slice(n,n+t),done:!1};return n+=t,o}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t){this.sa=e,this.k=t,this.metadata=new er,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.sa.cancel()}async getMetadata(){return this.metadata.promise}async Ho(){return await this.getMetadata(),this.ra()}async ra(){const e=await this.oa();if(null===e)return null;const t=this.ia.decode(e),n=Number(t);isNaN(n)&&this.aa(`length string (${t}) is not valid number`);const o=await this.ca(n);return new Nl(JSON.parse(o),e.length+n)}ua(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async oa(){for(;this.ua()<0;)if(await this.ha())break;if(0===this.buffer.length)return null;const e=this.ua();e<0&&this.aa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ca(e){for(;this.buffer.length<e;)await this.ha()&&this.aa("Reached the end of bundle when more is expected.");const t=this.ia.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ha(){const e=await this.sa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mu{constructor(e,t,n,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=o,this.user=Ho.UNAUTHENTICATED,this.clientId=ur.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{zo("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(()=>Promise.resolve()))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qo(Xo.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=wl(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function yu(e,t){e.asyncQueue.verifyOperationInProgress(),zo("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let o=n.initialUser;e.setCredentialChangeListener((async e=>{o.isEqual(e)||(await uc(t.localStore,e),o=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function vu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bu(e);zo("FirestoreClient","Initializing OnlineComponentProvider");const o=await e.getConfiguration();await t.initialize(n,o),e.setCredentialChangeListener((e=>async function(e,t){const n=Jo(e);n.asyncQueue.verifyOperationInProgress(),zo("RemoteStore","RemoteStore received new credentials");const o=tl(n);n.Gr.add(3),await Kc(n),o&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await $c(n)}(t.remoteStore,e))),e.onlineComponents=t}async function bu(e){return e.offlineComponents||(zo("FirestoreClient","Using default OfflineComponentProvider"),await yu(e,new pu)),e.offlineComponents}async function _u(e){return e.onlineComponents||(zo("FirestoreClient","Using default OnlineComponentProvider"),await vu(e,new du)),e.onlineComponents}function wu(e){return bu(e).then((e=>e.localStore))}function Tu(e){return _u(e).then((e=>e.syncEngine))}async function xu(e){const t=await _u(e),n=t.eventManager;return n.onListen=ql.bind(null,t.syncEngine),n.onUnlisten=zl.bind(null,t.syncEngine),n}function Su(e,t){const n=new er;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const o=await function(e,t){const n=Jo(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Wn.Rn(e,t)))}(e,t);o.isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new Qo(Xo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const o=wl(e,`Failed to get document '${t} from cache`);n.reject(o)}}(await wu(e),t,n))),n.promise}function Eu(e,t,n={}){const o=new er;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,o,r){const i=new fu({next:i=>{t.enqueueAndForget((()=>Al(e,s)));const a=i.docs.has(n);!a&&i.fromCache?r.reject(new Qo(Xo.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&i.fromCache&&o&&"server"===o.source?r.reject(new Qo(Xo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(i)},error:e=>r.reject(e)}),s=new jl(Ti(n.path),i,{includeMetadataChanges:!0,wo:!0});return Il(e,s)}(await xu(e),e.asyncQueue,t,n,o))),o.promise}function ku(e,t,n={}){const o=new er;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,o,r){const i=new fu({next:n=>{t.enqueueAndForget((()=>Al(e,s))),n.fromCache&&"server"===o.source?r.reject(new Qo(Xo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),s=new jl(n,i,{includeMetadataChanges:!0,wo:!0});return Il(e,s)}(await xu(e),e.asyncQueue,t,n,o))),o.promise}function Iu(e,t,n,o){const r=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new gu(e,t)}(function(e,t){if(e instanceof Uint8Array)return hu(e,t);if(e instanceof ArrayBuffer)return hu(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,Fc(t));e.asyncQueue.enqueueAndForget((async()=>{uu(await Tu(e),r,o)}))}class Au{constructor(e,t,n,o,r,i,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=o,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class Ru{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e,t,n){if(!n)throw new Qo(Xo.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ju(e,t,n,o){if(!0===t&&!0===o)throw new Qo(Xo.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Nu(e){if(!Pr.isDocumentKey(e))throw new Qo(Xo.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Pu(e){if(Pr.isDocumentKey(e))throw new Qo(Xo.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Du(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Yo()}function Mu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qo(Xo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Du(e);throw new Qo(Xo.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Lu(e,t){if(t<=0)throw new Qo(Xo.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Qo(Xo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qo(Xo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ju("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uu({}),this._settingsFrozen=!1,e instanceof Ru?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qo(Xo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(e.options.projectId)}(e))}get app(){if(!this._app)throw new Qo(Xo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qo(Xo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nr;switch(e.type){case"gapi":const t=e.client;return Zo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ir(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Qo(Xo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ou.get(e);t&&(zo("ComponentProvider","Removing Datastore"),Ou.delete(e),t.terminate())}(this),Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bu(this.firestore,e,this._key)}}class Hu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Hu(this.firestore,e,this._query)}}class Wu extends Hu{constructor(e,t,n){super(e,t,Ti(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bu(this.firestore,null,new Pr(e))}withConverter(e){return new Wu(this.firestore,e,this._path)}}function qu(e,t,...n){if(e=(0,a.m9)(e),Cu("collection","path",t),e instanceof Fu){const o=br.fromString(t,...n);return Pu(o),new Wu(e,null,o)}{if(!(e instanceof Bu||e instanceof Wu))throw new Qo(Xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=e._path.child(br.fromString(t,...n));return Pu(o),new Wu(e.firestore,null,o)}}function Vu(e,t){if(e=Mu(e,Fu),Cu("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Qo(Xo.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hu(e,null,function(e){return new _i(br.emptyPath(),e)}(t))}function zu(e,t,...n){if(e=(0,a.m9)(e),1===arguments.length&&(t=ur.A()),Cu("doc","path",t),e instanceof Fu){const o=br.fromString(t,...n);return Nu(o),new Bu(e,null,new Pr(o))}{if(!(e instanceof Bu||e instanceof Wu))throw new Qo(Xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=e._path.child(br.fromString(t,...n));return Nu(o),new Bu(e.firestore,e instanceof Wu?e.converter:null,new Pr(o))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gu{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Bc(this,"async_queue_retry"),this.Ra=()=>{const e=Uc();e&&zo("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=Uc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=Uc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise((()=>{}));const t=new er;return this.ba((()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ga.push(e),this.va())))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(T){if(!za(T))throw T;zo("AsyncQueue","Operation failed with retryable error: "+T)}this.ga.length>0&&this.ur.Zi((()=>this.va()))}}ba(e){const t=this.ma.then((()=>(this.Ea=!0,e().catch((e=>{this.Ta=e,this.Ea=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw Go("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ea=!1,e))))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const o=_l.createAndSchedule(this,e,t,n,(e=>this.Va(e)));return this.pa.push(o),o}Pa(){this.Ta&&Yo()}verifyOperationInProgress(){}async Sa(){let e;do{e=this.ma,await e}while(e!==this.ma)}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then((()=>{this.pa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()}))}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function $u(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const o of t)if(o in n&&"function"==typeof n[o])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}class Ku{constructor(){this._progressObserver={},this._taskCompletionResolver=new er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Fu{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Gu,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Xu(this),this._firestoreClient.terminate()}}function Zu(e=(0,r.Mq)()){return(0,r.qX)(e,"firestore").getImmediate()}function Ju(e){return e._firestoreClient||Xu(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Xu(e){var t;const n=e._freezeSettings(),o=function(e,t,n,o){return new Au(e,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mu(e._authCredentials,e._appCheckCredentials,e._queue,o)}function Qu(e,t){const n=Ju(e=Mu(e,Yu)),o=new Ku;return Iu(n,e._databaseId,t,o),o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ep{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Qo(Xo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tp(xr.fromBase64String(e))}catch(e){throw new Qo(Xo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new tp(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qo(Xo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qo(Xo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pr(this._lat,e._lat)||pr(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=/^__.*__$/;class ip{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new ls(e,this.data,t,this.fieldTransforms)}}function sp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yo()}}class ap{constructor(e,t,n,o,r,i){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=o,void 0===r&&this.ka(),this.fieldTransforms=r||[],this.fieldMask=i||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:n,Oa:!1});return o.Ma(e),o}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:n,Oa:!1});return o.ka(),o}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return _p(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(sp(this.xa)&&rp.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class cp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||Fc(e)}ja(e,t,n,o=!1){return new ap({xa:e,methodName:t,Ka:n,path:wr.emptyPath(),Oa:!1,qa:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function lp(e){const t=e._freezeSettings(),n=Fc(e._databaseId);return new cp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function up(e,t,n,o,r,i={}){const s=e.ja(i.merge||i.mergeFields?2:0,t,n,r);mp("Data must be an object, but it was:",s,o);const a=fp(o,s);let c,l;if(i.merge)c=new Tr(s.fieldMask),l=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const o of i.mergeFields){const r=yp(t,o,n);if(!s.contains(r))throw new Qo(Xo.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);wp(e,r)||e.push(r)}c=new Tr(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new ip(new Yr(a),c,l)}class pp extends np{_toFieldTransform(e){return new Xi(e.path,new Vi)}isEqual(e){return e instanceof pp}}function dp(e,t,n,o=!1){return hp(n,e.ja(o?4:3,t))}function hp(e,t){if(gp(e=(0,a.m9)(e)))return mp("Unsupported field value:",t,e),fp(e,t);if(e instanceof np)return function(e,t){if(!sp(t.xa))throw t.Ua(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ua(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let o=0;for(const r of e){let e=hp(r,t.Ba(o));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),o++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Fi(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=hr.fromDate(e);return{timestampValue:Ks(t.k,n)}}if(e instanceof hr){const n=new hr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ks(t.k,n)}}if(e instanceof op)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tp)return{bytesValue:Ys(t.k,e._byteString)};if(e instanceof Bu){const n=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(n))throw t.Ua(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Xs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua(`Unsupported field value: ${Du(e)}`)}(e,t)}function fp(e,t){const n={};return yr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mr(e,((e,o)=>{const r=hp(o,t.Fa(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function gp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof hr||e instanceof op||e instanceof tp||e instanceof Bu||e instanceof np)}function mp(e,t,n){if(!gp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const o=Du(n);throw"an object"===o?t.Ua(e+" a custom object"):t.Ua(e+" "+o)}}function yp(e,t,n){if((t=(0,a.m9)(t))instanceof ep)return t._internalPath;if("string"==typeof t)return bp(e,t);throw _p("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const vp=new RegExp("[~\\*/\\[\\]]");function bp(e,t,n){if(t.search(vp)>=0)throw _p(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ep(...t.split("."))._internalPath}catch(o){throw _p(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function _p(e,t,n,o,r){const i=o&&!o.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||s)&&(c+=" (found",i&&(c+=` in field ${o}`),s&&(c+=` in document ${r}`),c+=")"),new Qo(Xo.INVALID_ARGUMENT,a+e+c)}function wp(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t,n,o,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=o,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Bu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xp extends Tp{data(){return super.data()}}function Sp(e,t){return"string"==typeof t?bp(e,t):t instanceof ep?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kp extends Tp{constructor(e,t,n,o,r,i){super(e,t,n,o,i),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Sp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ip extends kp{data(e={}){return super.data(e)}}class Ap{constructor(e,t,n,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ep(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ip(this._firestore,this._userDataWriter,n.key,n,new Ep(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qo(Xo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Ip(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ep(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const o=new Ip(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ep(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,i=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Rp(t.type),doc:o,oldIndex:r,newIndex:i}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Rp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yo()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Op(e){if(Si(e)&&0===e.explicitOrderBy.length)throw new Qo(Xo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cp{}function jp(e,...t){for(const n of t)e=n._apply(e);return e}class Np extends Cp{constructor(e,t,n){super(),this.Ga=e,this.za=t,this.Ha=n,this.type="where"}_apply(e){const t=lp(e.firestore),n=function(e,t,n,o,r,i,s){let a;if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Qo(Xo.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on FieldPath.documentId().`);if("in"===i||"not-in"===i){zp(s,i);const t=[];for(const n of s)t.push(Vp(o,e,n));a={arrayValue:{values:t}}}else a=Vp(o,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||zp(s,i),a=dp(n,t,s,"in"===i||"not-in"===i);const c=ri.create(r,i,a);return function(e,t){if(t.V()){const n=ki(e);if(null!==n&&!n.isEqual(t.field))throw new Qo(Xo.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const o=Ei(e);null!==o&&Gp(e,t.field,o)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Qo(Xo.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Qo(Xo.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,"where",t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Hu(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function Pp(e,t,n){const o=t,r=Sp("where",e);return new Np(r,o,n)}class Dp extends Cp{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Qo(Xo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Qo(Xo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new mi(t,n);return function(e,t){if(null===Ei(e)){const n=ki(e);null!==n&&Gp(e,n,t.field)}}(e,o),o}(e._query,this.Ga,this.Ja);return new Hu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new _i(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Mp(e,t="asc"){const n=t,o=Sp("orderBy",e);return new Dp(o,n)}class Lp extends Cp{constructor(e,t,n){super(),this.type=e,this.Ya=t,this.Xa=n}_apply(e){return new Hu(e.firestore,e.converter,Oi(e._query,this.Ya,this.Xa))}}function Up(e){return Lu("limit",e),new Lp("limit",e,"F")}class Fp extends Cp{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=qp(e,this.type,this.Za,this.tc);return new Hu(e.firestore,e.converter,function(e,t){return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Bp(...e){return new Fp("startAfter",e,!1)}class Hp extends Cp{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=qp(e,this.type,this.Za,this.tc);return new Hu(e.firestore,e.converter,function(e,t){return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Wp(...e){return new Hp("endBefore",e,!0)}function qp(e,t,n,o){if(n[0]=(0,a.m9)(n[0]),n[0]instanceof Tp)return function(e,t,n,o,r){if(!o)throw new Qo(Xo.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const i=[];for(const s of Ai(e))if(s.field.isKeyField())i.push(Wr(t,o.key));else{const e=o.data.field(s.field);if(Ar(e))throw new Qo(Xo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Qo(Xo.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}i.push(e)}return new fi(i,r)}(e._query,e.firestore._databaseId,t,n[0]._document,o);{const r=lp(e.firestore);return function(e,t,n,o,r,i){const s=e.explicitOrderBy;if(r.length>s.length)throw new Qo(Xo.INVALID_ARGUMENT,`Too many arguments provided to ${o}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<r.length;c++){const i=r[c];if(s[c].field.isKeyField()){if("string"!=typeof i)throw new Qo(Xo.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${o}(), but got a ${typeof i}`);if(!Ii(e)&&-1!==i.indexOf("/"))throw new Qo(Xo.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${o}() must be a plain document ID, but '${i}' contains a slash.`);const n=e.path.child(br.fromString(i));if(!Pr.isDocumentKey(n))throw new Qo(Xo.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${o}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const r=new Pr(n);a.push(Wr(t,r))}else{const e=dp(n,o,i);a.push(e)}}return new fi(a,i)}(e._query,e.firestore._databaseId,r,t,n,o)}}function Vp(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new Qo(Xo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ii(t)&&-1!==n.indexOf("/"))throw new Qo(Xo.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=t.path.child(br.fromString(n));if(!Pr.isDocumentKey(o))throw new Qo(Xo.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Wr(e,new Pr(o))}if(n instanceof Bu)return Wr(e,n._key);throw new Qo(Xo.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Du(n)}.`)}function zp(e,t){if(!Array.isArray(e)||0===e.length)throw new Qo(Xo.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Qo(Xo.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Gp(e,t,n){if(!n.isEqual(t))throw new Qo(Xo.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{convertValue(e,t="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Yo()}}convertObject(e,t){const n={};return mr(e.fields,((e,o)=>{n[e]=this.convertValue(o,t)})),n}convertGeoPoint(e){return new op(kr(e.latitude),kr(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Rr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Or(e));default:return null}}convertTimestamp(e){const t=Er(e);return new hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=br.fromString(e);Zo(Ea(n));const o=new Ru(n.get(1),n.get(3)),r=new Pr(n.popFirst(5));return o.isEqual(t)||Go(`Document ${r} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(e,t,n){let o;return o=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Yp(e){e=Mu(e,Bu);const t=Mu(e.firestore,Yu);return Eu(Ju(t),e._key).then((n=>od(t,e,n)))}class Zp extends $p{constructor(e){super(),this.firestore=e}convertBytes(e){return new tp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bu(this.firestore,null,t)}}function Jp(e){e=Mu(e,Bu);const t=Mu(e.firestore,Yu),n=Ju(t),o=new Zp(t);return Su(n,e._key).then((n=>new kp(t,o,e._key,n,new Ep(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Xp(e){e=Mu(e,Bu);const t=Mu(e.firestore,Yu);return Eu(Ju(t),e._key,{source:"server"}).then((n=>od(t,e,n)))}function Qp(e){e=Mu(e,Hu);const t=Mu(e.firestore,Yu),n=Ju(t),o=new Zp(t);return Op(e._query),ku(n,e._query).then((n=>new Ap(t,o,e,n)))}function ed(e,t,n){e=Mu(e,Bu);const o=Mu(e.firestore,Yu),r=Kp(e.converter,t,n);return nd(o,[up(lp(o),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,ts.none())])}function td(e,...t){var n,o,r;e=(0,a.m9)(e);let i={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||$u(t[s])||(i=t[s],s++);const c={includeMetadataChanges:i.includeMetadataChanges};if($u(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),t[s+2]=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}let l,u,p;if(e instanceof Bu)u=Mu(e.firestore,Yu),p=Ti(e._key.path),l={next:n=>{t[s]&&t[s](od(u,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Mu(e,Hu);u=Mu(n.firestore,Yu),p=n._query;const o=new Zp(u);l={next:e=>{t[s]&&t[s](new Ap(u,o,n,e))},error:t[s+1],complete:t[s+2]},Op(e._query)}return function(e,t,n,o){const r=new fu(o),i=new jl(t,r,n);return e.asyncQueue.enqueueAndForget((async()=>Il(await xu(e),i))),()=>{r.na(),e.asyncQueue.enqueueAndForget((async()=>Al(await xu(e),i)))}}(Ju(u),p,c,l)}function nd(e,t){return function(e,t){const n=new er;return e.asyncQueue.enqueueAndForget((async()=>Gl(await Tu(e),t,n))),n.promise}(Ju(e),t)}function od(e,t,n){const o=n.docs.get(t._key),r=new Zp(e);return new kp(e,r,t._key,o,new Ep(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(){return new pp("serverTimestamp")}!function(e,t=!0){!function(e){Wo=e}(r.Jn),(0,r.Xd)(new i.wA("firestore",((e,{options:n})=>{const o=e.getProvider("app").getImmediate(),r=new Yu(o,new or(e.getProvider("auth-internal")),new ar(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),r._setSettings(n),r}),"PUBLIC")),(0,r.KN)(Bo,"3.4.1",e),(0,r.KN)(Bo,"3.4.1","esm2017")}()},7626:function(e,t,n){"use strict";n.d(t,{$s:function(){return oe},BH:function(){return f},DV:function(){return L},GJ:function(){return D},LL:function(){return A},Mn:function(){return w},Pz:function(){return j},UI:function(){return F},US:function(){return c},Yr:function(){return T},ZR:function(){return I},b$:function(){return v},cI:function(){return C},d:function(){return b},dS:function(){return J},eu:function(){return S},g5:function(){return i},gK:function(){return Z},gQ:function(){return z},h$:function(){return l},hl:function(){return x},hu:function(){return r},m9:function(){return re},ne:function(){return G},p$:function(){return p},pd:function(){return V},r3:function(){return M},ru:function(){return y},tV:function(){return u},uI:function(){return m},ug:function(){return X},vZ:function(){return B},w1:function(){return _},w9:function(){return P},xO:function(){return W},xb:function(){return U},z$:function(){return g},zI:function(){return E},zd:function(){return q}});n(5640),n(6728);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){const t=[];let n=0;for(let o=0;o<e.length;o++){let r=e.charCodeAt(o);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&o+1<e.length&&56320===(64512&e.charCodeAt(o+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++o)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},a=function(e){const t=[];let n=0,o=0;while(n<e.length){const r=e[n++];if(r<128)t[o++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[o++]=String.fromCharCode((31&r)<<6|63&i)}else if(r>239&&r<365){const i=e[n++],s=e[n++],a=e[n++],c=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&a)-65536;t[o++]=String.fromCharCode(55296+(c>>10)),t[o++]=String.fromCharCode(56320+(1023&c))}else{const i=e[n++],s=e[n++];t[o++]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s)}}return t.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let r=0;r<e.length;r+=3){const t=e[r],i=r+1<e.length,s=i?e[r+1]:0,a=r+2<e.length,c=a?e[r+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let p=(15&s)<<2|c>>6,d=63&c;a||(d=64,i||(p=64)),o.push(n[l],n[u],n[p],n[d])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):a(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],i=r<e.length,s=i?n[e.charAt(r)]:0;++r;const a=r<e.length,c=a?n[e.charAt(r)]:64;++r;const l=r<e.length,u=l?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==c||null==u)throw Error();const p=t<<2|s>>4;if(o.push(p),64!==c){const e=s<<4&240|c>>2;if(o.push(e),64!==u){const e=c<<6&192|u;o.push(e)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){const t=s(e);return c.encodeByteArray(t,!0)},u=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(e){return d(void 0,e)}function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&h(n)&&(e[n]=d(e[n],t[n]));return e}function h(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function m(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function v(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function b(){return g().indexOf("Electron/")>=0}function _(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return g().indexOf("MSAppHost/")>=0}function T(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function x(){return"object"===typeof indexedDB}function S(){return new Promise(((e,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(o);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(o),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function E(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const k="FirebaseError";class I extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=k,Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,r=this.errors[e],i=r?R(r,n):"Error",s=`${this.serviceName}: ${i} (${o}).`,a=new I(o,s,n);return a}}function R(e,t){return e.replace(O,((e,n)=>{const o=t[n];return null!=o?String(o):`<${n}?>`}))}const O=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(e){return JSON.parse(e)}function j(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(e){let t={},n={},o={},r="";try{const i=e.split(".");t=C(u(i[0])||""),n=C(u(i[1])||""),r=i[2],o=n["d"]||{},delete n["d"]}catch(i){}return{header:t,claims:n,data:o,signature:r}},P=function(e){const t=N(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},D=function(e){const t=N(e).claims;return"object"===typeof t&&!0===t["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function U(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t,n){const o={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=t.call(n,e[r],r,e));return o}function B(e,t){if(e===t)return!0;const n=Object.keys(e),o=Object.keys(t);for(const r of n){if(!o.includes(r))return!1;const n=e[r],i=t[r];if(H(n)&&H(i)){if(!B(n,i))return!1}else if(n!==i)return!1}for(const r of o)if(!n.includes(r))return!1;return!0}function H(e){return null!==e&&"object"===typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e){const t=[];for(const[n,o]of Object.entries(e))Array.isArray(o)?o.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function q(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach((e=>{if(e){const[n,o]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(o)}})),t}function V(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let o,r,i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(o=c^s&(a^c),r=1518500249):(o=s^a^c,r=1859775393):u<60?(o=s&a|c&(s|a),r=2400959708):(o=s^a^c,r=3395469782);const e=(i<<5|i>>>27)+o+l+r+n[u]&4294967295;l=c,c=a,a=4294967295&(s<<30|s>>>2),s=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let o=0;const r=this.buf_;let i=this.inbuf_;while(o<t){if(0===i)while(o<=n)this.compress_(e,o),o+=this.blockSize;if("string"===typeof e){while(o<t)if(r[i]=e.charCodeAt(o),++i,++o,i===this.blockSize){this.compress_(r),i=0;break}}else while(o<t)if(r[i]=e[o],++i,++o,i===this.blockSize){this.compress_(r),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let o=0;o<5;o++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[o]>>t&255,++n;return e}}function G(e,t){const n=new $(e,t);return n.subscribe.bind(n)}class ${constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let o;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");o=K(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===o.next&&(o.next=Y),void 0===o.error&&(o.error=Y),void 0===o.complete&&(o.complete=Y);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch(e){}})),this.observers.push(o),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function K(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}function Y(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e,t){return`${e} failed: ${t} argument `}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const J=function(e){const t=[];let n=0;for(let o=0;o<e.length;o++){let i=e.charCodeAt(o);if(i>=55296&&i<=56319){const t=i-55296;o++,r(o<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(o)-56320;i=65536+(t<<10)+n}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},X=function(e){let t=0;for(let n=0;n<e.length;n++){const o=e.charCodeAt(n);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,n++):t+=3}return t},Q=1e3,ee=2,te=144e5,ne=.5;function oe(e,t=Q,n=ee){const o=t*Math.pow(n,e),r=Math.round(ne*o*(Math.random()-.5)*2);return Math.min(te,o+r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function re(e){return e&&e._delegate?e._delegate:e}},9946:function(e,t,n){"use strict";t.ImNotifyCommand=void 0,t.ImNotifyCommand=n(6427)},6427:function(e,t,n){var o=n(6598),r=o,i=Function("return this")();r.exportSymbol("proto.lctech.jkftalk.notify.Auth",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.Auth.TokenCase",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.Error",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.Error",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.Error",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSendNotifyReq",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSendNotifyRes",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSendNotifyRes.Error",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.Error",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.Error",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSubscribeTopicReq",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSubscribeTopicRes",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.Error",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.Error",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.Error",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.Error",null,i),r.exportSymbol("proto.lctech.jkftalk.notify.Platform",null,i),proto.lctech.jkftalk.notify.Auth=function(e){o.Message.initialize(this,e,0,-1,null,proto.lctech.jkftalk.notify.Auth.oneofGroups_)},r.inherits(proto.lctech.jkftalk.notify.Auth,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.Auth.displayName="proto.lctech.jkftalk.notify.Auth"),proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.displayName="proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq"),proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.displayName="proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes"),proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.displayName="proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq"),proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.displayName="proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes"),proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.displayName="proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq"),proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.displayName="proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes"),proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.displayName="proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq"),proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.displayName="proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes"),proto.lctech.jkftalk.notify.CommandSubscribeTopicReq=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandSubscribeTopicReq,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.displayName="proto.lctech.jkftalk.notify.CommandSubscribeTopicReq"),proto.lctech.jkftalk.notify.CommandSubscribeTopicRes=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandSubscribeTopicRes,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.displayName="proto.lctech.jkftalk.notify.CommandSubscribeTopicRes"),proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.displayName="proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq"),proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.displayName="proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes"),proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq=function(e){o.Message.initialize(this,e,0,-1,proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.repeatedFields_,null)},r.inherits(proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.displayName="proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq"),proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.displayName="proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes"),proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq=function(e){o.Message.initialize(this,e,0,-1,proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.repeatedFields_,null)},r.inherits(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.displayName="proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq"),proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.displayName="proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes"),proto.lctech.jkftalk.notify.CommandSendNotifyReq=function(e){o.Message.initialize(this,e,0,-1,proto.lctech.jkftalk.notify.CommandSendNotifyReq.repeatedFields_,null)},r.inherits(proto.lctech.jkftalk.notify.CommandSendNotifyReq,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandSendNotifyReq.displayName="proto.lctech.jkftalk.notify.CommandSendNotifyReq"),proto.lctech.jkftalk.notify.CommandSendNotifyRes=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandSendNotifyRes,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandSendNotifyRes.displayName="proto.lctech.jkftalk.notify.CommandSendNotifyRes"),proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq=function(e){o.Message.initialize(this,e,0,-1,proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.repeatedFields_,null)},r.inherits(proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.displayName="proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq"),proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes,o.Message),r.DEBUG&&!COMPILED&&(proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.displayName="proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes"),proto.lctech.jkftalk.notify.Auth.oneofGroups_=[[1,2]],proto.lctech.jkftalk.notify.Auth.TokenCase={TOKEN_NOT_SET:0,PAN_ACCESS_TOKEN:1,INTERNAL_ACCESS_TOKEN:2},proto.lctech.jkftalk.notify.Auth.prototype.getTokenCase=function(){return o.Message.computeOneofCase(this,proto.lctech.jkftalk.notify.Auth.oneofGroups_[0])},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.Auth.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.Auth.toObject(e,this)},proto.lctech.jkftalk.notify.Auth.toObject=function(e,t){var n={panAccessToken:o.Message.getFieldWithDefault(t,1,""),internalAccessToken:o.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.Auth.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.Auth;return proto.lctech.jkftalk.notify.Auth.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.Auth.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=t.readString();e.setPanAccessToken(o);break;case 2:o=t.readString();e.setInternalAccessToken(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.Auth.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.Auth.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.Auth.serializeBinaryToWriter=function(e,t){var n=void 0;n=o.Message.getField(e,1),null!=n&&t.writeString(1,n),n=o.Message.getField(e,2),null!=n&&t.writeString(2,n)},proto.lctech.jkftalk.notify.Auth.prototype.getPanAccessToken=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.lctech.jkftalk.notify.Auth.prototype.setPanAccessToken=function(e){return o.Message.setOneofField(this,1,proto.lctech.jkftalk.notify.Auth.oneofGroups_[0],e)},proto.lctech.jkftalk.notify.Auth.prototype.clearPanAccessToken=function(){return o.Message.setOneofField(this,1,proto.lctech.jkftalk.notify.Auth.oneofGroups_[0],void 0)},proto.lctech.jkftalk.notify.Auth.prototype.hasPanAccessToken=function(){return null!=o.Message.getField(this,1)},proto.lctech.jkftalk.notify.Auth.prototype.getInternalAccessToken=function(){return o.Message.getFieldWithDefault(this,2,"")},proto.lctech.jkftalk.notify.Auth.prototype.setInternalAccessToken=function(e){return o.Message.setOneofField(this,2,proto.lctech.jkftalk.notify.Auth.oneofGroups_[0],e)},proto.lctech.jkftalk.notify.Auth.prototype.clearInternalAccessToken=function(){return o.Message.setOneofField(this,2,proto.lctech.jkftalk.notify.Auth.oneofGroups_[0],void 0)},proto.lctech.jkftalk.notify.Auth.prototype.hasInternalAccessToken=function(){return null!=o.Message.getField(this,2)},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.toObject(e,this)},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.toObject=function(e,t){var n={panAccessToken:o.Message.getFieldWithDefault(t,1,""),fcmToken:o.Message.getFieldWithDefault(t,2,""),platform:o.Message.getFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq;return proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=t.readString();e.setPanAccessToken(o);break;case 2:o=t.readString();e.setFcmToken(o);break;case 3:o=t.readEnum();e.setPlatform(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.serializeBinaryToWriter=function(e,t){var n=void 0;n=e.getPanAccessToken(),n.length>0&&t.writeString(1,n),n=e.getFcmToken(),n.length>0&&t.writeString(2,n),n=e.getPlatform(),0!==n&&t.writeEnum(3,n)},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.prototype.getPanAccessToken=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.prototype.setPanAccessToken=function(e){return o.Message.setProto3StringField(this,1,e)},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.prototype.getFcmToken=function(){return o.Message.getFieldWithDefault(this,2,"")},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.prototype.setFcmToken=function(e){return o.Message.setProto3StringField(this,2,e)},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.prototype.getPlatform=function(){return o.Message.getFieldWithDefault(this,3,0)},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyReq.prototype.setPlatform=function(e){return o.Message.setProto3EnumField(this,3,e)},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.toObject(e,this)},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.toObject=function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes;return proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.serializeBinaryToWriter=function(e,t){},proto.lctech.jkftalk.notify.CommandRegisterDeviceNotifyRes.Error={NONE:0,ERROR_DEVICE_ALREADY_REGISTER:1001},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.toObject(e,this)},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.toObject=function(e,t){var n={panAccessToken:o.Message.getFieldWithDefault(t,1,""),fcmToken:o.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq;return proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=t.readString();e.setPanAccessToken(o);break;case 2:o=t.readString();e.setFcmToken(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.serializeBinaryToWriter=function(e,t){var n=void 0;n=e.getPanAccessToken(),n.length>0&&t.writeString(1,n),n=e.getFcmToken(),n.length>0&&t.writeString(2,n)},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.prototype.getPanAccessToken=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.prototype.setPanAccessToken=function(e){return o.Message.setProto3StringField(this,1,e)},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.prototype.getFcmToken=function(){return o.Message.getFieldWithDefault(this,2,"")},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyReq.prototype.setFcmToken=function(e){return o.Message.setProto3StringField(this,2,e)},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.toObject(e,this)},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.toObject=function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes;return proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.serializeBinaryToWriter=function(e,t){},proto.lctech.jkftalk.notify.CommandUnregisterDeviceNotifyRes.Error={NONE:0,ERROR_DEVICE_NOT_FOUND:1001},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.toObject(e,this)},proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.toObject=function(e,t){var n={panAccessToken:o.Message.getFieldWithDefault(t,1,""),enableNotify:o.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq;return proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=t.readString();e.setPanAccessToken(o);break;case 2:o=t.readBool();e.setEnableNotify(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.serializeBinaryToWriter=function(e,t){var n=void 0;n=e.getPanAccessToken(),n.length>0&&t.writeString(1,n),n=e.getEnableNotify(),n&&t.writeBool(2,n)},proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.prototype.getPanAccessToken=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.prototype.setPanAccessToken=function(e){return o.Message.setProto3StringField(this,1,e)},proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.prototype.getEnableNotify=function(){return o.Message.getBooleanFieldWithDefault(this,2,!1)},proto.lctech.jkftalk.notify.CommandEnableUserNotifyReq.prototype.setEnableNotify=function(e){return o.Message.setProto3BooleanField(this,2,e)},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.toObject(e,this)},proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.toObject=function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes;return proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.serializeBinaryToWriter=function(e,t){},proto.lctech.jkftalk.notify.CommandEnableUserNotifyRes.Error={NONE:0},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.toObject(e,this)},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.toObject=function(e,t){var n={panAccessToken:o.Message.getFieldWithDefault(t,1,""),fcmToken:o.Message.getFieldWithDefault(t,2,""),roomId:o.Message.getFieldWithDefault(t,3,""),enableNotify:o.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq;return proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=t.readString();e.setPanAccessToken(o);break;case 2:o=t.readString();e.setFcmToken(o);break;case 3:o=t.readString();e.setRoomId(o);break;case 4:o=t.readBool();e.setEnableNotify(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.serializeBinaryToWriter=function(e,t){var n=void 0;n=e.getPanAccessToken(),n.length>0&&t.writeString(1,n),n=e.getFcmToken(),n.length>0&&t.writeString(2,n),n=e.getRoomId(),n.length>0&&t.writeString(3,n),n=e.getEnableNotify(),n&&t.writeBool(4,n)},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.prototype.getPanAccessToken=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.prototype.setPanAccessToken=function(e){return o.Message.setProto3StringField(this,1,e)},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.prototype.getFcmToken=function(){return o.Message.getFieldWithDefault(this,2,"")},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.prototype.setFcmToken=function(e){return o.Message.setProto3StringField(this,2,e)},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.prototype.getRoomId=function(){return o.Message.getFieldWithDefault(this,3,"")},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.prototype.setRoomId=function(e){return o.Message.setProto3StringField(this,3,e)},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.prototype.getEnableNotify=function(){return o.Message.getBooleanFieldWithDefault(this,4,!1)},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyReq.prototype.setEnableNotify=function(e){return o.Message.setProto3BooleanField(this,4,e)},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.toObject(e,this)},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.toObject=function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes;return proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.serializeBinaryToWriter=function(e,t){},proto.lctech.jkftalk.notify.CommandEnableRoomNotifyRes.Error={NONE:0,ERROR_DEVICE_NOT_FOUND:1001,ERROR_ROOM_NOT_FOUND:1002,ERROR_NOT_PARTICIPANT:1003},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.toObject(e,this)},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.toObject=function(e,t){var n,r={auth:(n=t.getAuth())&&proto.lctech.jkftalk.notify.Auth.toObject(e,n),deviceId:o.Message.getFieldWithDefault(t,11,""),topic:o.Message.getFieldWithDefault(t,12,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandSubscribeTopicReq;return proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=new proto.lctech.jkftalk.notify.Auth;t.readMessage(o,proto.lctech.jkftalk.notify.Auth.deserializeBinaryFromReader),e.setAuth(o);break;case 11:o=t.readString();e.setDeviceId(o);break;case 12:o=t.readString();e.setTopic(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.serializeBinaryToWriter=function(e,t){var n=void 0;n=e.getAuth(),null!=n&&t.writeMessage(1,n,proto.lctech.jkftalk.notify.Auth.serializeBinaryToWriter),n=e.getDeviceId(),n.length>0&&t.writeString(11,n),n=e.getTopic(),n.length>0&&t.writeString(12,n)},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.prototype.getAuth=function(){return o.Message.getWrapperField(this,proto.lctech.jkftalk.notify.Auth,1)},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.prototype.setAuth=function(e){return o.Message.setWrapperField(this,1,e)},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.prototype.clearAuth=function(){return this.setAuth(void 0)},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.prototype.hasAuth=function(){return null!=o.Message.getField(this,1)},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.prototype.getDeviceId=function(){return o.Message.getFieldWithDefault(this,11,"")},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.prototype.setDeviceId=function(e){return o.Message.setProto3StringField(this,11,e)},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.prototype.getTopic=function(){return o.Message.getFieldWithDefault(this,12,"")},proto.lctech.jkftalk.notify.CommandSubscribeTopicReq.prototype.setTopic=function(e){return o.Message.setProto3StringField(this,12,e)},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.toObject(e,this)},proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.toObject=function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandSubscribeTopicRes;return proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.serializeBinaryToWriter=function(e,t){},proto.lctech.jkftalk.notify.CommandSubscribeTopicRes.Error={NONE:0},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.toObject(e,this)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.toObject=function(e,t){var n,r={auth:(n=t.getAuth())&&proto.lctech.jkftalk.notify.Auth.toObject(e,n),deviceId:o.Message.getFieldWithDefault(t,11,""),topic:o.Message.getFieldWithDefault(t,12,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq;return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=new proto.lctech.jkftalk.notify.Auth;t.readMessage(o,proto.lctech.jkftalk.notify.Auth.deserializeBinaryFromReader),e.setAuth(o);break;case 11:o=t.readString();e.setDeviceId(o);break;case 12:o=t.readString();e.setTopic(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.serializeBinaryToWriter=function(e,t){var n=void 0;n=e.getAuth(),null!=n&&t.writeMessage(1,n,proto.lctech.jkftalk.notify.Auth.serializeBinaryToWriter),n=e.getDeviceId(),n.length>0&&t.writeString(11,n),n=e.getTopic(),n.length>0&&t.writeString(12,n)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.prototype.getAuth=function(){return o.Message.getWrapperField(this,proto.lctech.jkftalk.notify.Auth,1)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.prototype.setAuth=function(e){return o.Message.setWrapperField(this,1,e)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.prototype.clearAuth=function(){return this.setAuth(void 0)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.prototype.hasAuth=function(){return null!=o.Message.getField(this,1)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.prototype.getDeviceId=function(){return o.Message.getFieldWithDefault(this,11,"")},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.prototype.setDeviceId=function(e){return o.Message.setProto3StringField(this,11,e)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.prototype.getTopic=function(){return o.Message.getFieldWithDefault(this,12,"")},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicReq.prototype.setTopic=function(e){return o.Message.setProto3StringField(this,12,e)},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.toObject(e,this)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.toObject=function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes;return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.serializeBinaryToWriter=function(e,t){},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicRes.Error={NONE:0},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.repeatedFields_=[12],o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.toObject(e,this)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.toObject=function(e,t){var n,r={auth:(n=t.getAuth())&&proto.lctech.jkftalk.notify.Auth.toObject(e,n),userId:o.Message.getFieldWithDefault(t,11,""),topicList:null==(n=o.Message.getRepeatedField(t,12))?void 0:n};return e&&(r.$jspbMessageInstance=t),r}),proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq;return proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=new proto.lctech.jkftalk.notify.Auth;t.readMessage(o,proto.lctech.jkftalk.notify.Auth.deserializeBinaryFromReader),e.setAuth(o);break;case 11:o=t.readString();e.setUserId(o);break;case 12:o=t.readString();e.addTopic(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.serializeBinaryToWriter=function(e,t){var n=void 0;n=e.getAuth(),null!=n&&t.writeMessage(1,n,proto.lctech.jkftalk.notify.Auth.serializeBinaryToWriter),n=e.getUserId(),n.length>0&&t.writeString(11,n),n=e.getTopicList(),n.length>0&&t.writeRepeatedString(12,n)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.getAuth=function(){return o.Message.getWrapperField(this,proto.lctech.jkftalk.notify.Auth,1)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.setAuth=function(e){return o.Message.setWrapperField(this,1,e)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.clearAuth=function(){return this.setAuth(void 0)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.hasAuth=function(){return null!=o.Message.getField(this,1)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.getUserId=function(){return o.Message.getFieldWithDefault(this,11,"")},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.setUserId=function(e){return o.Message.setProto3StringField(this,11,e)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.getTopicList=function(){return o.Message.getRepeatedField(this,12)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.setTopicList=function(e){return o.Message.setField(this,12,e||[])},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.addTopic=function(e,t){return o.Message.addToRepeatedField(this,12,e,t)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllReq.prototype.clearTopicList=function(){return this.setTopicList([])},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.toObject(e,this)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.toObject=function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes;return proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.serializeBinaryToWriter=function(e,t){},proto.lctech.jkftalk.notify.CommandSubscribeTopicAllRes.Error={NONE:0},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.repeatedFields_=[12],o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.toObject(e,this)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.toObject=function(e,t){var n,r={auth:(n=t.getAuth())&&proto.lctech.jkftalk.notify.Auth.toObject(e,n),userId:o.Message.getFieldWithDefault(t,11,""),topicList:null==(n=o.Message.getRepeatedField(t,12))?void 0:n};return e&&(r.$jspbMessageInstance=t),r}),proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq;return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=new proto.lctech.jkftalk.notify.Auth;t.readMessage(o,proto.lctech.jkftalk.notify.Auth.deserializeBinaryFromReader),e.setAuth(o);break;case 11:o=t.readString();e.setUserId(o);break;case 12:o=t.readString();e.addTopic(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.serializeBinaryToWriter=function(e,t){var n=void 0;n=e.getAuth(),null!=n&&t.writeMessage(1,n,proto.lctech.jkftalk.notify.Auth.serializeBinaryToWriter),n=e.getUserId(),n.length>0&&t.writeString(11,n),n=e.getTopicList(),n.length>0&&t.writeRepeatedString(12,n)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.getAuth=function(){return o.Message.getWrapperField(this,proto.lctech.jkftalk.notify.Auth,1)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.setAuth=function(e){return o.Message.setWrapperField(this,1,e)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.clearAuth=function(){return this.setAuth(void 0)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.hasAuth=function(){return null!=o.Message.getField(this,1)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.getUserId=function(){return o.Message.getFieldWithDefault(this,11,"")},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.setUserId=function(e){return o.Message.setProto3StringField(this,11,e)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.getTopicList=function(){return o.Message.getRepeatedField(this,12)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.setTopicList=function(e){return o.Message.setField(this,12,e||[])},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.addTopic=function(e,t){return o.Message.addToRepeatedField(this,12,e,t)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllReq.prototype.clearTopicList=function(){return this.setTopicList([])},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.toObject(e,this)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.toObject=function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes;return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.serializeBinaryToWriter=function(e,t){},proto.lctech.jkftalk.notify.CommandUnsubscribeTopicAllRes.Error={NONE:0},proto.lctech.jkftalk.notify.CommandSendNotifyReq.repeatedFields_=[15],o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandSendNotifyReq.toObject(e,this)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.toObject=function(e,t){var n,r={auth:(n=t.getAuth())&&proto.lctech.jkftalk.notify.Auth.toObject(e,n),senderId:o.Message.getFieldWithDefault(t,11,""),receiverId:o.Message.getFieldWithDefault(t,12,""),title:o.Message.getFieldWithDefault(t,13,""),text:o.Message.getFieldWithDefault(t,14,""),imageList:null==(n=o.Message.getRepeatedField(t,15))?void 0:n};return e&&(r.$jspbMessageInstance=t),r}),proto.lctech.jkftalk.notify.CommandSendNotifyReq.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandSendNotifyReq;return proto.lctech.jkftalk.notify.CommandSendNotifyReq.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=new proto.lctech.jkftalk.notify.Auth;t.readMessage(o,proto.lctech.jkftalk.notify.Auth.deserializeBinaryFromReader),e.setAuth(o);break;case 11:o=t.readString();e.setSenderId(o);break;case 12:o=t.readString();e.setReceiverId(o);break;case 13:o=t.readString();e.setTitle(o);break;case 14:o=t.readString();e.setText(o);break;case 15:o=t.readString();e.addImage(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandSendNotifyReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandSendNotifyReq.serializeBinaryToWriter=function(e,t){var n=void 0;n=e.getAuth(),null!=n&&t.writeMessage(1,n,proto.lctech.jkftalk.notify.Auth.serializeBinaryToWriter),n=e.getSenderId(),n.length>0&&t.writeString(11,n),n=e.getReceiverId(),n.length>0&&t.writeString(12,n),n=e.getTitle(),n.length>0&&t.writeString(13,n),n=e.getText(),n.length>0&&t.writeString(14,n),n=e.getImageList(),n.length>0&&t.writeRepeatedString(15,n)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.getAuth=function(){return o.Message.getWrapperField(this,proto.lctech.jkftalk.notify.Auth,1)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.setAuth=function(e){return o.Message.setWrapperField(this,1,e)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.clearAuth=function(){return this.setAuth(void 0)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.hasAuth=function(){return null!=o.Message.getField(this,1)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.getSenderId=function(){return o.Message.getFieldWithDefault(this,11,"")},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.setSenderId=function(e){return o.Message.setProto3StringField(this,11,e)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.getReceiverId=function(){return o.Message.getFieldWithDefault(this,12,"")},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.setReceiverId=function(e){return o.Message.setProto3StringField(this,12,e)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.getTitle=function(){return o.Message.getFieldWithDefault(this,13,"")},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.setTitle=function(e){return o.Message.setProto3StringField(this,13,e)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.getText=function(){return o.Message.getFieldWithDefault(this,14,"")},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.setText=function(e){return o.Message.setProto3StringField(this,14,e)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.getImageList=function(){return o.Message.getRepeatedField(this,15)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.setImageList=function(e){return o.Message.setField(this,15,e||[])},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.addImage=function(e,t){return o.Message.addToRepeatedField(this,15,e,t)},proto.lctech.jkftalk.notify.CommandSendNotifyReq.prototype.clearImageList=function(){return this.setImageList([])},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandSendNotifyRes.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandSendNotifyRes.toObject(e,this)},proto.lctech.jkftalk.notify.CommandSendNotifyRes.toObject=function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandSendNotifyRes.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandSendNotifyRes;return proto.lctech.jkftalk.notify.CommandSendNotifyRes.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandSendNotifyRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandSendNotifyRes.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandSendNotifyRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandSendNotifyRes.serializeBinaryToWriter=function(e,t){},proto.lctech.jkftalk.notify.CommandSendNotifyRes.Error={NONE:0},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.repeatedFields_=[15],o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.toObject(e,this)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.toObject=function(e,t){var n,r={auth:(n=t.getAuth())&&proto.lctech.jkftalk.notify.Auth.toObject(e,n),senderId:o.Message.getFieldWithDefault(t,11,""),topic:o.Message.getFieldWithDefault(t,12,""),title:o.Message.getFieldWithDefault(t,13,""),text:o.Message.getFieldWithDefault(t,14,""),imageList:null==(n=o.Message.getRepeatedField(t,15))?void 0:n};return e&&(r.$jspbMessageInstance=t),r}),proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq;return proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){case 1:var o=new proto.lctech.jkftalk.notify.Auth;t.readMessage(o,proto.lctech.jkftalk.notify.Auth.deserializeBinaryFromReader),e.setAuth(o);break;case 11:o=t.readString();e.setSenderId(o);break;case 12:o=t.readString();e.setTopic(o);break;case 13:o=t.readString();e.setTitle(o);break;case 14:o=t.readString();e.setText(o);break;case 15:o=t.readString();e.addImage(o);break;default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.serializeBinaryToWriter=function(e,t){var n=void 0;n=e.getAuth(),null!=n&&t.writeMessage(1,n,proto.lctech.jkftalk.notify.Auth.serializeBinaryToWriter),n=e.getSenderId(),n.length>0&&t.writeString(11,n),n=e.getTopic(),n.length>0&&t.writeString(12,n),n=e.getTitle(),n.length>0&&t.writeString(13,n),n=e.getText(),n.length>0&&t.writeString(14,n),n=e.getImageList(),n.length>0&&t.writeRepeatedString(15,n)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.getAuth=function(){return o.Message.getWrapperField(this,proto.lctech.jkftalk.notify.Auth,1)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.setAuth=function(e){return o.Message.setWrapperField(this,1,e)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.clearAuth=function(){return this.setAuth(void 0)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.hasAuth=function(){return null!=o.Message.getField(this,1)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.getSenderId=function(){return o.Message.getFieldWithDefault(this,11,"")},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.setSenderId=function(e){return o.Message.setProto3StringField(this,11,e)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.getTopic=function(){return o.Message.getFieldWithDefault(this,12,"")},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.setTopic=function(e){return o.Message.setProto3StringField(this,12,e)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.getTitle=function(){return o.Message.getFieldWithDefault(this,13,"")},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.setTitle=function(e){return o.Message.setProto3StringField(this,13,e)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.getText=function(){return o.Message.getFieldWithDefault(this,14,"")},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.setText=function(e){return o.Message.setProto3StringField(this,14,e)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.getImageList=function(){return o.Message.getRepeatedField(this,15)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.setImageList=function(e){return o.Message.setField(this,15,e||[])},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.addImage=function(e,t){return o.Message.addToRepeatedField(this,15,e,t)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicReq.prototype.clearImageList=function(){return this.setImageList([])},o.Message.GENERATE_TO_OBJECT&&(proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.prototype.toObject=function(e){return proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.toObject(e,this)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.toObject=function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}),proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes;return proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.deserializeBinaryFromReader(n,t)},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var n=t.getFieldNumber();switch(n){default:t.skipField();break}}return e},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.serializeBinaryToWriter=function(e,t){},proto.lctech.jkftalk.notify.CommandSendNotifyToTopicRes.Error={NONE:0},proto.lctech.jkftalk.notify.Platform={PLATFORM_NONE:0,PLATFORM_IOS:1,PLATFORM_ANDROID:2,PLATFORM_WEB:3},r.object.extend(t,proto.lctech.jkftalk.notify)},8896:function(e,t,n){"use strict";n.d(t,{B:function(){return s},BK:function(){return Ke},Bj:function(){return i},EB:function(){return l},Fl:function(){return Qe},IU:function(){return Ce},Jd:function(){return k},OT:function(){return Ee},PG:function(){return Ie},SU:function(){return qe},Um:function(){return Se},Vh:function(){return Ze},WL:function(){return ze},X$:function(){return O},X3:function(){return Oe},XI:function(){return Fe},Xl:function(){return je},ZM:function(){return $e},dq:function(){return Le},iH:function(){return Ue},j:function(){return A},lk:function(){return I},nZ:function(){return c},oR:function(){return We},qj:function(){return xe},qq:function(){return T},yT:function(){return Re}});n(6728);var o=n(5555);let r;class i{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=r,!e&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}run(e){if(this.active){const t=r;try{return r=this,e()}finally{r=t}}else 0}on(){r=this}off(){r=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this.active=!1}}}function s(e){return new i(e)}function a(e,t=r){t&&t.active&&t.effects.push(e)}function c(){return r}function l(e){r&&r.cleanups.push(e)}const u=e=>{const t=new Set(e);return t.w=0,t.n=0,t},p=e=>(e.w&y)>0,d=e=>(e.n&y)>0,h=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=y},f=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const r=t[o];p(r)&&!d(r)?r.delete(e):t[n++]=r,r.w&=~y,r.n&=~y}t.length=n}},g=new WeakMap;let m=0,y=1;const v=30;let b;const _=Symbol(""),w=Symbol("");class T{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let e=b,t=S;while(e){if(e===this)return;e=e.parent}try{return this.parent=b,b=this,S=!0,y=1<<++m,m<=v?h(this):x(this),this.fn()}finally{m<=v&&f(this),y=1<<--m,b=this.parent,S=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){b===this?this.deferStop=!0:this.active&&(x(this),this.onStop&&this.onStop(),this.active=!1)}}function x(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let S=!0;const E=[];function k(){E.push(S),S=!1}function I(){const e=E.pop();S=void 0===e||e}function A(e,t,n){if(S&&b){let t=g.get(e);t||g.set(e,t=new Map);let o=t.get(n);o||t.set(n,o=u());const r=void 0;R(o,r)}}function R(e,t){let n=!1;m<=v?d(e)||(e.n|=y,n=!p(e)):n=!e.has(b),n&&(e.add(b),b.deps.push(e))}function O(e,t,n,r,i,s){const a=g.get(e);if(!a)return;let c=[];if("clear"===t)c=[...a.values()];else if("length"===n&&(0,o.kJ)(e)){const e=(0,o.He)(r);a.forEach(((t,n)=>{("length"===n||n>=e)&&c.push(t)}))}else switch(void 0!==n&&c.push(a.get(n)),t){case"add":(0,o.kJ)(e)?(0,o.S0)(n)&&c.push(a.get("length")):(c.push(a.get(_)),(0,o._N)(e)&&c.push(a.get(w)));break;case"delete":(0,o.kJ)(e)||(c.push(a.get(_)),(0,o._N)(e)&&c.push(a.get(w)));break;case"set":(0,o._N)(e)&&c.push(a.get(_));break}if(1===c.length)c[0]&&C(c[0]);else{const e=[];for(const t of c)t&&e.push(...t);C(u(e))}}function C(e,t){const n=(0,o.kJ)(e)?e:[...e];for(const o of n)o.computed&&j(o,t);for(const o of n)o.computed||j(o,t)}function j(e,t){(e!==b||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const N=(0,o.fY)("__proto__,__v_isRef,__isVue"),P=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(o.yk)),D=B(),M=B(!1,!0),L=B(!0),U=F();function F(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Ce(this);for(let t=0,r=this.length;t<r;t++)A(n,"get",t+"");const o=n[t](...e);return-1===o||!1===o?n[t](...e.map(Ce)):o}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){k();const n=Ce(this)[t].apply(this,e);return I(),n}})),e}function B(e=!1,t=!1){return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&i===(e?t?_e:be:t?ve:ye).get(n))return n;const s=(0,o.kJ)(n);if(!e&&s&&(0,o.RI)(U,r))return Reflect.get(U,r,i);const a=Reflect.get(n,r,i);return((0,o.yk)(r)?P.has(r):N(r))?a:(e||A(n,"get",r),t?a:Le(a)?s&&(0,o.S0)(r)?a:a.value:(0,o.Kn)(a)?e?Ee(a):xe(a):a)}}const H=q(),W=q(!0);function q(e=!1){return function(t,n,r,i){let s=t[n];if(Ae(s)&&Le(s)&&!Le(r))return!1;if(!e&&(Re(r)||Ae(r)||(s=Ce(s),r=Ce(r)),!(0,o.kJ)(t)&&Le(s)&&!Le(r)))return s.value=r,!0;const a=(0,o.kJ)(t)&&(0,o.S0)(n)?Number(n)<t.length:(0,o.RI)(t,n),c=Reflect.set(t,n,r,i);return t===Ce(i)&&(a?(0,o.aU)(r,s)&&O(t,"set",n,r,s):O(t,"add",n,r)),c}}function V(e,t){const n=(0,o.RI)(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&O(e,"delete",t,void 0,r),i}function z(e,t){const n=Reflect.has(e,t);return(0,o.yk)(t)&&P.has(t)||A(e,"has",t),n}function G(e){return A(e,"iterate",(0,o.kJ)(e)?"length":_),Reflect.ownKeys(e)}const $={get:D,set:H,deleteProperty:V,has:z,ownKeys:G},K={get:L,set(e,t){return!0},deleteProperty(e,t){return!0}},Y=(0,o.l7)({},$,{get:M,set:W}),Z=e=>e,J=e=>Reflect.getPrototypeOf(e);function X(e,t,n=!1,o=!1){e=e["__v_raw"];const r=Ce(e),i=Ce(t);n||(t!==i&&A(r,"get",t),A(r,"get",i));const{has:s}=J(r),a=o?Z:n?Pe:Ne;return s.call(r,t)?a(e.get(t)):s.call(r,i)?a(e.get(i)):void(e!==r&&e.get(t))}function Q(e,t=!1){const n=this["__v_raw"],o=Ce(n),r=Ce(e);return t||(e!==r&&A(o,"has",e),A(o,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function ee(e,t=!1){return e=e["__v_raw"],!t&&A(Ce(e),"iterate",_),Reflect.get(e,"size",e)}function te(e){e=Ce(e);const t=Ce(this),n=J(t),o=n.has.call(t,e);return o||(t.add(e),O(t,"add",e,e)),this}function ne(e,t){t=Ce(t);const n=Ce(this),{has:r,get:i}=J(n);let s=r.call(n,e);s||(e=Ce(e),s=r.call(n,e));const a=i.call(n,e);return n.set(e,t),s?(0,o.aU)(t,a)&&O(n,"set",e,t,a):O(n,"add",e,t),this}function oe(e){const t=Ce(this),{has:n,get:o}=J(t);let r=n.call(t,e);r||(e=Ce(e),r=n.call(t,e));const i=o?o.call(t,e):void 0,s=t.delete(e);return r&&O(t,"delete",e,void 0,i),s}function re(){const e=Ce(this),t=0!==e.size,n=void 0,o=e.clear();return t&&O(e,"clear",void 0,void 0,n),o}function ie(e,t){return function(n,o){const r=this,i=r["__v_raw"],s=Ce(i),a=t?Z:e?Pe:Ne;return!e&&A(s,"iterate",_),i.forEach(((e,t)=>n.call(o,a(e),a(t),r)))}}function se(e,t,n){return function(...r){const i=this["__v_raw"],s=Ce(i),a=(0,o._N)(s),c="entries"===e||e===Symbol.iterator&&a,l="keys"===e&&a,u=i[e](...r),p=n?Z:t?Pe:Ne;return!t&&A(s,"iterate",l?w:_),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:c?[p(e[0]),p(e[1])]:p(e),done:t}},[Symbol.iterator](){return this}}}}function ae(e){return function(...t){return"delete"!==e&&this}}function ce(){const e={get(e){return X(this,e)},get size(){return ee(this)},has:Q,add:te,set:ne,delete:oe,clear:re,forEach:ie(!1,!1)},t={get(e){return X(this,e,!1,!0)},get size(){return ee(this)},has:Q,add:te,set:ne,delete:oe,clear:re,forEach:ie(!1,!0)},n={get(e){return X(this,e,!0)},get size(){return ee(this,!0)},has(e){return Q.call(this,e,!0)},add:ae("add"),set:ae("set"),delete:ae("delete"),clear:ae("clear"),forEach:ie(!0,!1)},o={get(e){return X(this,e,!0,!0)},get size(){return ee(this,!0)},has(e){return Q.call(this,e,!0)},add:ae("add"),set:ae("set"),delete:ae("delete"),clear:ae("clear"),forEach:ie(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{e[r]=se(r,!1,!1),n[r]=se(r,!0,!1),t[r]=se(r,!1,!0),o[r]=se(r,!0,!0)})),[e,n,t,o]}const[le,ue,pe,de]=ce();function he(e,t){const n=t?e?de:pe:e?ue:le;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,o.RI)(n,r)&&r in t?n:t,r,i)}const fe={get:he(!1,!1)},ge={get:he(!1,!0)},me={get:he(!0,!1)};const ye=new WeakMap,ve=new WeakMap,be=new WeakMap,_e=new WeakMap;function we(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Te(e){return e["__v_skip"]||!Object.isExtensible(e)?0:we((0,o.W7)(e))}function xe(e){return Ae(e)?e:ke(e,!1,$,fe,ye)}function Se(e){return ke(e,!1,Y,ge,ve)}function Ee(e){return ke(e,!0,K,me,be)}function ke(e,t,n,r,i){if(!(0,o.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const s=i.get(e);if(s)return s;const a=Te(e);if(0===a)return e;const c=new Proxy(e,2===a?r:n);return i.set(e,c),c}function Ie(e){return Ae(e)?Ie(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ae(e){return!(!e||!e["__v_isReadonly"])}function Re(e){return!(!e||!e["__v_isShallow"])}function Oe(e){return Ie(e)||Ae(e)}function Ce(e){const t=e&&e["__v_raw"];return t?Ce(t):e}function je(e){return(0,o.Nj)(e,"__v_skip",!0),e}const Ne=e=>(0,o.Kn)(e)?xe(e):e,Pe=e=>(0,o.Kn)(e)?Ee(e):e;function De(e){S&&b&&(e=Ce(e),R(e.dep||(e.dep=u())))}function Me(e,t){e=Ce(e),e.dep&&C(e.dep)}function Le(e){return!(!e||!0!==e.__v_isRef)}function Ue(e){return Be(e,!1)}function Fe(e){return Be(e,!0)}function Be(e,t){return Le(e)?e:new He(e,t)}class He{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ce(e),this._value=t?e:Ne(e)}get value(){return De(this),this._value}set value(e){const t=this.__v_isShallow||Re(e)||Ae(e);e=t?e:Ce(e),(0,o.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Ne(e),Me(this,e))}}function We(e){Me(e,void 0)}function qe(e){return Le(e)?e.value:e}const Ve={get:(e,t,n)=>qe(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return Le(r)&&!Le(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function ze(e){return Ie(e)?e:new Proxy(e,Ve)}class Ge{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>De(this)),(()=>Me(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function $e(e){return new Ge(e)}function Ke(e){const t=(0,o.kJ)(e)?new Array(e.length):{};for(const n in e)t[n]=Ze(e,n);return t}class Ye{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Ze(e,t,n){const o=e[t];return Le(o)?o:new Ye(e,t,n)}var Je;class Xe{constructor(e,t,n,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[Je]=!1,this._dirty=!0,this.effect=new T(e,(()=>{this._dirty||(this._dirty=!0,Me(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!o,this["__v_isReadonly"]=n}get value(){const e=Ce(this);return De(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Qe(e,t,n=!1){let r,i;const s=(0,o.mf)(e);s?(r=e,i=o.dG):(r=e.get,i=e.set);const a=new Xe(r,i,s||!i,n);return a}Je="__v_isReadonly"},1703:function(e,t,n){"use strict";n.d(t,{$d:function(){return a},Ah:function(){return qe},Cn:function(){return L},F4:function(){return Cn},FN:function(){return zn},Fl:function(){return ao},HY:function(){return un},Ho:function(){return jn},JJ:function(){return re},Jd:function(){return We},Ko:function(){return rt},LL:function(){return et},Nv:function(){return it},P$:function(){return ye},Q2:function(){return tt},Q6:function(){return xe},RC:function(){return ke},Rh:function(){return ae},Rr:function(){return co},U2:function(){return be},Uk:function(){return Nn},Us:function(){return Yt},WI:function(){return st},Wm:function(){return Rn},Y3:function(){return b},Y8:function(){return fe},YP:function(){return le},ZK:function(){return i},_:function(){return An},aZ:function(){return Se},bv:function(){return Fe},dD:function(){return M},dG:function(){return Fn},f3:function(){return ie},h:function(){return po},iD:function(){return wn},ic:function(){return He},j4:function(){return Tn},kq:function(){return Dn},l1:function(){return lo},lA:function(){return xn},lR:function(){return cn},m0:function(){return se},mx:function(){return ct},n4:function(){return K},nK:function(){return Te},qG:function(){return hn},se:function(){return Ce},sv:function(){return dn},uE:function(){return Pn},up:function(){return Xe},w5:function(){return U},wF:function(){return Ue},wg:function(){return mn},wy:function(){return Ke},xv:function(){return pn}});n(6728),n(1951);var o=n(8896),r=n(5555);function i(e,...t){}function s(e,t,n,o){let r;try{r=o?e(...o):e()}catch(i){c(i,t,n)}return r}function a(e,t,n,o){if((0,r.mf)(e)){const i=s(e,t,n,o);return i&&(0,r.tI)(i)&&i.catch((e=>{c(e,t,n)})),i}const i=[];for(let r=0;r<e.length;r++)i.push(a(e[r],t,n,o));return i}function c(e,t,n,o=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,i=n;while(o){const t=o.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,i))return;o=o.parent}const a=t.appContext.config.errorHandler;if(a)return void s(a,null,10,[e,r,i])}l(e,n,r,o)}function l(e,t,n,o=!0){console.error(e)}let u=!1,p=!1;const d=[];let h=0;const f=[];let g=null,m=0;const y=Promise.resolve();let v=null;function b(e){const t=v||y;return e?t.then(this?e.bind(this):e):t}function _(e){let t=h+1,n=d.length;while(t<n){const o=t+n>>>1,r=I(d[o]);r<e?t=o+1:n=o}return t}function w(e){d.length&&d.includes(e,u&&e.allowRecurse?h+1:h)||(null==e.id?d.push(e):d.splice(_(e.id),0,e),T())}function T(){u||p||(p=!0,v=y.then(R))}function x(e){const t=d.indexOf(e);t>h&&d.splice(t,1)}function S(e){(0,r.kJ)(e)?f.push(...e):g&&g.includes(e,e.allowRecurse?m+1:m)||f.push(e),T()}function E(e,t=(u?h+1:0)){for(0;t<d.length;t++){const e=d[t];e&&e.pre&&(d.splice(t,1),t--,e())}}function k(e){if(f.length){const e=[...new Set(f)];if(f.length=0,g)return void g.push(...e);for(g=e,g.sort(((e,t)=>I(e)-I(t))),m=0;m<g.length;m++)g[m]();g=null,m=0}}const I=e=>null==e.id?1/0:e.id,A=(e,t)=>{const n=I(e)-I(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function R(e){p=!1,u=!0,d.sort(A);r.dG;try{for(h=0;h<d.length;h++){const e=d[h];e&&!1!==e.active&&s(e,null,14)}}finally{h=0,d.length=0,k(e),u=!1,v=null,(d.length||f.length)&&R(e)}}new Set;new Map;function O(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||r.kT;let i=n;const s=t.startsWith("update:"),c=s&&t.slice(7);if(c&&c in o){const e=`${"modelValue"===c?"model":c}Modifiers`,{number:t,trim:s}=o[e]||r.kT;s&&(i=n.map((e=>(0,r.HD)(e)?e.trim():e))),t&&(i=n.map(r.He))}let l;let u=o[l=(0,r.hR)(t)]||o[l=(0,r.hR)((0,r._A)(t))];!u&&s&&(u=o[l=(0,r.hR)((0,r.rs)(t))]),u&&a(u,e,6,i);const p=o[l+"Once"];if(p){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,a(p,e,6,i)}}function C(e,t,n=!1){const o=t.emitsCache,i=o.get(e);if(void 0!==i)return i;const s=e.emits;let a={},c=!1;if(!(0,r.mf)(e)){const o=e=>{const n=C(e,t,!0);n&&(c=!0,(0,r.l7)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return s||c?((0,r.kJ)(s)?s.forEach((e=>a[e]=null)):(0,r.l7)(a,s),(0,r.Kn)(e)&&o.set(e,a),a):((0,r.Kn)(e)&&o.set(e,null),null)}function j(e,t){return!(!e||!(0,r.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,r.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,r.RI)(e,(0,r.rs)(t))||(0,r.RI)(e,t))}let N=null,P=null;function D(e){const t=N;return N=e,P=e&&e.type.__scopeId||null,t}function M(e){P=e}function L(){P=null}function U(e,t=N,n){if(!t)return e;if(e._n)return e;const o=(...n)=>{o._d&&bn(-1);const r=D(t);let i;try{i=e(...n)}finally{D(r),o._d&&bn(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function F(e){const{type:t,vnode:n,proxy:o,withProxy:i,props:s,propsOptions:[a],slots:l,attrs:u,emit:p,render:d,renderCache:h,data:f,setupState:g,ctx:m,inheritAttrs:y}=e;let v,b;const _=D(e);try{if(4&n.shapeFlag){const e=i||o;v=Mn(d.call(e,e,h,s,g,f,m)),b=u}else{const e=t;0,v=Mn(e.length>1?e(s,{attrs:u,slots:l,emit:p}):e(s,null)),b=t.props?u:H(u)}}catch(T){fn.length=0,c(T,e,1),v=Rn(dn)}let w=v;if(b&&!1!==y){const e=Object.keys(b),{shapeFlag:t}=w;e.length&&7&t&&(a&&e.some(r.tR)&&(b=W(b,a)),w=jn(w,b))}return n.dirs&&(w=jn(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),v=w,D(_),v}function B(e){let t;for(let n=0;n<e.length;n++){const o=e[n];if(!xn(o))return;if(o.type!==dn||"v-if"===o.children){if(t)return;t=o}}return t}const H=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,r.F7)(n))&&((t||(t={}))[n]=e[n]);return t},W=(e,t)=>{const n={};for(const o in e)(0,r.tR)(o)&&o.slice(9)in t||(n[o]=e[o]);return n};function q(e,t,n){const{props:o,children:r,component:i}=e,{props:s,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!r&&!a||a&&a.$stable)||o!==s&&(o?!s||V(o,s,l):!!s);if(1024&c)return!0;if(16&c)return o?V(o,s,l):!!s;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==o[n]&&!j(l,n))return!0}}return!1}function V(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(t[i]!==e[i]&&!j(n,i))return!0}return!1}function z({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const G=e=>e.__isSuspense,$={name:"Suspense",__isSuspense:!0,process(e,t,n,o,r,i,s,a,c,l){null==e?Z(t,n,o,r,i,s,a,c,l):J(e,t,n,o,r,s,a,c,l)},hydrate:Q,create:X,normalize:ee},K=$;function Y(e,t){const n=e.props&&e.props[t];(0,r.mf)(n)&&n()}function Z(e,t,n,o,r,i,s,a,c){const{p:l,o:{createElement:u}}=c,p=u("div"),d=e.suspense=X(e,r,o,t,p,n,i,s,a,c);l(null,d.pendingBranch=e.ssContent,p,null,o,d,i,s),d.deps>0?(Y(e,"onPending"),Y(e,"onFallback"),l(null,e.ssFallback,t,n,o,null,i,s),oe(d,e.ssFallback)):d.resolve()}function J(e,t,n,o,r,i,s,a,{p:c,um:l,o:{createElement:u}}){const p=t.suspense=e.suspense;p.vnode=t,t.el=e.el;const d=t.ssContent,h=t.ssFallback,{activeBranch:f,pendingBranch:g,isInFallback:m,isHydrating:y}=p;if(g)p.pendingBranch=d,Sn(d,g)?(c(g,d,p.hiddenContainer,null,r,p,i,s,a),p.deps<=0?p.resolve():m&&(c(f,h,n,o,r,null,i,s,a),oe(p,h))):(p.pendingId++,y?(p.isHydrating=!1,p.activeBranch=g):l(g,r,p),p.deps=0,p.effects.length=0,p.hiddenContainer=u("div"),m?(c(null,d,p.hiddenContainer,null,r,p,i,s,a),p.deps<=0?p.resolve():(c(f,h,n,o,r,null,i,s,a),oe(p,h))):f&&Sn(d,f)?(c(f,d,n,o,r,p,i,s,a),p.resolve(!0)):(c(null,d,p.hiddenContainer,null,r,p,i,s,a),p.deps<=0&&p.resolve()));else if(f&&Sn(d,f))c(f,d,n,o,r,p,i,s,a),oe(p,d);else if(Y(t,"onPending"),p.pendingBranch=d,p.pendingId++,c(null,d,p.hiddenContainer,null,r,p,i,s,a),p.deps<=0)p.resolve();else{const{timeout:e,pendingId:t}=p;e>0?setTimeout((()=>{p.pendingId===t&&p.fallback(h)}),e):0===e&&p.fallback(h)}}function X(e,t,n,o,i,s,a,l,u,p,d=!1){const{p:h,m:f,um:g,n:m,o:{parentNode:y,remove:v}}=p,b=(0,r.He)(e.props&&e.props.timeout),_={vnode:e,parent:t,parentComponent:n,isSVG:a,container:o,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:"number"===typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:d,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:o,pendingId:r,effects:i,parentComponent:s,container:a}=_;if(_.isHydrating)_.isHydrating=!1;else if(!e){const e=n&&o.transition&&"out-in"===o.transition.mode;e&&(n.transition.afterLeave=()=>{r===_.pendingId&&f(o,a,t,0)});let{anchor:t}=_;n&&(t=m(n),g(n,s,_,!0)),e||f(o,a,t,0)}oe(_,o),_.pendingBranch=null,_.isInFallback=!1;let c=_.parent,l=!1;while(c){if(c.pendingBranch){c.effects.push(...i),l=!0;break}c=c.parent}l||S(i),_.effects=[],Y(t,"onResolve")},fallback(e){if(!_.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:o,container:r,isSVG:i}=_;Y(t,"onFallback");const s=m(n),a=()=>{_.isInFallback&&(h(null,e,r,s,o,null,i,l,u),oe(_,e))},c=e.transition&&"out-in"===e.transition.mode;c&&(n.transition.afterLeave=a),_.isInFallback=!0,g(n,o,null,!0),c||a()},move(e,t,n){_.activeBranch&&f(_.activeBranch,e,t,n),_.container=e},next(){return _.activeBranch&&m(_.activeBranch)},registerDep(e,t){const n=!!_.pendingBranch;n&&_.deps++;const o=e.vnode.el;e.asyncDep.catch((t=>{c(t,e,0)})).then((r=>{if(e.isUnmounted||_.isUnmounted||_.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:i}=e;eo(e,r,!1),o&&(i.el=o);const s=!o&&e.subTree.el;t(e,i,y(o||e.subTree.el),o?null:m(e.subTree),_,a,u),s&&v(s),z(e,i.el),n&&0===--_.deps&&_.resolve()}))},unmount(e,t){_.isUnmounted=!0,_.activeBranch&&g(_.activeBranch,n,e,t),_.pendingBranch&&g(_.pendingBranch,n,e,t)}};return _}function Q(e,t,n,o,r,i,s,a,c){const l=t.suspense=X(t,o,n,e.parentNode,document.createElement("div"),null,r,i,s,a,!0),u=c(e,l.pendingBranch=t.ssContent,n,l,i,s);return 0===l.deps&&l.resolve(),u}function ee(e){const{shapeFlag:t,children:n}=e,o=32&t;e.ssContent=te(o?n.default:n),e.ssFallback=o?te(n.fallback):Rn(dn)}function te(e){let t;if((0,r.mf)(e)){const n=vn&&e._c;n&&(e._d=!1,mn()),e=e(),n&&(e._d=!0,t=gn,yn())}if((0,r.kJ)(e)){const t=B(e);0,e=t}return e=Mn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function ne(e,t){t&&t.pendingBranch?(0,r.kJ)(e)?t.effects.push(...e):t.effects.push(e):S(e)}function oe(e,t){e.activeBranch=t;const{vnode:n,parentComponent:o}=e,r=n.el=t.el;o&&o.subTree===n&&(o.vnode.el=r,z(o,r))}function re(e,t){if(Vn){let n=Vn.provides;const o=Vn.parent&&Vn.parent.provides;o===n&&(n=Vn.provides=Object.create(o)),n[e]=t}else 0}function ie(e,t,n=!1){const o=Vn||N;if(o){const i=null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,r.mf)(t)?t.call(o.proxy):t}else 0}function se(e,t){return ue(e,null,t)}function ae(e,t){return ue(e,null,{flush:"post"})}const ce={};function le(e,t,n){return ue(e,t,n)}function ue(e,t,{immediate:n,deep:i,flush:c,onTrack:l,onTrigger:u}=r.kT){const p=Vn;let d,h,f=!1,g=!1;if((0,o.dq)(e)?(d=()=>e.value,f=(0,o.yT)(e)):(0,o.PG)(e)?(d=()=>e,i=!0):(0,r.kJ)(e)?(g=!0,f=e.some((e=>(0,o.PG)(e)||(0,o.yT)(e))),d=()=>e.map((e=>(0,o.dq)(e)?e.value:(0,o.PG)(e)?he(e):(0,r.mf)(e)?s(e,p,2):void 0))):d=(0,r.mf)(e)?t?()=>s(e,p,2):()=>{if(!p||!p.isUnmounted)return h&&h(),a(e,p,3,[y])}:r.dG,t&&i){const e=d;d=()=>he(e())}let m,y=e=>{h=T.onStop=()=>{s(e,p,4)}};if(Jn){if(y=r.dG,t?n&&a(t,p,3,[d(),g?[]:void 0,y]):d(),"sync"!==c)return r.dG;{const e=fo();m=e.__watcherHandles||(e.__watcherHandles=[])}}let v=g?new Array(e.length).fill(ce):ce;const b=()=>{if(T.active)if(t){const e=T.run();(i||f||(g?e.some(((e,t)=>(0,r.aU)(e,v[t]))):(0,r.aU)(e,v)))&&(h&&h(),a(t,p,3,[e,v===ce?void 0:g&&v[0]===ce?[]:v,y]),v=e)}else T.run()};let _;b.allowRecurse=!!t,"sync"===c?_=b:"post"===c?_=()=>Kt(b,p&&p.suspense):(b.pre=!0,p&&(b.id=p.uid),_=()=>w(b));const T=new o.qq(d,_);t?n?b():v=T.run():"post"===c?Kt(T.run.bind(T),p&&p.suspense):T.run();const x=()=>{T.stop(),p&&p.scope&&(0,r.Od)(p.scope.effects,T)};return m&&m.push(x),x}function pe(e,t,n){const o=this.proxy,i=(0,r.HD)(e)?e.includes(".")?de(o,e):()=>o[e]:e.bind(o,o);let s;(0,r.mf)(t)?s=t:(s=t.handler,n=t);const a=Vn;Gn(this);const c=ue(i,s.bind(o),n);return a?Gn(a):$n(),c}function de(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function he(e,t){if(!(0,r.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,o.dq)(e))he(e.value,t);else if((0,r.kJ)(e))for(let n=0;n<e.length;n++)he(e[n],t);else if((0,r.DM)(e)||(0,r._N)(e))e.forEach((e=>{he(e,t)}));else if((0,r.PO)(e))for(const n in e)he(e[n],t);return e}function fe(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Fe((()=>{e.isMounted=!0})),We((()=>{e.isUnmounting=!0})),e}const ge=[Function,Array],me={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ge,onEnter:ge,onAfterEnter:ge,onEnterCancelled:ge,onBeforeLeave:ge,onLeave:ge,onAfterLeave:ge,onLeaveCancelled:ge,onBeforeAppear:ge,onAppear:ge,onAfterAppear:ge,onAppearCancelled:ge},setup(e,{slots:t}){const n=zn(),r=fe();let i;return()=>{const s=t.default&&xe(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let e=!1;for(const t of s)if(t.type!==dn){0,a=t,e=!0;break}}const c=(0,o.IU)(e),{mode:l}=c;if(r.isLeaving)return _e(a);const u=we(a);if(!u)return _e(a);const p=be(u,c,r,n);Te(u,p);const d=n.subTree,h=d&&we(d);let f=!1;const{getTransitionKey:g}=u.type;if(g){const e=g();void 0===i?i=e:e!==i&&(i=e,f=!0)}if(h&&h.type!==dn&&(!Sn(u,h)||f)){const e=be(h,c,r,n);if(Te(h,e),"out-in"===l)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&n.update()},_e(a);"in-out"===l&&u.type!==dn&&(e.delayLeave=(e,t,n)=>{const o=ve(r,h);o[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=n})}return a}}},ye=me;function ve(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function be(e,t,n,o){const{appear:i,mode:s,persisted:c=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:p,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:y,onAppear:v,onAfterAppear:b,onAppearCancelled:_}=t,w=String(e.key),T=ve(n,e),x=(e,t)=>{e&&a(e,o,9,t)},S=(e,t)=>{const n=t[1];x(e,t),(0,r.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},E={mode:s,persisted:c,beforeEnter(t){let o=l;if(!n.isMounted){if(!i)return;o=y||l}t._leaveCb&&t._leaveCb(!0);const r=T[w];r&&Sn(e,r)&&r.el._leaveCb&&r.el._leaveCb(),x(o,[t])},enter(e){let t=u,o=p,r=d;if(!n.isMounted){if(!i)return;t=v||u,o=b||p,r=_||d}let s=!1;const a=e._enterCb=t=>{s||(s=!0,x(t?r:o,[e]),E.delayedLeave&&E.delayedLeave(),e._enterCb=void 0)};t?S(t,[e,a]):a()},leave(t,o){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return o();x(h,[t]);let i=!1;const s=t._leaveCb=n=>{i||(i=!0,o(),x(n?m:g,[t]),t._leaveCb=void 0,T[r]===e&&delete T[r])};T[r]=e,f?S(f,[t,s]):s()},clone(e){return be(e,t,n,o)}};return E}function _e(e){if(Ae(e))return e=jn(e),e.children=null,e}function we(e){return Ae(e)?e.children?e.children[0]:void 0:e}function Te(e,t){6&e.shapeFlag&&e.component?Te(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function xe(e,t=!1,n){let o=[],r=0;for(let i=0;i<e.length;i++){let s=e[i];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:i);s.type===un?(128&s.patchFlag&&r++,o=o.concat(xe(s.children,t,a))):(t||s.type!==dn)&&o.push(null!=a?jn(s,{key:a}):s)}if(r>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function Se(e){return(0,r.mf)(e)?{setup:e,name:e.name}:e}const Ee=e=>!!e.type.__asyncLoader;function ke(e){(0,r.mf)(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:s=200,timeout:a,suspensible:l=!0,onError:u}=e;let p,d=null,h=0;const f=()=>(h++,d=null,g()),g=()=>{let e;return d||(e=d=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),u)return new Promise(((t,n)=>{const o=()=>t(f()),r=()=>n(e);u(e,o,r,h+1)}));throw e})).then((t=>e!==d&&d?d:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),p=t,t))))};return Se({name:"AsyncComponentWrapper",__asyncLoader:g,get __asyncResolved(){return p},setup(){const e=Vn;if(p)return()=>Ie(p,e);const t=t=>{d=null,c(t,e,13,!i)};if(l&&e.suspense||Jn)return g().then((t=>()=>Ie(t,e))).catch((e=>(t(e),()=>i?Rn(i,{error:e}):null)));const r=(0,o.iH)(!1),u=(0,o.iH)(),h=(0,o.iH)(!!s);return s&&setTimeout((()=>{h.value=!1}),s),null!=a&&setTimeout((()=>{if(!r.value&&!u.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),u.value=e}}),a),g().then((()=>{r.value=!0,e.parent&&Ae(e.parent.vnode)&&w(e.parent.update)})).catch((e=>{t(e),u.value=e})),()=>r.value&&p?Ie(p,e):u.value&&i?Rn(i,{error:u.value}):n&&!h.value?Rn(n):void 0}})}function Ie(e,t){const{ref:n,props:o,children:r,ce:i}=t.vnode,s=Rn(e,o,r);return s.ref=n,s.ce=i,delete t.vnode.ce,s}const Ae=e=>e.type.__isKeepAlive;RegExp,RegExp;function Re(e,t){return(0,r.kJ)(e)?e.some((e=>Re(e,t))):(0,r.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function Oe(e,t){je(e,"a",t)}function Ce(e,t){je(e,"da",t)}function je(e,t,n=Vn){const o=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Me(t,o,n),n){let e=n.parent;while(e&&e.parent)Ae(e.parent.vnode)&&Ne(o,t,n,e),e=e.parent}}function Ne(e,t,n,o){const i=Me(t,e,o,!0);qe((()=>{(0,r.Od)(o[t],i)}),n)}function Pe(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function De(e){return 128&e.shapeFlag?e.ssContent:e}function Me(e,t,n=Vn,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;(0,o.Jd)(),Gn(n);const i=a(t,n,e,r);return $n(),(0,o.lk)(),i});return r?i.unshift(s):i.push(s),s}}const Le=e=>(t,n=Vn)=>(!Jn||"sp"===e)&&Me(e,((...e)=>t(...e)),n),Ue=Le("bm"),Fe=Le("m"),Be=Le("bu"),He=Le("u"),We=Le("bum"),qe=Le("um"),Ve=Le("sp"),ze=Le("rtg"),Ge=Le("rtc");function $e(e,t=Vn){Me("ec",e,t)}function Ke(e,t){const n=N;if(null===n)return e;const o=ro(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,n,a,c=r.kT]=t[s];e&&((0,r.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&he(n),i.push({dir:e,instance:o,value:n,oldValue:void 0,arg:a,modifiers:c}))}return e}function Ye(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let c=0;c<i.length;c++){const l=i[c];s&&(l.oldValue=s[c].value);let u=l.dir[r];u&&((0,o.Jd)(),a(u,n,8,[e.el,l,e,t]),(0,o.lk)())}}const Ze="components",Je="directives";function Xe(e,t){return nt(Ze,e,!0,t)||e}const Qe=Symbol();function et(e){return(0,r.HD)(e)?nt(Ze,e,!1)||e:e||Qe}function tt(e){return nt(Je,e)}function nt(e,t,n=!0,o=!1){const i=N||Vn;if(i){const n=i.type;if(e===Ze){const e=io(n,!1);if(e&&(e===t||e===(0,r._A)(t)||e===(0,r.kC)((0,r._A)(t))))return n}const s=ot(i[e]||n[e],t)||ot(i.appContext[e],t);return!s&&o?n:s}}function ot(e,t){return e&&(e[t]||e[(0,r._A)(t)]||e[(0,r.kC)((0,r._A)(t))])}function rt(e,t,n,o){let i;const s=n&&n[o];if((0,r.kJ)(e)||(0,r.HD)(e)){i=new Array(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=t(e[n],n,void 0,s&&s[n])}else if("number"===typeof e){0,i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,s&&s[n])}else if((0,r.Kn)(e))if(e[Symbol.iterator])i=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);i=new Array(n.length);for(let o=0,r=n.length;o<r;o++){const r=n[o];i[o]=t(e[r],r,o,s&&s[o])}}else i=[];return n&&(n[o]=i),i}function it(e,t){for(let n=0;n<t.length;n++){const o=t[n];if((0,r.kJ)(o))for(let t=0;t<o.length;t++)e[o[t].name]=o[t].fn;else o&&(e[o.name]=o.key?(...e)=>{const t=o.fn(...e);return t&&(t.key=o.key),t}:o.fn)}return e}function st(e,t,n={},o,r){if(N.isCE||N.parent&&Ee(N.parent)&&N.parent.isCE)return"default"!==t&&(n.name=t),Rn("slot",n,o&&o());let i=e[t];i&&i._c&&(i._d=!1),mn();const s=i&&at(i(n)),a=Tn(un,{key:n.key||s&&s.key||`_${t}`},s||(o?o():[]),s&&1===e._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function at(e){return e.some((e=>!xn(e)||e.type!==dn&&!(e.type===un&&!at(e.children))))?e:null}function ct(e,t){const n={};for(const o in e)n[t&&/[A-Z]/.test(o)?`on:${o}`:(0,r.hR)(o)]=e[o];return n}const lt=e=>e?Kn(e)?ro(e)||e.proxy:lt(e.parent):null,ut=(0,r.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>lt(e.parent),$root:e=>lt(e.root),$emit:e=>e.emit,$options:e=>vt(e),$forceUpdate:e=>e.f||(e.f=()=>w(e.update)),$nextTick:e=>e.n||(e.n=b.bind(e.proxy)),$watch:e=>pe.bind(e)}),pt=(e,t)=>e!==r.kT&&!e.__isScriptSetup&&(0,r.RI)(e,t),dt={get({_:e},t){const{ctx:n,setupState:i,data:s,props:a,accessCache:c,type:l,appContext:u}=e;let p;if("$"!==t[0]){const o=c[t];if(void 0!==o)switch(o){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(pt(i,t))return c[t]=1,i[t];if(s!==r.kT&&(0,r.RI)(s,t))return c[t]=2,s[t];if((p=e.propsOptions[0])&&(0,r.RI)(p,t))return c[t]=3,a[t];if(n!==r.kT&&(0,r.RI)(n,t))return c[t]=4,n[t];ht&&(c[t]=0)}}const d=ut[t];let h,f;return d?("$attrs"===t&&(0,o.j)(e,"get",t),d(e)):(h=l.__cssModules)&&(h=h[t])?h:n!==r.kT&&(0,r.RI)(n,t)?(c[t]=4,n[t]):(f=u.config.globalProperties,(0,r.RI)(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:o,setupState:i,ctx:s}=e;return pt(i,t)?(i[t]=n,!0):o!==r.kT&&(0,r.RI)(o,t)?(o[t]=n,!0):!(0,r.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,propsOptions:s}},a){let c;return!!n[a]||e!==r.kT&&(0,r.RI)(e,a)||pt(t,a)||(c=s[0])&&(0,r.RI)(c,a)||(0,r.RI)(o,a)||(0,r.RI)(ut,a)||(0,r.RI)(i.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,r.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let ht=!0;function ft(e){const t=vt(e),n=e.proxy,i=e.ctx;ht=!1,t.beforeCreate&&mt(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:c,watch:l,provide:u,inject:p,created:d,beforeMount:h,mounted:f,beforeUpdate:g,updated:m,activated:y,deactivated:v,beforeDestroy:b,beforeUnmount:_,destroyed:w,unmounted:T,render:x,renderTracked:S,renderTriggered:E,errorCaptured:k,serverPrefetch:I,expose:A,inheritAttrs:R,components:O,directives:C,filters:j}=t,N=null;if(p&&gt(p,i,N,e.appContext.config.unwrapInjectedRef),c)for(const o in c){const e=c[o];(0,r.mf)(e)&&(i[o]=e.bind(n))}if(s){0;const t=s.call(n,n);0,(0,r.Kn)(t)&&(e.data=(0,o.qj)(t))}if(ht=!0,a)for(const o in a){const e=a[o],t=(0,r.mf)(e)?e.bind(n,n):(0,r.mf)(e.get)?e.get.bind(n,n):r.dG;0;const s=!(0,r.mf)(e)&&(0,r.mf)(e.set)?e.set.bind(n):r.dG,c=ao({get:t,set:s});Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>c.value,set:e=>c.value=e})}if(l)for(const o in l)yt(l[o],i,n,o);if(u){const e=(0,r.mf)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{re(t,e[t])}))}function P(e,t){(0,r.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&mt(d,e,"c"),P(Ue,h),P(Fe,f),P(Be,g),P(He,m),P(Oe,y),P(Ce,v),P($e,k),P(Ge,S),P(ze,E),P(We,_),P(qe,T),P(Ve,I),(0,r.kJ)(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});x&&e.render===r.dG&&(e.render=x),null!=R&&(e.inheritAttrs=R),O&&(e.components=O),C&&(e.directives=C)}function gt(e,t,n=r.dG,i=!1){(0,r.kJ)(e)&&(e=xt(e));for(const s in e){const n=e[s];let a;a=(0,r.Kn)(n)?"default"in n?ie(n.from||s,n.default,!0):ie(n.from||s):ie(n),(0,o.dq)(a)&&i?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[s]=a}}function mt(e,t,n){a((0,r.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function yt(e,t,n,o){const i=o.includes(".")?de(n,o):()=>n[o];if((0,r.HD)(e)){const n=t[e];(0,r.mf)(n)&&le(i,n)}else if((0,r.mf)(e))le(i,e.bind(n));else if((0,r.Kn)(e))if((0,r.kJ)(e))e.forEach((e=>yt(e,t,n,o)));else{const o=(0,r.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,r.mf)(o)&&le(i,o,e)}else 0}function vt(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,c=s.get(t);let l;return c?l=c:i.length||n||o?(l={},i.length&&i.forEach((e=>bt(l,e,a,!0))),bt(l,t,a)):l=t,(0,r.Kn)(t)&&s.set(t,l),l}function bt(e,t,n,o=!1){const{mixins:r,extends:i}=t;i&&bt(e,i,n,!0),r&&r.forEach((t=>bt(e,t,n,!0)));for(const s in t)if(o&&"expose"===s);else{const o=_t[s]||n&&n[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const _t={data:wt,props:Et,emits:Et,methods:Et,computed:Et,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:Et,directives:Et,watch:kt,provide:wt,inject:Tt};function wt(e,t){return t?e?function(){return(0,r.l7)((0,r.mf)(e)?e.call(this,this):e,(0,r.mf)(t)?t.call(this,this):t)}:t:e}function Tt(e,t){return Et(xt(e),xt(t))}function xt(e){if((0,r.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function St(e,t){return e?[...new Set([].concat(e,t))]:t}function Et(e,t){return e?(0,r.l7)((0,r.l7)(Object.create(null),e),t):t}function kt(e,t){if(!e)return t;if(!t)return e;const n=(0,r.l7)(Object.create(null),e);for(const o in t)n[o]=St(e[o],t[o]);return n}function It(e,t,n,i=!1){const s={},a={};(0,r.Nj)(a,En,1),e.propsDefaults=Object.create(null),Rt(e,t,s,a);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=i?s:(0,o.Um)(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function At(e,t,n,i){const{props:s,attrs:a,vnode:{patchFlag:c}}=e,l=(0,o.IU)(s),[u]=e.propsOptions;let p=!1;if(!(i||c>0)||16&c){let o;Rt(e,t,s,a)&&(p=!0);for(const i in l)t&&((0,r.RI)(t,i)||(o=(0,r.rs)(i))!==i&&(0,r.RI)(t,o))||(u?!n||void 0===n[i]&&void 0===n[o]||(s[i]=Ot(u,l,i,void 0,e,!0)):delete s[i]);if(a!==l)for(const e in a)t&&(0,r.RI)(t,e)||(delete a[e],p=!0)}else if(8&c){const n=e.vnode.dynamicProps;for(let o=0;o<n.length;o++){let i=n[o];if(j(e.emitsOptions,i))continue;const c=t[i];if(u)if((0,r.RI)(a,i))c!==a[i]&&(a[i]=c,p=!0);else{const t=(0,r._A)(i);s[t]=Ot(u,l,t,c,e,!1)}else c!==a[i]&&(a[i]=c,p=!0)}}p&&(0,o.X$)(e,"set","$attrs")}function Rt(e,t,n,i){const[s,a]=e.propsOptions;let c,l=!1;if(t)for(let o in t){if((0,r.Gg)(o))continue;const u=t[o];let p;s&&(0,r.RI)(s,p=(0,r._A)(o))?a&&a.includes(p)?(c||(c={}))[p]=u:n[p]=u:j(e.emitsOptions,o)||o in i&&u===i[o]||(i[o]=u,l=!0)}if(a){const t=(0,o.IU)(n),i=c||r.kT;for(let o=0;o<a.length;o++){const c=a[o];n[c]=Ot(s,t,c,i[c],e,!(0,r.RI)(i,c))}}return l}function Ot(e,t,n,o,i,s){const a=e[n];if(null!=a){const e=(0,r.RI)(a,"default");if(e&&void 0===o){const e=a.default;if(a.type!==Function&&(0,r.mf)(e)){const{propsDefaults:r}=i;n in r?o=r[n]:(Gn(i),o=r[n]=e.call(null,t),$n())}else o=e}a[0]&&(s&&!e?o=!1:!a[1]||""!==o&&o!==(0,r.rs)(n)||(o=!0))}return o}function Ct(e,t,n=!1){const o=t.propsCache,i=o.get(e);if(i)return i;const s=e.props,a={},c=[];let l=!1;if(!(0,r.mf)(e)){const o=e=>{l=!0;const[n,o]=Ct(e,t,!0);(0,r.l7)(a,n),o&&c.push(...o)};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!s&&!l)return(0,r.Kn)(e)&&o.set(e,r.Z6),r.Z6;if((0,r.kJ)(s))for(let p=0;p<s.length;p++){0;const e=(0,r._A)(s[p]);jt(e)&&(a[e]=r.kT)}else if(s){0;for(const e in s){const t=(0,r._A)(e);if(jt(t)){const n=s[e],o=a[t]=(0,r.kJ)(n)||(0,r.mf)(n)?{type:n}:Object.assign({},n);if(o){const e=Dt(Boolean,o.type),n=Dt(String,o.type);o[0]=e>-1,o[1]=n<0||e<n,(e>-1||(0,r.RI)(o,"default"))&&c.push(t)}}}}const u=[a,c];return(0,r.Kn)(e)&&o.set(e,u),u}function jt(e){return"$"!==e[0]}function Nt(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function Pt(e,t){return Nt(e)===Nt(t)}function Dt(e,t){return(0,r.kJ)(t)?t.findIndex((t=>Pt(t,e))):(0,r.mf)(t)&&Pt(t,e)?0:-1}const Mt=e=>"_"===e[0]||"$stable"===e,Lt=e=>(0,r.kJ)(e)?e.map(Mn):[Mn(e)],Ut=(e,t,n)=>{if(t._n)return t;const o=U(((...e)=>Lt(t(...e))),n);return o._c=!1,o},Ft=(e,t,n)=>{const o=e._ctx;for(const i in e){if(Mt(i))continue;const n=e[i];if((0,r.mf)(n))t[i]=Ut(i,n,o);else if(null!=n){0;const e=Lt(n);t[i]=()=>e}}},Bt=(e,t)=>{const n=Lt(t);e.slots.default=()=>n},Ht=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,o.IU)(t),(0,r.Nj)(t,"_",n)):Ft(t,e.slots={})}else e.slots={},t&&Bt(e,t);(0,r.Nj)(e.slots,En,1)},Wt=(e,t,n)=>{const{vnode:o,slots:i}=e;let s=!0,a=r.kT;if(32&o.shapeFlag){const e=t._;e?n&&1===e?s=!1:((0,r.l7)(i,t),n||1!==e||delete i._):(s=!t.$stable,Ft(t,i)),a=t}else t&&(Bt(e,t),a={default:1});if(s)for(const r in i)Mt(r)||r in a||delete i[r]};function qt(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vt=0;function zt(e,t){return function(n,o=null){(0,r.mf)(n)||(n=Object.assign({},n)),null==o||(0,r.Kn)(o)||(o=null);const i=qt(),s=new Set;let a=!1;const c=i.app={_uid:Vt++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:go,get config(){return i.config},set config(e){0},use(e,...t){return s.has(e)||(e&&(0,r.mf)(e.install)?(s.add(e),e.install(c,...t)):(0,r.mf)(e)&&(s.add(e),e(c,...t))),c},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),c},component(e,t){return t?(i.components[e]=t,c):i.components[e]},directive(e,t){return t?(i.directives[e]=t,c):i.directives[e]},mount(r,s,l){if(!a){0;const u=Rn(n,o);return u.appContext=i,s&&t?t(u,r):e(u,r,l),a=!0,c._container=r,r.__vue_app__=c,ro(u.component)||u.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(e,t){return i.provides[e]=t,c}};return c}}function Gt(e,t,n,i,a=!1){if((0,r.kJ)(e))return void e.forEach(((e,o)=>Gt(e,t&&((0,r.kJ)(t)?t[o]:t),n,i,a)));if(Ee(i)&&!a)return;const c=4&i.shapeFlag?ro(i.component)||i.component.proxy:i.el,l=a?null:c,{i:u,r:p}=e;const d=t&&t.r,h=u.refs===r.kT?u.refs={}:u.refs,f=u.setupState;if(null!=d&&d!==p&&((0,r.HD)(d)?(h[d]=null,(0,r.RI)(f,d)&&(f[d]=null)):(0,o.dq)(d)&&(d.value=null)),(0,r.mf)(p))s(p,u,12,[l,h]);else{const t=(0,r.HD)(p),i=(0,o.dq)(p);if(t||i){const o=()=>{if(e.f){const n=t?(0,r.RI)(f,p)?f[p]:h[p]:p.value;a?(0,r.kJ)(n)&&(0,r.Od)(n,c):(0,r.kJ)(n)?n.includes(c)||n.push(c):t?(h[p]=[c],(0,r.RI)(f,p)&&(f[p]=h[p])):(p.value=[c],e.k&&(h[e.k]=p.value))}else t?(h[p]=l,(0,r.RI)(f,p)&&(f[p]=l)):i&&(p.value=l,e.k&&(h[e.k]=l))};l?(o.id=-1,Kt(o,n)):o()}else 0}}function $t(){}const Kt=ne;function Yt(e){return Zt(e)}function Zt(e,t){$t();const n=(0,r.E9)();n.__VUE__=!0;const{insert:i,remove:s,patchProp:a,createElement:c,createText:l,createComment:u,setText:p,setElementText:d,parentNode:h,nextSibling:f,setScopeId:g=r.dG,insertStaticContent:m}=e,y=(e,t,n,o=null,r=null,i=null,s=!1,a=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!Sn(e,t)&&(o=X(e),$(e,r,i,!0),e=null),-2===t.patchFlag&&(c=!1,t.dynamicChildren=null);const{type:l,ref:u,shapeFlag:p}=t;switch(l){case pn:v(e,t,n,o);break;case dn:b(e,t,n,o);break;case hn:null==e&&_(t,n,o,s);break;case un:P(e,t,n,o,r,i,s,a,c);break;default:1&p?I(e,t,n,o,r,i,s,a,c):6&p?D(e,t,n,o,r,i,s,a,c):(64&p||128&p)&&l.process(e,t,n,o,r,i,s,a,c,ee)}null!=u&&r&&Gt(u,e&&e.ref,i,t||e,!t)},v=(e,t,n,o)=>{if(null==e)i(t.el=l(t.children),n,o);else{const n=t.el=e.el;t.children!==e.children&&p(n,t.children)}},b=(e,t,n,o)=>{null==e?i(t.el=u(t.children||""),n,o):t.el=e.el},_=(e,t,n,o)=>{[e.el,e.anchor]=m(e.children,t,n,o,e.el,e.anchor)},T=({el:e,anchor:t},n,o)=>{let r;while(e&&e!==t)r=f(e),i(e,n,o),e=r;i(t,n,o)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=f(e),s(e),e=n;s(t)},I=(e,t,n,o,r,i,s,a,c)=>{s=s||"svg"===t.type,null==e?A(t,n,o,r,i,s,a,c):C(e,t,r,i,s,a,c)},A=(e,t,n,o,s,l,u,p)=>{let h,f;const{type:g,props:m,shapeFlag:y,transition:v,dirs:b}=e;if(h=e.el=c(e.type,l,m&&m.is,m),8&y?d(h,e.children):16&y&&O(e.children,h,null,o,s,l&&"foreignObject"!==g,u,p),b&&Ye(e,null,o,"created"),m){for(const t in m)"value"===t||(0,r.Gg)(t)||a(h,t,null,m[t],l,e.children,o,s,J);"value"in m&&a(h,"value",null,m.value),(f=m.onVnodeBeforeMount)&&Bn(f,o,e)}R(h,e,e.scopeId,u,o),b&&Ye(e,null,o,"beforeMount");const _=(!s||s&&!s.pendingBranch)&&v&&!v.persisted;_&&v.beforeEnter(h),i(h,t,n),((f=m&&m.onVnodeMounted)||_||b)&&Kt((()=>{f&&Bn(f,o,e),_&&v.enter(h),b&&Ye(e,null,o,"mounted")}),s)},R=(e,t,n,o,r)=>{if(n&&g(e,n),o)for(let i=0;i<o.length;i++)g(e,o[i]);if(r){let n=r.subTree;if(t===n){const t=r.vnode;R(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},O=(e,t,n,o,r,i,s,a,c=0)=>{for(let l=c;l<e.length;l++){const c=e[l]=a?Ln(e[l]):Mn(e[l]);y(null,c,t,n,o,r,i,s,a)}},C=(e,t,n,o,i,s,c)=>{const l=t.el=e.el;let{patchFlag:u,dynamicChildren:p,dirs:h}=t;u|=16&e.patchFlag;const f=e.props||r.kT,g=t.props||r.kT;let m;n&&Jt(n,!1),(m=g.onVnodeBeforeUpdate)&&Bn(m,n,t,e),h&&Ye(t,e,n,"beforeUpdate"),n&&Jt(n,!0);const y=i&&"foreignObject"!==t.type;if(p?j(e.dynamicChildren,p,l,n,o,y,s):c||H(e,t,l,null,n,o,y,s,!1),u>0){if(16&u)N(l,t,f,g,n,o,i);else if(2&u&&f.class!==g.class&&a(l,"class",null,g.class,i),4&u&&a(l,"style",f.style,g.style,i),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const s=r[t],c=f[s],u=g[s];u===c&&"value"!==s||a(l,s,c,u,i,e.children,n,o,J)}}1&u&&e.children!==t.children&&d(l,t.children)}else c||null!=p||N(l,t,f,g,n,o,i);((m=g.onVnodeUpdated)||h)&&Kt((()=>{m&&Bn(m,n,t,e),h&&Ye(t,e,n,"updated")}),o)},j=(e,t,n,o,r,i,s)=>{for(let a=0;a<t.length;a++){const c=e[a],l=t[a],u=c.el&&(c.type===un||!Sn(c,l)||70&c.shapeFlag)?h(c.el):n;y(c,l,u,null,o,r,i,s,!0)}},N=(e,t,n,o,i,s,c)=>{if(n!==o){if(n!==r.kT)for(const l in n)(0,r.Gg)(l)||l in o||a(e,l,n[l],null,c,t.children,i,s,J);for(const l in o){if((0,r.Gg)(l))continue;const u=o[l],p=n[l];u!==p&&"value"!==l&&a(e,l,p,u,c,t.children,i,s,J)}"value"in o&&a(e,"value",n.value,o.value)}},P=(e,t,n,o,r,s,a,c,u)=>{const p=t.el=e?e.el:l(""),d=t.anchor=e?e.anchor:l("");let{patchFlag:h,dynamicChildren:f,slotScopeIds:g}=t;g&&(c=c?c.concat(g):g),null==e?(i(p,n,o),i(d,n,o),O(t.children,n,d,r,s,a,c,u)):h>0&&64&h&&f&&e.dynamicChildren?(j(e.dynamicChildren,f,n,r,s,a,c),(null!=t.key||r&&t===r.subTree)&&Xt(e,t,!0)):H(e,t,n,d,r,s,a,c,u)},D=(e,t,n,o,r,i,s,a,c)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,o,s,c):M(t,n,o,r,i,s,c):L(e,t,c)},M=(e,t,n,o,r,i,s)=>{const a=e.component=qn(e,o,r);if(Ae(e)&&(a.ctx.renderer=ee),Xn(a),a.asyncDep){if(r&&r.registerDep(a,U),!e.el){const e=a.subTree=Rn(dn);b(null,e,t,n)}}else U(a,e,t,n,r,i,s)},L=(e,t,n)=>{const o=t.component=e.component;if(q(e,t,n)){if(o.asyncDep&&!o.asyncResolved)return void B(o,t,n);o.next=t,x(o.update),o.update()}else t.el=e.el,o.vnode=t},U=(e,t,n,i,s,a,c)=>{const l=()=>{if(e.isMounted){let t,{next:n,bu:o,u:i,parent:l,vnode:u}=e,p=n;0,Jt(e,!1),n?(n.el=u.el,B(e,n,c)):n=u,o&&(0,r.ir)(o),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Bn(t,l,n,u),Jt(e,!0);const d=F(e);0;const f=e.subTree;e.subTree=d,y(f,d,h(f.el),X(f),e,s,a),n.el=d.el,null===p&&z(e,d.el),i&&Kt(i,s),(t=n.props&&n.props.onVnodeUpdated)&&Kt((()=>Bn(t,l,n,u)),s)}else{let o;const{el:c,props:l}=t,{bm:u,m:p,parent:d}=e,h=Ee(t);if(Jt(e,!1),u&&(0,r.ir)(u),!h&&(o=l&&l.onVnodeBeforeMount)&&Bn(o,d,t),Jt(e,!0),c&&ne){const n=()=>{e.subTree=F(e),ne(c,e.subTree,e,s,null)};h?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const o=e.subTree=F(e);0,y(null,o,n,i,e,s,a),t.el=o.el}if(p&&Kt(p,s),!h&&(o=l&&l.onVnodeMounted)){const e=t;Kt((()=>Bn(o,d,e)),s)}(256&t.shapeFlag||d&&Ee(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Kt(e.a,s),e.isMounted=!0,t=n=i=null}},u=e.effect=new o.qq(l,(()=>w(p)),e.scope),p=e.update=()=>u.run();p.id=e.uid,Jt(e,!0),p()},B=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,At(e,t.props,r,n),Wt(e,t.children,n),(0,o.Jd)(),E(),(0,o.lk)()},H=(e,t,n,o,r,i,s,a,c=!1)=>{const l=e&&e.children,u=e?e.shapeFlag:0,p=t.children,{patchFlag:h,shapeFlag:f}=t;if(h>0){if(128&h)return void V(l,p,n,o,r,i,s,a,c);if(256&h)return void W(l,p,n,o,r,i,s,a,c)}8&f?(16&u&&J(l,r,i),p!==l&&d(n,p)):16&u?16&f?V(l,p,n,o,r,i,s,a,c):J(l,r,i,!0):(8&u&&d(n,""),16&f&&O(p,n,o,r,i,s,a,c))},W=(e,t,n,o,i,s,a,c,l)=>{e=e||r.Z6,t=t||r.Z6;const u=e.length,p=t.length,d=Math.min(u,p);let h;for(h=0;h<d;h++){const o=t[h]=l?Ln(t[h]):Mn(t[h]);y(e[h],o,n,null,i,s,a,c,l)}u>p?J(e,i,s,!0,!1,d):O(t,n,o,i,s,a,c,l,d)},V=(e,t,n,o,i,s,a,c,l)=>{let u=0;const p=t.length;let d=e.length-1,h=p-1;while(u<=d&&u<=h){const o=e[u],r=t[u]=l?Ln(t[u]):Mn(t[u]);if(!Sn(o,r))break;y(o,r,n,null,i,s,a,c,l),u++}while(u<=d&&u<=h){const o=e[d],r=t[h]=l?Ln(t[h]):Mn(t[h]);if(!Sn(o,r))break;y(o,r,n,null,i,s,a,c,l),d--,h--}if(u>d){if(u<=h){const e=h+1,r=e<p?t[e].el:o;while(u<=h)y(null,t[u]=l?Ln(t[u]):Mn(t[u]),n,r,i,s,a,c,l),u++}}else if(u>h)while(u<=d)$(e[u],i,s,!0),u++;else{const f=u,g=u,m=new Map;for(u=g;u<=h;u++){const e=t[u]=l?Ln(t[u]):Mn(t[u]);null!=e.key&&m.set(e.key,u)}let v,b=0;const _=h-g+1;let w=!1,T=0;const x=new Array(_);for(u=0;u<_;u++)x[u]=0;for(u=f;u<=d;u++){const o=e[u];if(b>=_){$(o,i,s,!0);continue}let r;if(null!=o.key)r=m.get(o.key);else for(v=g;v<=h;v++)if(0===x[v-g]&&Sn(o,t[v])){r=v;break}void 0===r?$(o,i,s,!0):(x[r-g]=u+1,r>=T?T=r:w=!0,y(o,t[r],n,null,i,s,a,c,l),b++)}const S=w?Qt(x):r.Z6;for(v=S.length-1,u=_-1;u>=0;u--){const e=g+u,r=t[e],d=e+1<p?t[e+1].el:o;0===x[u]?y(null,r,n,d,i,s,a,c,l):w&&(v<0||u!==S[v]?G(r,n,d,2):v--)}}},G=(e,t,n,o,r=null)=>{const{el:s,type:a,transition:c,children:l,shapeFlag:u}=e;if(6&u)return void G(e.component.subTree,t,n,o);if(128&u)return void e.suspense.move(t,n,o);if(64&u)return void a.move(e,t,n,ee);if(a===un){i(s,t,n);for(let e=0;e<l.length;e++)G(l[e],t,n,o);return void i(e.anchor,t,n)}if(a===hn)return void T(e,t,n);const p=2!==o&&1&u&&c;if(p)if(0===o)c.beforeEnter(s),i(s,t,n),Kt((()=>c.enter(s)),r);else{const{leave:e,delayLeave:o,afterLeave:r}=c,a=()=>i(s,t,n),l=()=>{e(s,(()=>{a(),r&&r()}))};o?o(s,a,l):l()}else i(s,t,n)},$=(e,t,n,o=!1,r=!1)=>{const{type:i,props:s,ref:a,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:p,dirs:d}=e;if(null!=a&&Gt(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const h=1&u&&d,f=!Ee(e);let g;if(f&&(g=s&&s.onVnodeBeforeUnmount)&&Bn(g,t,e),6&u)Z(e.component,n,o);else{if(128&u)return void e.suspense.unmount(n,o);h&&Ye(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,ee,o):l&&(i!==un||p>0&&64&p)?J(l,t,n,!1,!0):(i===un&&384&p||!r&&16&u)&&J(c,t,n),o&&K(e)}(f&&(g=s&&s.onVnodeUnmounted)||h)&&Kt((()=>{g&&Bn(g,t,e),h&&Ye(e,null,t,"unmounted")}),n)},K=e=>{const{type:t,el:n,anchor:o,transition:r}=e;if(t===un)return void Y(n,o);if(t===hn)return void S(e);const i=()=>{s(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:o}=r,s=()=>t(n,i);o?o(e.el,i,s):s()}else i()},Y=(e,t)=>{let n;while(e!==t)n=f(e),s(e),e=n;s(t)},Z=(e,t,n)=>{const{bum:o,scope:i,update:s,subTree:a,um:c}=e;o&&(0,r.ir)(o),i.stop(),s&&(s.active=!1,$(a,e,t,n)),c&&Kt(c,t),Kt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=(e,t,n,o=!1,r=!1,i=0)=>{for(let s=i;s<e.length;s++)$(e[s],t,n,o,r)},X=e=>6&e.shapeFlag?X(e.component.subTree):128&e.shapeFlag?e.suspense.next():f(e.anchor||e.el),Q=(e,t,n)=>{null==e?t._vnode&&$(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),E(),k(),t._vnode=e},ee={p:y,um:$,m:G,r:K,mt:M,mc:O,pc:H,pbc:j,n:X,o:e};let te,ne;return t&&([te,ne]=t(ee)),{render:Q,hydrate:te,createApp:zt(Q,te)}}function Jt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Xt(e,t,n=!1){const o=e.children,i=t.children;if((0,r.kJ)(o)&&(0,r.kJ)(i))for(let r=0;r<o.length;r++){const e=o[r];let t=i[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[r]=Ln(i[r]),t.el=e.el),n||Xt(e,t)),t.type===pn&&(t.el=e.el)}}function Qt(e){const t=e.slice(),n=[0];let o,r,i,s,a;const c=e.length;for(o=0;o<c;o++){const c=e[o];if(0!==c){if(r=n[n.length-1],e[r]<c){t[o]=r,n.push(o);continue}i=0,s=n.length-1;while(i<s)a=i+s>>1,e[n[a]]<c?i=a+1:s=a;c<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}i=n.length,s=n[i-1];while(i-- >0)n[i]=s,s=t[s];return n}const en=e=>e.__isTeleport,tn=e=>e&&(e.disabled||""===e.disabled),nn=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,on=(e,t)=>{const n=e&&e.to;if((0,r.HD)(n)){if(t){const e=t(n);return e}return null}return n},rn={__isTeleport:!0,process(e,t,n,o,r,i,s,a,c,l){const{mc:u,pc:p,pbc:d,o:{insert:h,querySelector:f,createText:g,createComment:m}}=l,y=tn(t.props);let{shapeFlag:v,children:b,dynamicChildren:_}=t;if(null==e){const e=t.el=g(""),l=t.anchor=g("");h(e,n,o),h(l,n,o);const p=t.target=on(t.props,f),d=t.targetAnchor=g("");p&&(h(d,p),s=s||nn(p));const m=(e,t)=>{16&v&&u(b,e,t,r,i,s,a,c)};y?m(n,l):p&&m(p,d)}else{t.el=e.el;const o=t.anchor=e.anchor,u=t.target=e.target,h=t.targetAnchor=e.targetAnchor,g=tn(e.props),m=g?n:u,v=g?o:h;if(s=s||nn(u),_?(d(e.dynamicChildren,_,m,r,i,s,a),Xt(e,t,!0)):c||p(e,t,m,v,r,i,s,a,!1),y)g||sn(t,n,o,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=on(t.props,f);e&&sn(t,e,null,l,0)}else g&&sn(t,u,h,l,1)}ln(t)},remove(e,t,n,o,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:c,anchor:l,targetAnchor:u,target:p,props:d}=e;if(p&&i(u),(s||!tn(d))&&(i(l),16&a))for(let h=0;h<c.length;h++){const e=c[h];r(e,t,n,!0,!!e.dynamicChildren)}},move:sn,hydrate:an};function sn(e,t,n,{o:{insert:o},m:r},i=2){0===i&&o(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:c,children:l,props:u}=e,p=2===i;if(p&&o(s,t,n),(!p||tn(u))&&16&c)for(let d=0;d<l.length;d++)r(l[d],t,n,2);p&&o(a,t,n)}function an(e,t,n,o,r,i,{o:{nextSibling:s,parentNode:a,querySelector:c}},l){const u=t.target=on(t.props,c);if(u){const c=u._lpa||u.firstChild;if(16&t.shapeFlag)if(tn(t.props))t.anchor=l(s(e),t,a(e),n,o,r,i),t.targetAnchor=c;else{t.anchor=s(e);let a=c;while(a)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){t.targetAnchor=a,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}l(c,t,u,n,o,r,i)}ln(t)}return t.anchor&&s(t.anchor)}const cn=rn;function ln(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;while(n!==e.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const un=Symbol(void 0),pn=Symbol(void 0),dn=Symbol(void 0),hn=Symbol(void 0),fn=[];let gn=null;function mn(e=!1){fn.push(gn=e?null:[])}function yn(){fn.pop(),gn=fn[fn.length-1]||null}let vn=1;function bn(e){vn+=e}function _n(e){return e.dynamicChildren=vn>0?gn||r.Z6:null,yn(),vn>0&&gn&&gn.push(e),e}function wn(e,t,n,o,r,i){return _n(An(e,t,n,o,r,i,!0))}function Tn(e,t,n,o,r){return _n(Rn(e,t,n,o,r,!0))}function xn(e){return!!e&&!0===e.__v_isVNode}function Sn(e,t){return e.type===t.type&&e.key===t.key}const En="__vInternal",kn=({key:e})=>null!=e?e:null,In=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,r.HD)(e)||(0,o.dq)(e)||(0,r.mf)(e)?{i:N,r:e,k:t,f:!!n}:e:null;function An(e,t=null,n=null,o=0,i=null,s=(e===un?0:1),a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&kn(t),ref:t&&In(t),scopeId:P,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:N};return c?(Un(l,n),128&s&&e.normalize(l)):n&&(l.shapeFlag|=(0,r.HD)(n)?8:16),vn>0&&!a&&gn&&(l.patchFlag>0||6&s)&&32!==l.patchFlag&&gn.push(l),l}const Rn=On;function On(e,t=null,n=null,i=0,s=null,a=!1){if(e&&e!==Qe||(e=dn),xn(e)){const o=jn(e,t,!0);return n&&Un(o,n),vn>0&&!a&&gn&&(6&o.shapeFlag?gn[gn.indexOf(e)]=o:gn.push(o)),o.patchFlag|=-2,o}if(so(e)&&(e=e.__vccOpts),t){t=Cn(t);let{class:e,style:n}=t;e&&!(0,r.HD)(e)&&(t.class=(0,r.C_)(e)),(0,r.Kn)(n)&&((0,o.X3)(n)&&!(0,r.kJ)(n)&&(n=(0,r.l7)({},n)),t.style=(0,r.j5)(n))}const c=(0,r.HD)(e)?1:G(e)?128:en(e)?64:(0,r.Kn)(e)?4:(0,r.mf)(e)?2:0;return An(e,t,n,i,s,c,a,!0)}function Cn(e){return e?(0,o.X3)(e)||En in e?(0,r.l7)({},e):e:null}function jn(e,t,n=!1){const{props:o,ref:i,patchFlag:s,children:a}=e,c=t?Fn(o||{},t):o,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&kn(c),ref:t&&t.ref?n&&i?(0,r.kJ)(i)?i.concat(In(t)):[i,In(t)]:In(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==un?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&jn(e.ssContent),ssFallback:e.ssFallback&&jn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx};return l}function Nn(e=" ",t=0){return Rn(pn,null,e,t)}function Pn(e,t){const n=Rn(hn,null,e);return n.staticCount=t,n}function Dn(e="",t=!1){return t?(mn(),Tn(dn,null,e)):Rn(dn,null,e)}function Mn(e){return null==e||"boolean"===typeof e?Rn(dn):(0,r.kJ)(e)?Rn(un,null,e.slice()):"object"===typeof e?Ln(e):Rn(pn,null,String(e))}function Ln(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:jn(e)}function Un(e,t){let n=0;const{shapeFlag:o}=e;if(null==t)t=null;else if((0,r.kJ)(t))n=16;else if("object"===typeof t){if(65&o){const n=t.default;return void(n&&(n._c&&(n._d=!1),Un(e,n()),n._c&&(n._d=!0)))}{n=32;const o=t._;o||En in t?3===o&&N&&(1===N.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=N}}else(0,r.mf)(t)?(t={default:t,_ctx:N},n=32):(t=String(t),64&o?(n=16,t=[Nn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Fn(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=(0,r.C_)([t.class,o.class]));else if("style"===e)t.style=(0,r.j5)([t.style,o.style]);else if((0,r.F7)(e)){const n=t[e],i=o[e];!i||n===i||(0,r.kJ)(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=o[e])}return t}function Bn(e,t,n,o=null){a(e,t,7,[n,o])}const Hn=qt();let Wn=0;function qn(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||Hn,a={uid:Wn++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new o.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ct(i,s),emitsOptions:C(i,s),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:i.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=O.bind(null,a),e.ce&&e.ce(a),a}let Vn=null;const zn=()=>Vn||N,Gn=e=>{Vn=e,e.scope.on()},$n=()=>{Vn&&Vn.scope.off(),Vn=null};function Kn(e){return 4&e.vnode.shapeFlag}let Yn,Zn,Jn=!1;function Xn(e,t=!1){Jn=t;const{props:n,children:o}=e.vnode,r=Kn(e);It(e,n,r,t),Ht(e,o);const i=r?Qn(e,t):void 0;return Jn=!1,i}function Qn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,o.Xl)(new Proxy(e.ctx,dt));const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?oo(e):null;Gn(e),(0,o.Jd)();const a=s(i,e,0,[e.props,n]);if((0,o.lk)(),$n(),(0,r.tI)(a)){if(a.then($n,$n),t)return a.then((n=>{eo(e,n,t)})).catch((t=>{c(t,e,0)}));e.asyncDep=a}else eo(e,a,t)}else to(e,t)}function eo(e,t,n){(0,r.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,r.Kn)(t)&&(e.setupState=(0,o.WL)(t)),to(e,n)}function to(e,t,n){const i=e.type;if(!e.render){if(!t&&Yn&&!i.render){const t=i.template||vt(e).template;if(t){0;const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:a}=i,c=(0,r.l7)((0,r.l7)({isCustomElement:n,delimiters:s},o),a);i.render=Yn(t,c)}}e.render=i.render||r.dG,Zn&&Zn(e)}Gn(e),(0,o.Jd)(),ft(e),(0,o.lk)(),$n()}function no(e){return new Proxy(e.attrs,{get(t,n){return(0,o.j)(e,"get","$attrs"),t[n]}})}function oo(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=no(e))},slots:e.slots,emit:e.emit,expose:t}}function ro(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,o.WL)((0,o.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in ut?ut[n](e):void 0},has(e,t){return t in e||t in ut}}))}function io(e,t=!0){return(0,r.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function so(e){return(0,r.mf)(e)&&"__vccOpts"in e}const ao=(e,t)=>(0,o.Fl)(e,t,Jn);function co(){return uo().slots}function lo(){return uo().attrs}function uo(){const e=zn();return e.setupContext||(e.setupContext=oo(e))}function po(e,t,n){const o=arguments.length;return 2===o?(0,r.Kn)(t)&&!(0,r.kJ)(t)?xn(t)?Rn(e,null,[t]):Rn(e,t):Rn(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):3===o&&xn(n)&&(n=[n]),Rn(e,t,n))}const ho=Symbol(""),fo=()=>{{const e=ie(ho);return e}};const go="3.2.45"},1243:function(e,t,n){"use strict";n.d(t,{D2:function(){return be},F8:function(){return _e},G2:function(){return he},W3:function(){return re},iM:function(){return ye},nr:function(){return de},ri:function(){return Ee},sj:function(){return N},uT:function(){return U}});n(6728);var o=n(5555),r=n(1703),i=n(8896);const s="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,c=a&&a.createElement("template"),l={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t?a.createElementNS(s,e):a.createElement(e,n?{is:n}:void 0);return"select"===e&&o&&null!=o.multiple&&r.setAttribute("multiple",o.multiple),r},createText:e=>a.createTextNode(e),createComment:e=>a.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>a.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,i){const s=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling)){while(1)if(t.insertBefore(r.cloneNode(!0),n),r===i||!(r=r.nextSibling))break}else{c.innerHTML=o?`<svg>${e}</svg>`:e;const r=c.content;if(o){const e=r.firstChild;while(e.firstChild)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function u(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function p(e,t,n){const r=e.style,i=(0,o.HD)(n);if(n&&!i){for(const e in n)h(r,e,n[e]);if(t&&!(0,o.HD)(t))for(const e in t)null==n[e]&&h(r,e,"")}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const d=/\s*!important$/;function h(e,t,n){if((0,o.kJ)(n))n.forEach((n=>h(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=m(e,t);d.test(n)?e.setProperty((0,o.rs)(r),n.replace(d,""),"important"):e[r]=n}}const f=["Webkit","Moz","ms"],g={};function m(e,t){const n=g[t];if(n)return n;let r=(0,o._A)(t);if("filter"!==r&&r in e)return g[t]=r;r=(0,o.kC)(r);for(let o=0;o<f.length;o++){const n=f[o]+r;if(n in e)return g[t]=n}return t}const y="http://www.w3.org/1999/xlink";function v(e,t,n,r,i){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(y,t.slice(6,t.length)):e.setAttributeNS(y,t,n);else{const r=(0,o.Pq)(t);null==n||r&&!(0,o.yA)(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function b(e,t,n,r,i,s,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,i,s),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const o=null==n?"":n;return e.value===o&&"OPTION"!==e.tagName||(e.value=o),void(null==n&&e.removeAttribute(t))}let c=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,o.yA)(n):null==n&&"string"===r?(n="",c=!0):"number"===r&&(n=0,c=!0)}try{e[t]=n}catch(l){0}c&&e.removeAttribute(t)}function _(e,t,n,o){e.addEventListener(t,n,o)}function w(e,t,n,o){e.removeEventListener(t,n,o)}function T(e,t,n,o,r=null){const i=e._vei||(e._vei={}),s=i[t];if(o&&s)s.value=o;else{const[n,a]=S(t);if(o){const s=i[t]=A(o,r);_(e,n,s,a)}else s&&(w(e,n,s,a),i[t]=void 0)}}const x=/(?:Once|Passive|Capture)$/;function S(e){let t;if(x.test(e)){let n;t={};while(n=e.match(x))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,o.rs)(e.slice(2));return[n,t]}let E=0;const k=Promise.resolve(),I=()=>E||(k.then((()=>E=0)),E=Date.now());function A(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,r.$d)(R(e,n.value),t,5,[e])};return n.value=e,n.attached=I(),n}function R(e,t){if((0,o.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const O=/^on[a-z]/,C=(e,t,n,r,i=!1,s,a,c,l)=>{"class"===t?u(e,r,i):"style"===t?p(e,n,r):(0,o.F7)(t)?(0,o.tR)(t)||T(e,t,n,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):j(e,t,r,i))?b(e,t,r,s,a,c,l):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),v(e,t,r,i))};function j(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&O.test(t)&&(0,o.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!O.test(t)||!(0,o.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;function N(e){const t=(0,r.FN)();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>D(e,n)))},o=()=>{const o=e(t.proxy);P(t.subTree,o),n(o)};(0,r.Rh)(o),(0,r.bv)((()=>{const e=new MutationObserver(o);e.observe(t.subTree.el.parentNode,{childList:!0}),(0,r.Ah)((()=>e.disconnect()))}))}function P(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{P(n.activeBranch,t)}))}while(e.component)e=e.component.subTree;if(1&e.shapeFlag&&e.el)D(e.el,t);else if(e.type===r.HY)e.children.forEach((e=>P(e,t)));else if(e.type===r.qG){let{el:n,anchor:o}=e;while(n){if(D(n,t),n===o)break;n=n.nextSibling}}}function D(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty(`--${e}`,t[e])}}const M="transition",L="animation",U=(e,{slots:t})=>(0,r.h)(r.P$,q(e),t);U.displayName="Transition";const F={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},B=U.props=(0,o.l7)({},r.P$.props,F),H=(e,t=[])=>{(0,o.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},W=e=>!!e&&((0,o.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function q(e){const t={};for(const o in e)o in F||(t[o]=e[o]);if(!1===e.css)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:p=c,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,g=V(i),m=g&&g[0],y=g&&g[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:T,onBeforeAppear:x=v,onAppear:S=b,onAppearCancelled:E=_}=t,k=(e,t,n)=>{$(e,t?p:c),$(e,t?u:a),n&&n()},I=(e,t)=>{e._isLeaving=!1,$(e,d),$(e,f),$(e,h),t&&t()},A=e=>(t,n)=>{const o=e?S:b,i=()=>k(t,e,n);H(o,[t,i]),K((()=>{$(t,e?l:s),G(t,e?p:c),W(o)||Z(t,r,m,i)}))};return(0,o.l7)(t,{onBeforeEnter(e){H(v,[e]),G(e,s),G(e,a)},onBeforeAppear(e){H(x,[e]),G(e,l),G(e,u)},onEnter:A(!1),onAppear:A(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>I(e,t);G(e,d),ee(),G(e,h),K((()=>{e._isLeaving&&($(e,d),G(e,f),W(w)||Z(e,r,y,n))})),H(w,[e,n])},onEnterCancelled(e){k(e,!1),H(_,[e])},onAppearCancelled(e){k(e,!0),H(E,[e])},onLeaveCancelled(e){I(e),H(T,[e])}})}function V(e){if(null==e)return null;if((0,o.Kn)(e))return[z(e.enter),z(e.leave)];{const t=z(e);return[t,t]}}function z(e){const t=(0,o.He)(e);return t}function G(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function $(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function K(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Y=0;function Z(e,t,n,o){const r=e._endId=++Y,i=()=>{r===e._endId&&o()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:c}=J(e,t);if(!s)return o();const l=s+"end";let u=0;const p=()=>{e.removeEventListener(l,d),i()},d=t=>{t.target===e&&++u>=c&&p()};setTimeout((()=>{u<c&&p()}),a+1),e.addEventListener(l,d)}function J(e,t){const n=window.getComputedStyle(e),o=e=>(n[e]||"").split(", "),r=o(`${M}Delay`),i=o(`${M}Duration`),s=X(r,i),a=o(`${L}Delay`),c=o(`${L}Duration`),l=X(a,c);let u=null,p=0,d=0;t===M?s>0&&(u=M,p=s,d=i.length):t===L?l>0&&(u=L,p=l,d=c.length):(p=Math.max(s,l),u=p>0?s>l?M:L:null,d=u?u===M?i.length:c.length:0);const h=u===M&&/\b(transform|all)(,|$)/.test(o(`${M}Property`).toString());return{type:u,timeout:p,propCount:d,hasTransform:h}}function X(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>Q(t)+Q(e[n]))))}function Q(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ee(){return document.body.offsetHeight}const te=new WeakMap,ne=new WeakMap,oe={name:"TransitionGroup",props:(0,o.l7)({},B,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,r.FN)(),o=(0,r.Y8)();let s,a;return(0,r.ic)((()=>{if(!s.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!ce(s[0].el,n.vnode.el,t))return;s.forEach(ie),s.forEach(se);const o=s.filter(ae);ee(),o.forEach((e=>{const n=e.el,o=n.style;G(n,t),o.transform=o.webkitTransform=o.transitionDuration="";const r=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",r),n._moveCb=null,$(n,t))};n.addEventListener("transitionend",r)}))})),()=>{const c=(0,i.IU)(e),l=q(c);let u=c.tag||r.HY;s=a,a=t.default?(0,r.Q6)(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&(0,r.nK)(t,(0,r.U2)(t,l,o,n))}if(s)for(let e=0;e<s.length;e++){const t=s[e];(0,r.nK)(t,(0,r.U2)(t,l,o,n)),te.set(t,t.el.getBoundingClientRect())}return(0,r.Wm)(u,null,a)}}},re=oe;function ie(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function se(e){ne.set(e,e.el.getBoundingClientRect())}function ae(e){const t=te.get(e),n=ne.get(e),o=t.left-n.left,r=t.top-n.top;if(o||r){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${o}px,${r}px)`,t.transitionDuration="0s",e}}function ce(e,t,n){const o=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&o.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&o.classList.add(e))),o.style.display="none";const r=1===t.nodeType?t:t.parentNode;r.appendChild(o);const{hasTransform:i}=J(o);return r.removeChild(o),i}const le=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,o.kJ)(t)?e=>(0,o.ir)(t,e):t};function ue(e){e.target.composing=!0}function pe(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const de={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=le(i);const s=r||i.props&&"number"===i.props.type;_(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),s&&(r=(0,o.He)(r)),e._assign(r)})),n&&_(e,"change",(()=>{e.value=e.value.trim()})),t||(_(e,"compositionstart",ue),_(e,"compositionend",pe),_(e,"change",pe))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e._assign=le(s),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===t)return;if((i||"number"===e.type)&&(0,o.He)(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}};const he={created(e,{value:t},n){e.checked=(0,o.WV)(t,n.props.value),e._assign=le(n),_(e,"change",(()=>{e._assign(fe(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=le(r),t!==n&&(e.checked=(0,o.WV)(t,r.props.value))}};function fe(e){return"_value"in e?e._value:e.value}const ge=["ctrl","shift","alt","meta"],me={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ge.some((n=>e[`${n}Key`]&&!t.includes(n)))},ye=(e,t)=>(n,...o)=>{for(let e=0;e<t.length;e++){const o=me[t[e]];if(o&&o(n,t))return}return e(n,...o)},ve={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},be=(e,t)=>n=>{if(!("key"in n))return;const r=(0,o.rs)(n.key);return t.some((e=>e===r||ve[e]===r))?e(n):void 0},_e={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):we(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!==!n&&(o?t?(o.beforeEnter(e),we(e,!0),o.enter(e)):o.leave(e,(()=>{we(e,!1)})):we(e,t))},beforeUnmount(e,{value:t}){we(e,t)}};function we(e,t){e.style.display=t?e._vod:"none"}const Te=(0,o.l7)({patchProp:C},l);let xe;function Se(){return xe||(xe=(0,r.Us)(Te))}const Ee=(...e)=>{const t=Se().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=ke(e);if(!r)return;const i=t._component;(0,o.mf)(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};function ke(e){if((0,o.HD)(e)){const t=document.querySelector(e);return t}return e}},5555:function(e,t,n){"use strict";n.d(t,{C_:function(){return p},DM:function(){return P},E9:function(){return ie},F7:function(){return k},Gg:function(){return G},HD:function(){return L},He:function(){return oe},J_:function(){return D},Kn:function(){return F},NO:function(){return S},Nj:function(){return ne},Od:function(){return R},PO:function(){return V},Pq:function(){return f},RI:function(){return C},S0:function(){return z},W7:function(){return q},WV:function(){return y},Z6:function(){return T},_A:function(){return Y},_N:function(){return N},aU:function(){return ee},dG:function(){return x},e1:function(){return i},fY:function(){return o},hR:function(){return Q},hq:function(){return v},ir:function(){return te},j5:function(){return s},kC:function(){return X},kJ:function(){return j},kT:function(){return w},l7:function(){return A},mf:function(){return M},rs:function(){return J},tI:function(){return B},tR:function(){return I},vs:function(){return d},yA:function(){return g},yk:function(){return U},zw:function(){return b}});n(6728);function o(e,t){const n=Object.create(null),o=e.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const r="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",i=o(r);function s(e){if(j(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=L(o)?u(o):s(o);if(r)for(const e in r)t[e]=r[e]}return t}return L(e)||F(e)?e:void 0}const a=/;(?![^(]*\))/g,c=/:([^]+)/,l=/\/\*.*?\*\//gs;function u(e){const t={};return e.replace(l,"").split(a).forEach((e=>{if(e){const n=e.split(c);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function p(e){let t="";if(L(e))t=e;else if(j(e))for(let n=0;n<e.length;n++){const o=p(e[n]);o&&(t+=o+" ")}else if(F(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function d(e){if(!e)return null;let{class:t,style:n}=e;return t&&!L(t)&&(e.class=p(t)),n&&(e.style=s(n)),e}const h="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",f=o(h);function g(e){return!!e||""===e}function m(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=y(e[o],t[o]);return n}function y(e,t){if(e===t)return!0;let n=D(e),o=D(t);if(n||o)return!(!n||!o)&&e.getTime()===t.getTime();if(n=U(e),o=U(t),n||o)return e===t;if(n=j(e),o=j(t),n||o)return!(!n||!o)&&m(e,t);if(n=F(e),o=F(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const n in e){const o=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(o&&!r||!o&&r||!y(e[n],t[n]))return!1}}return String(e)===String(t)}function v(e,t){return e.findIndex((e=>y(e,t)))}const b=e=>L(e)?e:null==e?"":j(e)||F(e)&&(e.toString===H||!M(e.toString))?JSON.stringify(e,_,2):String(e),_=(e,t)=>t&&t.__v_isRef?_(e,t.value):N(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:P(t)?{[`Set(${t.size})`]:[...t.values()]}:!F(t)||j(t)||V(t)?t:String(t),w={},T=[],x=()=>{},S=()=>!1,E=/^on[^a-z]/,k=e=>E.test(e),I=e=>e.startsWith("onUpdate:"),A=Object.assign,R=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},O=Object.prototype.hasOwnProperty,C=(e,t)=>O.call(e,t),j=Array.isArray,N=e=>"[object Map]"===W(e),P=e=>"[object Set]"===W(e),D=e=>"[object Date]"===W(e),M=e=>"function"===typeof e,L=e=>"string"===typeof e,U=e=>"symbol"===typeof e,F=e=>null!==e&&"object"===typeof e,B=e=>F(e)&&M(e.then)&&M(e.catch),H=Object.prototype.toString,W=e=>H.call(e),q=e=>W(e).slice(8,-1),V=e=>"[object Object]"===W(e),z=e=>L(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,G=o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$=e=>{const t=Object.create(null);return n=>{const o=t[n];return o||(t[n]=e(n))}},K=/-(\w)/g,Y=$((e=>e.replace(K,((e,t)=>t?t.toUpperCase():"")))),Z=/\B([A-Z])/g,J=$((e=>e.replace(Z,"-$1").toLowerCase())),X=$((e=>e.charAt(0).toUpperCase()+e.slice(1))),Q=$((e=>e?`on${X(e)}`:"")),ee=(e,t)=>!Object.is(e,t),te=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ne=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},oe=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let re;const ie=()=>re||(re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},3796:function(e){
/*!
 * assertion-error
 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
 * MIT Licensed
 */
/*!
 * Return a function that will copy properties from
 * one object to another excluding any originally
 * listed. Returned function will create a new `{}`.
 *
 * @param {String} excluded properties ...
 * @return {Function}
 */
function t(){var e=[].slice.call(arguments);function t(t,n){Object.keys(n).forEach((function(o){~e.indexOf(o)||(t[o]=n[o])}))}return function(){for(var e=[].slice.call(arguments),n=0,o={};n<e.length;n++)t(o,e[n]);return o}}function n(e,o,r){var i=t("name","message","stack","constructor","toJSON"),s=i(o||{});for(var a in this.message=e||"Unspecified AssertionError",this.showDiff=!1,s)this[a]=s[a];if(r=r||n,Error.captureStackTrace)Error.captureStackTrace(this,r);else try{throw new Error}catch(c){this.stack=c.stack}}
/*!
 * Inherit from Error.prototype
 */
/*!
 * Primary Exports
 */
e.exports=n,n.prototype=Object.create(Error.prototype),
/*!
 * Statically set name
 */
n.prototype.name="AssertionError",
/*!
 * Ensure correct constructor
 */
n.prototype.constructor=n,n.prototype.toJSON=function(e){var n=t("constructor","toJSON","stack"),o=n({name:this.name},this);return!1!==e&&this.stack&&(o.stack=this.stack),o}},651:function(e,t,n){e.exports=n(3435)},6310:function(e,t,n){"use strict";n(5640);var o=n(1432),r=n(151),i=n(8196),s=n(8290),a=n(5277),c=n(9123),l=n(3139),u=n(5034),p=n(164),d=n(9359);e.exports=function(e){return new Promise((function(t,n){var h,f=e.data,g=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}o.isFormData(f)&&delete g["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+_)}var w=a(e.baseURL,e.url);function T(){if(v){var o="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,i=m&&"text"!==m&&"json"!==m?v.response:v.responseText,s={data:i,status:v.status,statusText:v.statusText,headers:o,config:e,request:v};r((function(e){t(e),y()}),(function(e){n(e),y()}),s),v=null}}if(v.open(e.method.toUpperCase(),s(w,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=T:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(T)},v.onabort=function(){v&&(n(u("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){n(u("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",o=e.transitional||p;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,o.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},o.isStandardBrowserEnv()){var x=(e.withCredentials||l(w))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;x&&(g[e.xsrfHeaderName]=x)}"setRequestHeader"in v&&o.forEach(g,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete g[t]:v.setRequestHeader(t,e)})),o.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),m&&"json"!==m&&(v.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){v&&(n(!e||e&&e.type?new d("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),f||(f=null),v.send(f)}))}},3435:function(e,t,n){"use strict";var o=n(1432),r=n(2264),i=n(1581),s=n(8812),a=n(9082);function c(e){var t=new i(e),n=r(i.prototype.request,t);return o.extend(n,i.prototype,t),o.extend(n,t),n.create=function(t){return c(s(e,t))},n}var l=c(a);l.Axios=i,l.Cancel=n(9359),l.CancelToken=n(4586),l.isCancel=n(1087),l.VERSION=n(3400).version,l.all=function(e){return Promise.all(e)},l.spread=n(2586),l.isAxiosError=n(601),e.exports=l,e.exports["default"]=l},9359:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4586:function(e,t,n){"use strict";n(6728);var o=n(9359);function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,o=n._listeners.length;for(t=0;t<o;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,o=new Promise((function(e){n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e){n.reason||(n.reason=new o(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e,t=new r((function(t){e=t}));return{token:t,cancel:e}},e.exports=r},1087:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},1581:function(e,t,n){"use strict";n(1951),n(6728);var o=n(1432),r=n(8290),i=n(9612),s=n(9681),a=n(8812),c=n(1002),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=a(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var o=[],r=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));var i,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!r){var p=[s,void 0];Array.prototype.unshift.apply(p,o),p=p.concat(u),i=Promise.resolve(t);while(p.length)i=i.then(p.shift(),p.shift());return i}var d=t;while(o.length){var h=o.shift(),f=o.shift();try{d=h(d)}catch(g){f(g);break}}try{i=s(d)}catch(g){return Promise.reject(g)}while(u.length)i=i.then(u.shift(),u.shift());return i},u.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),o.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,o){return this.request(a(o||{},{method:e,url:t,data:n}))}})),e.exports=u},9612:function(e,t,n){"use strict";n(6728);var o=n(1432);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},5277:function(e,t,n){"use strict";var o=n(1795),r=n(7406);e.exports=function(e,t){return e&&!o(t)?r(e,t):t}},5034:function(e,t,n){"use strict";var o=n(7970);e.exports=function(e,t,n,r,i){var s=new Error(e);return o(s,t,n,r,i)}},9681:function(e,t,n){"use strict";var o=n(1432),r=n(2626),i=n(1087),s=n(9082),a=n(9359);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){c(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||s.adapter;return t(e).then((function(t){return c(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7970:function(e){"use strict";e.exports=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},8812:function(e,t,n){"use strict";var o=n(1432);e.exports=function(e,t){t=t||{};var n={};function r(e,t){return o.isPlainObject(e)&&o.isPlainObject(t)?o.merge(e,t):o.isPlainObject(t)?o.merge({},t):o.isArray(t)?t.slice():t}function i(n){return o.isUndefined(t[n])?o.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!o.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return o.isUndefined(t[n])?o.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function c(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return o.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||i,r=t(e);o.isUndefined(r)&&t!==c||(n[e]=r)})),n}},151:function(e,t,n){"use strict";var o=n(5034);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2626:function(e,t,n){"use strict";var o=n(1432),r=n(9082);e.exports=function(e,t,n){var i=this||r;return o.forEach(n,(function(n){e=n.call(i,e,t)})),e}},9082:function(e,t,n){"use strict";var o=n(1432),r=n(8900),i=n(7970),s=n(164),a={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function l(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(6310)),e}function u(e,t,n){if(o.isString(e))try{return(t||JSON.parse)(e),o.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}var p={transitional:s,adapter:l(),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),u(e)):e}],transformResponse:[function(e){var t=this.transitional||p.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw i(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){p.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){p.headers[e]=o.merge(a)})),e.exports=p},164:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},3400:function(e){e.exports={version:"0.26.1"}},2264:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},8290:function(e,t,n){"use strict";n(6728);var o=n(1432);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(o.isURLSearchParams(t))i=t.toString();else{var s=[];o.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,(function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},7406:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},8196:function(e,t,n){"use strict";n(6728);var o=n(1432);e.exports=o.isStandardBrowserEnv()?function(){return{write:function(e,t,n,r,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.isString(r)&&a.push("path="+r),o.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},1795:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},601:function(e,t,n){"use strict";var o=n(1432);e.exports=function(e){return o.isObject(e)&&!0===e.isAxiosError}},3139:function(e,t,n){"use strict";var o=n(1432);e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=o.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},8900:function(e,t,n){"use strict";var o=n(1432);e.exports=function(e,t){o.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))}},9123:function(e,t,n){"use strict";var o=n(1432),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(o.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=o.trim(e.substr(0,i)).toLowerCase(),n=o.trim(e.substr(i+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},2586:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1002:function(e,t,n){"use strict";var o=n(3400).version,r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};function s(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");var o=Object.keys(e),r=o.length;while(r-- >0){var i=o[r],s=t[i];if(s){var a=e[i],c=void 0===a||s(a,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}}r.transitional=function(e,t,n){function r(e,t){return"[Axios v"+o+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,s){if(!1===e)throw new Error(r(o," has been removed"+(t?" in "+t:"")));return t&&!i[o]&&(i[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}},e.exports={assertOptions:s,validators:r}},1432:function(e,t,n){"use strict";var o=n(2264),r=Object.prototype.toString;function i(e){return Array.isArray(e)}function s(e){return"undefined"===typeof e}function a(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function c(e){return"[object ArrayBuffer]"===r.call(e)}function l(e){return"[object FormData]"===r.call(e)}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&c(e.buffer),t}function p(e){return"string"===typeof e}function d(e){return"number"===typeof e}function h(e){return null!==e&&"object"===typeof e}function f(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function g(e){return"[object Date]"===r.call(e)}function m(e){return"[object File]"===r.call(e)}function y(e){return"[object Blob]"===r.call(e)}function v(e){return"[object Function]"===r.call(e)}function b(e){return h(e)&&v(e.pipe)}function _(e){return"[object URLSearchParams]"===r.call(e)}function w(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function x(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function S(){var e={};function t(t,n){f(e[n])&&f(t)?e[n]=S(e[n],t):f(t)?e[n]=S({},t):i(t)?e[n]=t.slice():e[n]=t}for(var n=0,o=arguments.length;n<o;n++)x(arguments[n],t);return e}function E(e,t,n){return x(t,(function(t,r){e[r]=n&&"function"===typeof t?o(t,n):t})),e}function k(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:i,isArrayBuffer:c,isBuffer:a,isFormData:l,isArrayBufferView:u,isString:p,isNumber:d,isObject:h,isPlainObject:f,isUndefined:s,isDate:g,isFile:m,isBlob:y,isFunction:v,isStream:b,isURLSearchParams:_,isStandardBrowserEnv:T,forEach:x,merge:S,extend:E,trim:w,stripBOM:k}},7651:function(e,t,n){e.exports=n(8997)},8997:function(e,t,n){n(6728);
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=[];
/*!
 * Chai version
 */t.version="4.3.3",
/*!
 * Assertion Error
 */
t.AssertionError=n(3796);
/*!
 * Utils for plugins (not exported)
 */
var r=n(7696);t.use=function(e){return~o.indexOf(e)||(e(t,r),o.push(e)),t},
/*!
 * Utility Functions
 */
t.util=r;
/*!
 * Configuration
 */
var i=n(8924);t.config=i;
/*!
 * Primary `Assertion` prototype
 */
var s=n(3121);t.use(s);
/*!
 * Core Assertions
 */
var a=n(716);t.use(a);
/*!
 * Expect interface
 */
var c=n(5317);t.use(c);
/*!
 * Should interface
 */
var l=n(4720);t.use(l);
/*!
 * Assert interface
 */
var u=n(325);t.use(u)},3121:function(e,t,n){
/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(8924);e.exports=function(e,t){
/*!
   * Module dependencies.
   */
var n=e.AssertionError,r=t.flag;
/*!
   * Module export.
   */
/*!
   * Assertion Constructor
   *
   * Creates object for chaining.
   *
   * `Assertion` objects contain metadata in the form of flags. Three flags can
   * be assigned during instantiation by passing arguments to this constructor:
   *
   * - `object`: This flag contains the target of the assertion. For example, in
   *   the assertion `expect(numKittens).to.equal(7);`, the `object` flag will
   *   contain `numKittens` so that the `equal` assertion can reference it when
   *   needed.
   *
   * - `message`: This flag contains an optional custom error message to be
   *   prepended to the error message that's generated by the assertion when it
   *   fails.
   *
   * - `ssfi`: This flag stands for "start stack function indicator". It
   *   contains a function reference that serves as the starting point for
   *   removing frames from the stack trace of the error that's created by the
   *   assertion when it fails. The goal is to provide a cleaner stack trace to
   *   end users by removing Chai's internal functions. Note that it only works
   *   in environments that support `Error.captureStackTrace`, and only when
   *   `Chai.config.includeStack` hasn't been set to `false`.
   *
   * - `lockSsfi`: This flag controls whether or not the given `ssfi` flag
   *   should retain its current value, even as assertions are chained off of
   *   this object. This is usually set to `true` when creating a new assertion
   *   from within another assertion. It's also temporarily set to `true` before
   *   an overwritten assertion gets called by the overwriting assertion.
   *
   * @param {Mixed} obj target of the assertion
   * @param {String} msg (optional) custom error message
   * @param {Function} ssfi (optional) starting point for removing stack frames
   * @param {Boolean} lockSsfi (optional) whether or not the ssfi flag is locked
   * @api private
   */
function i(e,n,o,s){return r(this,"ssfi",o||i),r(this,"lockSsfi",s),r(this,"object",e),r(this,"message",n),t.proxify(this)}e.Assertion=i,Object.defineProperty(i,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),o.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),o.includeStack=e}}),Object.defineProperty(i,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),o.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),o.showDiff=e}}),i.addProperty=function(e,n){t.addProperty(this.prototype,e,n)},i.addMethod=function(e,n){t.addMethod(this.prototype,e,n)},i.addChainableMethod=function(e,n,o){t.addChainableMethod(this.prototype,e,n,o)},i.overwriteProperty=function(e,n){t.overwriteProperty(this.prototype,e,n)},i.overwriteMethod=function(e,n){t.overwriteMethod(this.prototype,e,n)},i.overwriteChainableMethod=function(e,n,o){t.overwriteChainableMethod(this.prototype,e,n,o)},i.prototype.assert=function(e,i,s,a,c,l){var u=t.test(this,arguments);if(!1!==l&&(l=!0),void 0===a&&void 0===c&&(l=!1),!0!==o.showDiff&&(l=!1),!u){i=t.getMessage(this,arguments);var p=t.getActual(this,arguments),d={actual:p,expected:a,showDiff:l},h=t.getOperator(this,arguments);throw h&&(d.operator=h),new n(i,d,o.includeStack?this.assert:r(this,"ssfi"))}},
/*!
   * ### ._obj
   *
   * Quick reference to stored `actual` value for plugin developers.
   *
   * @api private
   */
Object.defineProperty(i.prototype,"_obj",{get:function(){return r(this,"object")},set:function(e){r(this,"object",e)}})}},8924:function(e){e.exports={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"]}},716:function(e,t,n){n(6728),
/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){var n=e.Assertion,o=e.AssertionError,r=t.flag;function i(e,n){n&&r(this,"message",n),e=e.toLowerCase();var o=r(this,"object"),i=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";this.assert(e===t.type(o).toLowerCase(),"expected #{this} to be "+i+e,"expected #{this} not to be "+i+e)}function s(e,n){return t.isNaN(e)&&t.isNaN(n)||e===n}function a(){r(this,"contains",!0)}function c(e,i){i&&r(this,"message",i);var a=r(this,"object"),c=t.type(a).toLowerCase(),l=r(this,"message"),u=r(this,"negate"),p=r(this,"ssfi"),d=r(this,"deep"),h=d?"deep ":"";l=l?l+": ":"";var f=!1;switch(c){case"string":f=-1!==a.indexOf(e);break;case"weakset":if(d)throw new o(l+"unable to use .deep.include with WeakSet",void 0,p);f=a.has(e);break;case"map":var g=d?t.eql:s;a.forEach((function(t){f=f||g(t,e)}));break;case"set":d?a.forEach((function(n){f=f||t.eql(n,e)})):f=a.has(e);break;case"array":f=d?a.some((function(n){return t.eql(n,e)})):-1!==a.indexOf(e);break;default:if(e!==Object(e))throw new o(l+"the given combination of arguments ("+c+" and "+t.type(e).toLowerCase()+") is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a "+t.type(e).toLowerCase(),void 0,p);var m=Object.keys(e),y=null,v=0;if(m.forEach((function(i){var s=new n(a);if(t.transferFlags(this,s,!0),r(s,"lockSsfi",!0),u&&1!==m.length)try{s.property(i,e[i])}catch(c){if(!t.checkError.compatibleConstructor(c,o))throw c;null===y&&(y=c),v++}else s.property(i,e[i])}),this),u&&m.length>1&&v===m.length)throw y;return}this.assert(f,"expected #{this} to "+h+"include "+t.inspect(e),"expected #{this} to not "+h+"include "+t.inspect(e))}function l(){var e=r(this,"object");this.assert(null!==e&&void 0!==e,"expected #{this} to exist","expected #{this} to not exist")}function u(){var e=r(this,"object"),n=t.type(e);this.assert("Arguments"===n,"expected #{this} to be arguments but got "+n,"expected #{this} to not be arguments")}function p(e,t){t&&r(this,"message",t);var n=r(this,"object");if(r(this,"deep")){var o=r(this,"lockSsfi");r(this,"lockSsfi",!0),this.eql(e),r(this,"lockSsfi",o)}else this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function d(e,n){n&&r(this,"message",n),this.assert(t.eql(e,r(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function h(e,i){i&&r(this,"message",i);var s,a=r(this,"object"),c=r(this,"doLength"),l=r(this,"message"),u=l?l+": ":"",p=r(this,"ssfi"),d=t.type(a).toLowerCase(),h=t.type(e).toLowerCase(),f=!0;if(c&&"map"!==d&&"set"!==d&&new n(a,l,p,!0).to.have.property("length"),c||"date"!==d||"date"===h)if("number"===h||!c&&"number"!==d)if(c||"date"===d||"number"===d)f=!1;else{var g="string"===d?"'"+a+"'":a;s=u+"expected "+g+" to be a number or a date"}else s=u+"the argument to above must be a number";else s=u+"the argument to above must be a date";if(f)throw new o(s,void 0,p);if(c){var m,y="length";"map"===d||"set"===d?(y="size",m=a.size):m=a.length,this.assert(m>e,"expected #{this} to have a "+y+" above #{exp} but got #{act}","expected #{this} to not have a "+y+" above #{exp}",e,m)}else this.assert(a>e,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",e)}function f(e,i){i&&r(this,"message",i);var s,a=r(this,"object"),c=r(this,"doLength"),l=r(this,"message"),u=l?l+": ":"",p=r(this,"ssfi"),d=t.type(a).toLowerCase(),h=t.type(e).toLowerCase(),f=!0;if(c&&"map"!==d&&"set"!==d&&new n(a,l,p,!0).to.have.property("length"),c||"date"!==d||"date"===h)if("number"===h||!c&&"number"!==d)if(c||"date"===d||"number"===d)f=!1;else{var g="string"===d?"'"+a+"'":a;s=u+"expected "+g+" to be a number or a date"}else s=u+"the argument to least must be a number";else s=u+"the argument to least must be a date";if(f)throw new o(s,void 0,p);if(c){var m,y="length";"map"===d||"set"===d?(y="size",m=a.size):m=a.length,this.assert(m>=e,"expected #{this} to have a "+y+" at least #{exp} but got #{act}","expected #{this} to have a "+y+" below #{exp}",e,m)}else this.assert(a>=e,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",e)}function g(e,i){i&&r(this,"message",i);var s,a=r(this,"object"),c=r(this,"doLength"),l=r(this,"message"),u=l?l+": ":"",p=r(this,"ssfi"),d=t.type(a).toLowerCase(),h=t.type(e).toLowerCase(),f=!0;if(c&&"map"!==d&&"set"!==d&&new n(a,l,p,!0).to.have.property("length"),c||"date"!==d||"date"===h)if("number"===h||!c&&"number"!==d)if(c||"date"===d||"number"===d)f=!1;else{var g="string"===d?"'"+a+"'":a;s=u+"expected "+g+" to be a number or a date"}else s=u+"the argument to below must be a number";else s=u+"the argument to below must be a date";if(f)throw new o(s,void 0,p);if(c){var m,y="length";"map"===d||"set"===d?(y="size",m=a.size):m=a.length,this.assert(m<e,"expected #{this} to have a "+y+" below #{exp} but got #{act}","expected #{this} to not have a "+y+" below #{exp}",e,m)}else this.assert(a<e,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",e)}function m(e,i){i&&r(this,"message",i);var s,a=r(this,"object"),c=r(this,"doLength"),l=r(this,"message"),u=l?l+": ":"",p=r(this,"ssfi"),d=t.type(a).toLowerCase(),h=t.type(e).toLowerCase(),f=!0;if(c&&"map"!==d&&"set"!==d&&new n(a,l,p,!0).to.have.property("length"),c||"date"!==d||"date"===h)if("number"===h||!c&&"number"!==d)if(c||"date"===d||"number"===d)f=!1;else{var g="string"===d?"'"+a+"'":a;s=u+"expected "+g+" to be a number or a date"}else s=u+"the argument to most must be a number";else s=u+"the argument to most must be a date";if(f)throw new o(s,void 0,p);if(c){var m,y="length";"map"===d||"set"===d?(y="size",m=a.size):m=a.length,this.assert(m<=e,"expected #{this} to have a "+y+" at most #{exp} but got #{act}","expected #{this} to have a "+y+" above #{exp}",e,m)}else this.assert(a<=e,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",e)}function y(e,n){n&&r(this,"message",n);var i=r(this,"object"),s=r(this,"ssfi"),a=r(this,"message");try{var c=i instanceof e}catch(u){if(u instanceof TypeError)throw a=a?a+": ":"",new o(a+"The instanceof assertion needs a constructor but "+t.type(e)+" was given.",void 0,s);throw u}var l=t.getName(e);null===l&&(l="an unnamed constructor"),this.assert(c,"expected #{this} to be an instance of "+l,"expected #{this} to not be an instance of "+l)}function v(e,n,i){i&&r(this,"message",i);var s=r(this,"nested"),a=r(this,"own"),c=r(this,"message"),l=r(this,"object"),u=r(this,"ssfi"),p=typeof e;if(c=c?c+": ":"",s){if("string"!==p)throw new o(c+"the argument to property must be a string when using nested syntax",void 0,u)}else if("string"!==p&&"number"!==p&&"symbol"!==p)throw new o(c+"the argument to property must be a string, number, or symbol",void 0,u);if(s&&a)throw new o(c+'The "nested" and "own" flags cannot be combined.',void 0,u);if(null===l||void 0===l)throw new o(c+"Target cannot be null or undefined.",void 0,u);var d,h=r(this,"deep"),f=r(this,"negate"),g=s?t.getPathInfo(l,e):null,m=s?g.value:l[e],y="";h&&(y+="deep "),a&&(y+="own "),s&&(y+="nested "),y+="property ",d=a?Object.prototype.hasOwnProperty.call(l,e):s?g.exists:t.hasProperty(l,e),f&&1!==arguments.length||this.assert(d,"expected #{this} to have "+y+t.inspect(e),"expected #{this} to not have "+y+t.inspect(e)),arguments.length>1&&this.assert(d&&(h?t.eql(n,m):n===m),"expected #{this} to have "+y+t.inspect(e)+" of #{exp}, but got #{act}","expected #{this} to not have "+y+t.inspect(e)+" of #{act}",n,m),r(this,"object",m)}function b(e,t,n){r(this,"own",!0),v.apply(this,arguments)}function _(e,n,o){"string"===typeof n&&(o=n,n=null),o&&r(this,"message",o);var i=r(this,"object"),s=Object.getOwnPropertyDescriptor(Object(i),e);s&&n?this.assert(t.eql(n,s),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to match "+t.inspect(n)+", got "+t.inspect(s),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to not match "+t.inspect(n),n,s,!0):this.assert(s,"expected #{this} to have an own property descriptor for "+t.inspect(e),"expected #{this} to not have an own property descriptor for "+t.inspect(e)),r(this,"object",s)}function w(){r(this,"doLength",!0)}function T(e,o){o&&r(this,"message",o);var i,s=r(this,"object"),a=t.type(s).toLowerCase(),c=r(this,"message"),l=r(this,"ssfi"),u="length";switch(a){case"map":case"set":u="size",i=s.size;break;default:new n(s,c,l,!0).to.have.property("length"),i=s.length}this.assert(i==e,"expected #{this} to have a "+u+" of #{exp} but got #{act}","expected #{this} to not have a "+u+" of #{act}",e,i)}function x(e,t){t&&r(this,"message",t);var n=r(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}function S(e){var n,i,s=r(this,"object"),a=t.type(s),c=t.type(e),l=r(this,"ssfi"),u=r(this,"deep"),p="",d=!0,h=r(this,"message");h=h?h+": ":"";var f=h+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if("Map"===a||"Set"===a)p=u?"deeply ":"",i=[],s.forEach((function(e,t){i.push(t)})),"Array"!==c&&(e=Array.prototype.slice.call(arguments));else{switch(i=t.getOwnEnumerableProperties(s),c){case"Array":if(arguments.length>1)throw new o(f,void 0,l);break;case"Object":if(arguments.length>1)throw new o(f,void 0,l);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}e=e.map((function(e){return"symbol"===typeof e?e:String(e)}))}if(!e.length)throw new o(h+"keys required",void 0,l);var g=e.length,m=r(this,"any"),y=r(this,"all"),v=e;if(m||y||(y=!0),m&&(d=v.some((function(e){return i.some((function(n){return u?t.eql(e,n):e===n}))}))),y&&(d=v.every((function(e){return i.some((function(n){return u?t.eql(e,n):e===n}))})),r(this,"contains")||(d=d&&e.length==i.length)),g>1){e=e.map((function(e){return t.inspect(e)}));var b=e.pop();y&&(n=e.join(", ")+", and "+b),m&&(n=e.join(", ")+", or "+b)}else n=t.inspect(e[0]);n=(g>1?"keys ":"key ")+n,n=(r(this,"contains")?"contain ":"have ")+n,this.assert(d,"expected #{this} to "+p+n,"expected #{this} to not "+p+n,v.slice(0).sort(t.compareByInspect),i.sort(t.compareByInspect),!0)}function E(e,o,i){i&&r(this,"message",i);var s,a=r(this,"object"),c=r(this,"ssfi"),l=r(this,"message"),u=r(this,"negate")||!1;new n(a,l,c,!0).is.a("function"),(e instanceof RegExp||"string"===typeof e)&&(o=e,e=null);try{a()}catch(_){s=_}var p=void 0===e&&void 0===o,d=Boolean(e&&o),h=!1,f=!1;if(p||!p&&!u){var g="an error";e instanceof Error?g="#{exp}":e&&(g=t.checkError.getConstructorName(e)),this.assert(s,"expected #{this} to throw "+g,"expected #{this} to not throw an error but #{act} was thrown",e&&e.toString(),s instanceof Error?s.toString():"string"===typeof s?s:s&&t.checkError.getConstructorName(s))}if(e&&s){if(e instanceof Error){var m=t.checkError.compatibleInstance(s,e);m===u&&(d&&u?h=!0:this.assert(u,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(s&&!u?" but #{act} was thrown":""),e.toString(),s.toString()))}var y=t.checkError.compatibleConstructor(s,e);y===u&&(d&&u?h=!0:this.assert(u,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(s?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&t.checkError.getConstructorName(e),s instanceof Error?s.toString():s&&t.checkError.getConstructorName(s)))}if(s&&void 0!==o&&null!==o){var v="including";o instanceof RegExp&&(v="matching");var b=t.checkError.compatibleMessage(s,o);b===u&&(d&&u?f=!0:this.assert(u,"expected #{this} to throw error "+v+" #{exp} but got #{act}","expected #{this} to throw error not "+v+" #{exp}",o,t.checkError.getMessage(s)))}h&&f&&this.assert(u,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(s?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&t.checkError.getConstructorName(e),s instanceof Error?s.toString():s&&t.checkError.getConstructorName(s)),r(this,"object",s)}function k(e,n){n&&r(this,"message",n);var o=r(this,"object"),i=r(this,"itself"),s="function"!==typeof o||i?o[e]:o.prototype[e];this.assert("function"===typeof s,"expected #{this} to respond to "+t.inspect(e),"expected #{this} to not respond to "+t.inspect(e))}function I(e,n){n&&r(this,"message",n);var o=r(this,"object"),i=e(o);this.assert(i,"expected #{this} to satisfy "+t.objDisplay(e),"expected #{this} to not satisfy"+t.objDisplay(e),!r(this,"negate"),i)}function A(e,t,i){i&&r(this,"message",i);var s=r(this,"object"),a=r(this,"message"),c=r(this,"ssfi");if(new n(s,a,c,!0).is.a("number"),"number"!==typeof e||"number"!==typeof t){a=a?a+": ":"";var l=void 0===t?", and a delta is required":"";throw new o(a+"the arguments to closeTo or approximately must be numbers"+l,void 0,c)}this.assert(Math.abs(s-e)<=t,"expected #{this} to be close to "+e+" +/- "+t,"expected #{this} not to be close to "+e+" +/- "+t)}function R(e,t,n,o,r){if(!o){if(e.length!==t.length)return!1;t=t.slice()}return e.every((function(e,i){if(r)return n?n(e,t[i]):e===t[i];if(!n){var s=t.indexOf(e);return-1!==s&&(o||t.splice(s,1),!0)}return t.some((function(r,i){return!!n(e,r)&&(o||t.splice(i,1),!0)}))}))}function O(e,o){o&&r(this,"message",o);var i=r(this,"object"),s=r(this,"message"),a=r(this,"ssfi"),c=r(this,"contains"),l=r(this,"deep");new n(e,s,a,!0).to.be.an("array"),c?this.assert(e.some((function(e){return i.indexOf(e)>-1})),"expected #{this} to contain one of #{exp}","expected #{this} to not contain one of #{exp}",e,i):l?this.assert(e.some((function(e){return t.eql(i,e)})),"expected #{this} to deeply equal one of #{exp}","expected #{this} to deeply equal one of #{exp}",e,i):this.assert(e.indexOf(i)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",e,i)}function C(e,t,o){o&&r(this,"message",o);var i,s=r(this,"object"),a=r(this,"message"),c=r(this,"ssfi");new n(s,a,c,!0).is.a("function"),t?(new n(e,a,c,!0).to.have.property(t),i=e[t]):(new n(e,a,c,!0).is.a("function"),i=e()),s();var l=void 0===t||null===t?e():e[t],u=void 0===t||null===t?i:"."+t;r(this,"deltaMsgObj",u),r(this,"initialDeltaValue",i),r(this,"finalDeltaValue",l),r(this,"deltaBehavior","change"),r(this,"realDelta",l!==i),this.assert(i!==l,"expected "+u+" to change","expected "+u+" to not change")}function j(e,t,o){o&&r(this,"message",o);var i,s=r(this,"object"),a=r(this,"message"),c=r(this,"ssfi");new n(s,a,c,!0).is.a("function"),t?(new n(e,a,c,!0).to.have.property(t),i=e[t]):(new n(e,a,c,!0).is.a("function"),i=e()),new n(i,a,c,!0).is.a("number"),s();var l=void 0===t||null===t?e():e[t],u=void 0===t||null===t?i:"."+t;r(this,"deltaMsgObj",u),r(this,"initialDeltaValue",i),r(this,"finalDeltaValue",l),r(this,"deltaBehavior","increase"),r(this,"realDelta",l-i),this.assert(l-i>0,"expected "+u+" to increase","expected "+u+" to not increase")}function N(e,t,o){o&&r(this,"message",o);var i,s=r(this,"object"),a=r(this,"message"),c=r(this,"ssfi");new n(s,a,c,!0).is.a("function"),t?(new n(e,a,c,!0).to.have.property(t),i=e[t]):(new n(e,a,c,!0).is.a("function"),i=e()),new n(i,a,c,!0).is.a("number"),s();var l=void 0===t||null===t?e():e[t],u=void 0===t||null===t?i:"."+t;r(this,"deltaMsgObj",u),r(this,"initialDeltaValue",i),r(this,"finalDeltaValue",l),r(this,"deltaBehavior","decrease"),r(this,"realDelta",i-l),this.assert(l-i<0,"expected "+u+" to decrease","expected "+u+" to not decrease")}function P(e,t){t&&r(this,"message",t);var n,o=r(this,"deltaMsgObj"),i=r(this,"initialDeltaValue"),s=r(this,"finalDeltaValue"),a=r(this,"deltaBehavior"),c=r(this,"realDelta");n="change"===a?Math.abs(s-i)===Math.abs(e):c===Math.abs(e),this.assert(n,"expected "+o+" to "+a+" by "+e,"expected "+o+" to not "+a+" by "+e)}["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still","also"].forEach((function(e){n.addProperty(e)})),n.addProperty("not",(function(){r(this,"negate",!0)})),n.addProperty("deep",(function(){r(this,"deep",!0)})),n.addProperty("nested",(function(){r(this,"nested",!0)})),n.addProperty("own",(function(){r(this,"own",!0)})),n.addProperty("ordered",(function(){r(this,"ordered",!0)})),n.addProperty("any",(function(){r(this,"any",!0),r(this,"all",!1)})),n.addProperty("all",(function(){r(this,"all",!0),r(this,"any",!1)})),n.addChainableMethod("an",i),n.addChainableMethod("a",i),n.addChainableMethod("include",c,a),n.addChainableMethod("contain",c,a),n.addChainableMethod("contains",c,a),n.addChainableMethod("includes",c,a),n.addProperty("ok",(function(){this.assert(r(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")})),n.addProperty("true",(function(){this.assert(!0===r(this,"object"),"expected #{this} to be true","expected #{this} to be false",!r(this,"negate"))})),n.addProperty("false",(function(){this.assert(!1===r(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!r(this,"negate"))})),n.addProperty("null",(function(){this.assert(null===r(this,"object"),"expected #{this} to be null","expected #{this} not to be null")})),n.addProperty("undefined",(function(){this.assert(void 0===r(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")})),n.addProperty("NaN",(function(){this.assert(t.isNaN(r(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")})),n.addProperty("exist",l),n.addProperty("exists",l),n.addProperty("empty",(function(){var e,n=r(this,"object"),i=r(this,"ssfi"),s=r(this,"message");switch(s=s?s+": ":"",t.type(n).toLowerCase()){case"array":case"string":e=n.length;break;case"map":case"set":e=n.size;break;case"weakmap":case"weakset":throw new o(s+".empty was passed a weak collection",void 0,i);case"function":var a=s+".empty was passed a function "+t.getName(n);throw new o(a.trim(),void 0,i);default:if(n!==Object(n))throw new o(s+".empty was passed non-string primitive "+t.inspect(n),void 0,i);e=Object.keys(n).length}this.assert(0===e,"expected #{this} to be empty","expected #{this} not to be empty")})),n.addProperty("arguments",u),n.addProperty("Arguments",u),n.addMethod("equal",p),n.addMethod("equals",p),n.addMethod("eq",p),n.addMethod("eql",d),n.addMethod("eqls",d),n.addMethod("above",h),n.addMethod("gt",h),n.addMethod("greaterThan",h),n.addMethod("least",f),n.addMethod("gte",f),n.addMethod("greaterThanOrEqual",f),n.addMethod("below",g),n.addMethod("lt",g),n.addMethod("lessThan",g),n.addMethod("most",m),n.addMethod("lte",m),n.addMethod("lessThanOrEqual",m),n.addMethod("within",(function(e,i,s){s&&r(this,"message",s);var a,c=r(this,"object"),l=r(this,"doLength"),u=r(this,"message"),p=u?u+": ":"",d=r(this,"ssfi"),h=t.type(c).toLowerCase(),f=t.type(e).toLowerCase(),g=t.type(i).toLowerCase(),m=!0,y="date"===f&&"date"===g?e.toISOString()+".."+i.toISOString():e+".."+i;if(l&&"map"!==h&&"set"!==h&&new n(c,u,d,!0).to.have.property("length"),l||"date"!==h||"date"===f&&"date"===g)if("number"===f&&"number"===g||!l&&"number"!==h)if(l||"date"===h||"number"===h)m=!1;else{var v="string"===h?"'"+c+"'":c;a=p+"expected "+v+" to be a number or a date"}else a=p+"the arguments to within must be numbers";else a=p+"the arguments to within must be dates";if(m)throw new o(a,void 0,d);if(l){var b,_="length";"map"===h||"set"===h?(_="size",b=c.size):b=c.length,this.assert(b>=e&&b<=i,"expected #{this} to have a "+_+" within "+y,"expected #{this} to not have a "+_+" within "+y)}else this.assert(c>=e&&c<=i,"expected #{this} to be within "+y,"expected #{this} to not be within "+y)})),n.addMethod("instanceof",y),n.addMethod("instanceOf",y),n.addMethod("property",v),n.addMethod("ownProperty",b),n.addMethod("haveOwnProperty",b),n.addMethod("ownPropertyDescriptor",_),n.addMethod("haveOwnPropertyDescriptor",_),n.addChainableMethod("length",T,w),n.addChainableMethod("lengthOf",T,w),n.addMethod("match",x),n.addMethod("matches",x),n.addMethod("string",(function(e,o){o&&r(this,"message",o);var i=r(this,"object"),s=r(this,"message"),a=r(this,"ssfi");new n(i,s,a,!0).is.a("string"),this.assert(~i.indexOf(e),"expected #{this} to contain "+t.inspect(e),"expected #{this} to not contain "+t.inspect(e))})),n.addMethod("keys",S),n.addMethod("key",S),n.addMethod("throw",E),n.addMethod("throws",E),n.addMethod("Throw",E),n.addMethod("respondTo",k),n.addMethod("respondsTo",k),n.addProperty("itself",(function(){r(this,"itself",!0)})),n.addMethod("satisfy",I),n.addMethod("satisfies",I),n.addMethod("closeTo",A),n.addMethod("approximately",A),n.addMethod("members",(function(e,o){o&&r(this,"message",o);var i=r(this,"object"),s=r(this,"message"),a=r(this,"ssfi");new n(i,s,a,!0).to.be.an("array"),new n(e,s,a,!0).to.be.an("array");var c,l,u,p=r(this,"contains"),d=r(this,"ordered");p?(c=d?"an ordered superset":"a superset",l="expected #{this} to be "+c+" of #{exp}",u="expected #{this} to not be "+c+" of #{exp}"):(c=d?"ordered members":"members",l="expected #{this} to have the same "+c+" as #{exp}",u="expected #{this} to not have the same "+c+" as #{exp}");var h=r(this,"deep")?t.eql:void 0;this.assert(R(e,i,h,p,d),l,u,e,i,!0)})),n.addMethod("oneOf",O),n.addMethod("change",C),n.addMethod("changes",C),n.addMethod("increase",j),n.addMethod("increases",j),n.addMethod("decrease",N),n.addMethod("decreases",N),n.addMethod("by",P),n.addProperty("extensible",(function(){var e=r(this,"object"),t=e===Object(e)&&Object.isExtensible(e);this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")})),n.addProperty("sealed",(function(){var e=r(this,"object"),t=e!==Object(e)||Object.isSealed(e);this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")})),n.addProperty("frozen",(function(){var e=r(this,"object"),t=e!==Object(e)||Object.isFrozen(e);this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")})),n.addProperty("finite",(function(e){var t=r(this,"object");this.assert("number"===typeof t&&isFinite(t),"expected #{this} to be a finite number","expected #{this} to not be a finite number")}))}},325:function(e){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){
/*!
   * Chai dependencies.
   */
var n=e.Assertion,o=t.flag,r=e.assert=function(t,o){var r=new n(null,null,e.assert,!0);r.assert(t,o,"[ negation message unavailable ]")};
/*!
   * Module export.
   */r.fail=function(t,n,o,i){throw arguments.length<2&&(o=t,t=void 0),o=o||"assert.fail()",new e.AssertionError(o,{actual:t,expected:n,operator:i},r.fail)},r.isOk=function(e,t){new n(e,t,r.isOk,!0).is.ok},r.isNotOk=function(e,t){new n(e,t,r.isNotOk,!0).is.not.ok},r.equal=function(e,t,i){var s=new n(e,i,r.equal,!0);s.assert(t==o(s,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e,!0)},r.notEqual=function(e,t,i){var s=new n(e,i,r.notEqual,!0);s.assert(t!=o(s,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e,!0)},r.strictEqual=function(e,t,o){new n(e,o,r.strictEqual,!0).to.equal(t)},r.notStrictEqual=function(e,t,o){new n(e,o,r.notStrictEqual,!0).to.not.equal(t)},r.deepEqual=r.deepStrictEqual=function(e,t,o){new n(e,o,r.deepEqual,!0).to.eql(t)},r.notDeepEqual=function(e,t,o){new n(e,o,r.notDeepEqual,!0).to.not.eql(t)},r.isAbove=function(e,t,o){new n(e,o,r.isAbove,!0).to.be.above(t)},r.isAtLeast=function(e,t,o){new n(e,o,r.isAtLeast,!0).to.be.least(t)},r.isBelow=function(e,t,o){new n(e,o,r.isBelow,!0).to.be.below(t)},r.isAtMost=function(e,t,o){new n(e,o,r.isAtMost,!0).to.be.most(t)},r.isTrue=function(e,t){new n(e,t,r.isTrue,!0).is["true"]},r.isNotTrue=function(e,t){new n(e,t,r.isNotTrue,!0).to.not.equal(!0)},r.isFalse=function(e,t){new n(e,t,r.isFalse,!0).is["false"]},r.isNotFalse=function(e,t){new n(e,t,r.isNotFalse,!0).to.not.equal(!1)},r.isNull=function(e,t){new n(e,t,r.isNull,!0).to.equal(null)},r.isNotNull=function(e,t){new n(e,t,r.isNotNull,!0).to.not.equal(null)},r.isNaN=function(e,t){new n(e,t,r.isNaN,!0).to.be.NaN},r.isNotNaN=function(e,t){new n(e,t,r.isNotNaN,!0).not.to.be.NaN},r.exists=function(e,t){new n(e,t,r.exists,!0).to.exist},r.notExists=function(e,t){new n(e,t,r.notExists,!0).to.not.exist},r.isUndefined=function(e,t){new n(e,t,r.isUndefined,!0).to.equal(void 0)},r.isDefined=function(e,t){new n(e,t,r.isDefined,!0).to.not.equal(void 0)},r.isFunction=function(e,t){new n(e,t,r.isFunction,!0).to.be.a("function")},r.isNotFunction=function(e,t){new n(e,t,r.isNotFunction,!0).to.not.be.a("function")},r.isObject=function(e,t){new n(e,t,r.isObject,!0).to.be.a("object")},r.isNotObject=function(e,t){new n(e,t,r.isNotObject,!0).to.not.be.a("object")},r.isArray=function(e,t){new n(e,t,r.isArray,!0).to.be.an("array")},r.isNotArray=function(e,t){new n(e,t,r.isNotArray,!0).to.not.be.an("array")},r.isString=function(e,t){new n(e,t,r.isString,!0).to.be.a("string")},r.isNotString=function(e,t){new n(e,t,r.isNotString,!0).to.not.be.a("string")},r.isNumber=function(e,t){new n(e,t,r.isNumber,!0).to.be.a("number")},r.isNotNumber=function(e,t){new n(e,t,r.isNotNumber,!0).to.not.be.a("number")},r.isFinite=function(e,t){new n(e,t,r.isFinite,!0).to.be.finite},r.isBoolean=function(e,t){new n(e,t,r.isBoolean,!0).to.be.a("boolean")},r.isNotBoolean=function(e,t){new n(e,t,r.isNotBoolean,!0).to.not.be.a("boolean")},r.typeOf=function(e,t,o){new n(e,o,r.typeOf,!0).to.be.a(t)},r.notTypeOf=function(e,t,o){new n(e,o,r.notTypeOf,!0).to.not.be.a(t)},r.instanceOf=function(e,t,o){new n(e,o,r.instanceOf,!0).to.be.instanceOf(t)},r.notInstanceOf=function(e,t,o){new n(e,o,r.notInstanceOf,!0).to.not.be.instanceOf(t)},r.include=function(e,t,o){new n(e,o,r.include,!0).include(t)},r.notInclude=function(e,t,o){new n(e,o,r.notInclude,!0).not.include(t)},r.deepInclude=function(e,t,o){new n(e,o,r.deepInclude,!0).deep.include(t)},r.notDeepInclude=function(e,t,o){new n(e,o,r.notDeepInclude,!0).not.deep.include(t)},r.nestedInclude=function(e,t,o){new n(e,o,r.nestedInclude,!0).nested.include(t)},r.notNestedInclude=function(e,t,o){new n(e,o,r.notNestedInclude,!0).not.nested.include(t)},r.deepNestedInclude=function(e,t,o){new n(e,o,r.deepNestedInclude,!0).deep.nested.include(t)},r.notDeepNestedInclude=function(e,t,o){new n(e,o,r.notDeepNestedInclude,!0).not.deep.nested.include(t)},r.ownInclude=function(e,t,o){new n(e,o,r.ownInclude,!0).own.include(t)},r.notOwnInclude=function(e,t,o){new n(e,o,r.notOwnInclude,!0).not.own.include(t)},r.deepOwnInclude=function(e,t,o){new n(e,o,r.deepOwnInclude,!0).deep.own.include(t)},r.notDeepOwnInclude=function(e,t,o){new n(e,o,r.notDeepOwnInclude,!0).not.deep.own.include(t)},r.match=function(e,t,o){new n(e,o,r.match,!0).to.match(t)},r.notMatch=function(e,t,o){new n(e,o,r.notMatch,!0).to.not.match(t)},r.property=function(e,t,o){new n(e,o,r.property,!0).to.have.property(t)},r.notProperty=function(e,t,o){new n(e,o,r.notProperty,!0).to.not.have.property(t)},r.propertyVal=function(e,t,o,i){new n(e,i,r.propertyVal,!0).to.have.property(t,o)},r.notPropertyVal=function(e,t,o,i){new n(e,i,r.notPropertyVal,!0).to.not.have.property(t,o)},r.deepPropertyVal=function(e,t,o,i){new n(e,i,r.deepPropertyVal,!0).to.have.deep.property(t,o)},r.notDeepPropertyVal=function(e,t,o,i){new n(e,i,r.notDeepPropertyVal,!0).to.not.have.deep.property(t,o)},r.ownProperty=function(e,t,o){new n(e,o,r.ownProperty,!0).to.have.own.property(t)},r.notOwnProperty=function(e,t,o){new n(e,o,r.notOwnProperty,!0).to.not.have.own.property(t)},r.ownPropertyVal=function(e,t,o,i){new n(e,i,r.ownPropertyVal,!0).to.have.own.property(t,o)},r.notOwnPropertyVal=function(e,t,o,i){new n(e,i,r.notOwnPropertyVal,!0).to.not.have.own.property(t,o)},r.deepOwnPropertyVal=function(e,t,o,i){new n(e,i,r.deepOwnPropertyVal,!0).to.have.deep.own.property(t,o)},r.notDeepOwnPropertyVal=function(e,t,o,i){new n(e,i,r.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(t,o)},r.nestedProperty=function(e,t,o){new n(e,o,r.nestedProperty,!0).to.have.nested.property(t)},r.notNestedProperty=function(e,t,o){new n(e,o,r.notNestedProperty,!0).to.not.have.nested.property(t)},r.nestedPropertyVal=function(e,t,o,i){new n(e,i,r.nestedPropertyVal,!0).to.have.nested.property(t,o)},r.notNestedPropertyVal=function(e,t,o,i){new n(e,i,r.notNestedPropertyVal,!0).to.not.have.nested.property(t,o)},r.deepNestedPropertyVal=function(e,t,o,i){new n(e,i,r.deepNestedPropertyVal,!0).to.have.deep.nested.property(t,o)},r.notDeepNestedPropertyVal=function(e,t,o,i){new n(e,i,r.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(t,o)},r.lengthOf=function(e,t,o){new n(e,o,r.lengthOf,!0).to.have.lengthOf(t)},r.hasAnyKeys=function(e,t,o){new n(e,o,r.hasAnyKeys,!0).to.have.any.keys(t)},r.hasAllKeys=function(e,t,o){new n(e,o,r.hasAllKeys,!0).to.have.all.keys(t)},r.containsAllKeys=function(e,t,o){new n(e,o,r.containsAllKeys,!0).to.contain.all.keys(t)},r.doesNotHaveAnyKeys=function(e,t,o){new n(e,o,r.doesNotHaveAnyKeys,!0).to.not.have.any.keys(t)},r.doesNotHaveAllKeys=function(e,t,o){new n(e,o,r.doesNotHaveAllKeys,!0).to.not.have.all.keys(t)},r.hasAnyDeepKeys=function(e,t,o){new n(e,o,r.hasAnyDeepKeys,!0).to.have.any.deep.keys(t)},r.hasAllDeepKeys=function(e,t,o){new n(e,o,r.hasAllDeepKeys,!0).to.have.all.deep.keys(t)},r.containsAllDeepKeys=function(e,t,o){new n(e,o,r.containsAllDeepKeys,!0).to.contain.all.deep.keys(t)},r.doesNotHaveAnyDeepKeys=function(e,t,o){new n(e,o,r.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(t)},r.doesNotHaveAllDeepKeys=function(e,t,o){new n(e,o,r.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(t)},r.throws=function(e,t,i,s){("string"===typeof t||t instanceof RegExp)&&(i=t,t=null);var a=new n(e,s,r.throws,!0).to.throw(t,i);return o(a,"object")},r.doesNotThrow=function(e,t,o,i){("string"===typeof t||t instanceof RegExp)&&(o=t,t=null),new n(e,i,r.doesNotThrow,!0).to.not.throw(t,o)},r.operator=function(i,s,a,c){var l;switch(s){case"==":l=i==a;break;case"===":l=i===a;break;case">":l=i>a;break;case">=":l=i>=a;break;case"<":l=i<a;break;case"<=":l=i<=a;break;case"!=":l=i!=a;break;case"!==":l=i!==a;break;default:throw c=c?c+": ":c,new e.AssertionError(c+'Invalid operator "'+s+'"',void 0,r.operator)}var u=new n(l,c,r.operator,!0);u.assert(!0===o(u,"object"),"expected "+t.inspect(i)+" to be "+s+" "+t.inspect(a),"expected "+t.inspect(i)+" to not be "+s+" "+t.inspect(a))},r.closeTo=function(e,t,o,i){new n(e,i,r.closeTo,!0).to.be.closeTo(t,o)},r.approximately=function(e,t,o,i){new n(e,i,r.approximately,!0).to.be.approximately(t,o)},r.sameMembers=function(e,t,o){new n(e,o,r.sameMembers,!0).to.have.same.members(t)},r.notSameMembers=function(e,t,o){new n(e,o,r.notSameMembers,!0).to.not.have.same.members(t)},r.sameDeepMembers=function(e,t,o){new n(e,o,r.sameDeepMembers,!0).to.have.same.deep.members(t)},r.notSameDeepMembers=function(e,t,o){new n(e,o,r.notSameDeepMembers,!0).to.not.have.same.deep.members(t)},r.sameOrderedMembers=function(e,t,o){new n(e,o,r.sameOrderedMembers,!0).to.have.same.ordered.members(t)},r.notSameOrderedMembers=function(e,t,o){new n(e,o,r.notSameOrderedMembers,!0).to.not.have.same.ordered.members(t)},r.sameDeepOrderedMembers=function(e,t,o){new n(e,o,r.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(t)},r.notSameDeepOrderedMembers=function(e,t,o){new n(e,o,r.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(t)},r.includeMembers=function(e,t,o){new n(e,o,r.includeMembers,!0).to.include.members(t)},r.notIncludeMembers=function(e,t,o){new n(e,o,r.notIncludeMembers,!0).to.not.include.members(t)},r.includeDeepMembers=function(e,t,o){new n(e,o,r.includeDeepMembers,!0).to.include.deep.members(t)},r.notIncludeDeepMembers=function(e,t,o){new n(e,o,r.notIncludeDeepMembers,!0).to.not.include.deep.members(t)},r.includeOrderedMembers=function(e,t,o){new n(e,o,r.includeOrderedMembers,!0).to.include.ordered.members(t)},r.notIncludeOrderedMembers=function(e,t,o){new n(e,o,r.notIncludeOrderedMembers,!0).to.not.include.ordered.members(t)},r.includeDeepOrderedMembers=function(e,t,o){new n(e,o,r.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(t)},r.notIncludeDeepOrderedMembers=function(e,t,o){new n(e,o,r.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(t)},r.oneOf=function(e,t,o){new n(e,o,r.oneOf,!0).to.be.oneOf(t)},r.changes=function(e,t,o,i){3===arguments.length&&"function"===typeof t&&(i=o,o=null),new n(e,i,r.changes,!0).to.change(t,o)},r.changesBy=function(e,t,o,i,s){if(4===arguments.length&&"function"===typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.changesBy,!0).to.change(t,o).by(i)},r.doesNotChange=function(e,t,o,i){return 3===arguments.length&&"function"===typeof t&&(i=o,o=null),new n(e,i,r.doesNotChange,!0).to.not.change(t,o)},r.changesButNotBy=function(e,t,o,i,s){if(4===arguments.length&&"function"===typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.changesButNotBy,!0).to.change(t,o).but.not.by(i)},r.increases=function(e,t,o,i){return 3===arguments.length&&"function"===typeof t&&(i=o,o=null),new n(e,i,r.increases,!0).to.increase(t,o)},r.increasesBy=function(e,t,o,i,s){if(4===arguments.length&&"function"===typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.increasesBy,!0).to.increase(t,o).by(i)},r.doesNotIncrease=function(e,t,o,i){return 3===arguments.length&&"function"===typeof t&&(i=o,o=null),new n(e,i,r.doesNotIncrease,!0).to.not.increase(t,o)},r.increasesButNotBy=function(e,t,o,i,s){if(4===arguments.length&&"function"===typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.increasesButNotBy,!0).to.increase(t,o).but.not.by(i)},r.decreases=function(e,t,o,i){return 3===arguments.length&&"function"===typeof t&&(i=o,o=null),new n(e,i,r.decreases,!0).to.decrease(t,o)},r.decreasesBy=function(e,t,o,i,s){if(4===arguments.length&&"function"===typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.decreasesBy,!0).to.decrease(t,o).by(i)},r.doesNotDecrease=function(e,t,o,i){return 3===arguments.length&&"function"===typeof t&&(i=o,o=null),new n(e,i,r.doesNotDecrease,!0).to.not.decrease(t,o)},r.doesNotDecreaseBy=function(e,t,o,i,s){if(4===arguments.length&&"function"===typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);return new n(e,s,r.doesNotDecreaseBy,!0).to.not.decrease(t,o).by(i)},r.decreasesButNotBy=function(e,t,o,i,s){if(4===arguments.length&&"function"===typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.decreasesButNotBy,!0).to.decrease(t,o).but.not.by(i)},
/*!
   * ### .ifError(object)
   *
   * Asserts if value is not a false value, and throws if it is a true value.
   * This is added to allow for chai to be a drop-in replacement for Node's
   * assert class.
   *
   *     var err = new Error('I am a custom error');
   *     assert.ifError(err); // Rethrows err!
   *
   * @name ifError
   * @param {Object} object
   * @namespace Assert
   * @api public
   */
r.ifError=function(e){if(e)throw e},r.isExtensible=function(e,t){new n(e,t,r.isExtensible,!0).to.be.extensible},r.isNotExtensible=function(e,t){new n(e,t,r.isNotExtensible,!0).to.not.be.extensible},r.isSealed=function(e,t){new n(e,t,r.isSealed,!0).to.be.sealed},r.isNotSealed=function(e,t){new n(e,t,r.isNotSealed,!0).to.not.be.sealed},r.isFrozen=function(e,t){new n(e,t,r.isFrozen,!0).to.be.frozen},r.isNotFrozen=function(e,t){new n(e,t,r.isNotFrozen,!0).to.not.be.frozen},r.isEmpty=function(e,t){new n(e,t,r.isEmpty,!0).to.be.empty},r.isNotEmpty=function(e,t){new n(e,t,r.isNotEmpty,!0).to.not.be.empty},
/*!
   * Aliases.
   */
function e(t,n){return r[n]=r[t],e}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")("isEmpty","empty")("isNotEmpty","notEmpty")}},5317:function(e){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){e.expect=function(t,n){return new e.Assertion(t,n)},e.expect.fail=function(t,n,o,r){throw arguments.length<2&&(o=t,t=void 0),o=o||"expect.fail()",new e.AssertionError(o,{actual:t,expected:n,operator:r},e.expect.fail)}}},4720:function(e){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){var n=e.Assertion;function o(){function t(){return this instanceof String||this instanceof Number||this instanceof Boolean||"function"===typeof Symbol&&this instanceof Symbol||"function"===typeof BigInt&&this instanceof BigInt?new n(this.valueOf(),null,t):new n(this,null,t)}function o(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:o,get:t,configurable:!0});var r={fail:function(t,n,o,i){throw arguments.length<2&&(o=t,t=void 0),o=o||"should.fail()",new e.AssertionError(o,{actual:t,expected:n,operator:i},r.fail)},equal:function(e,t,o){new n(e,o).to.equal(t)},Throw:function(e,t,o,r){new n(e,r).to.Throw(t,o)},exist:function(e,t){new n(e,t).to.exist},not:{}};return r.not.equal=function(e,t,o){new n(e,o).to.not.equal(t)},r.not.Throw=function(e,t,o,r){new n(e,r).to.not.Throw(t,o)},r.not.exist=function(e,t){new n(e,t).to.not.exist},r["throw"]=r["Throw"],r.not["throw"]=r.not["Throw"],r}e.should=o,e.Should=o}},6853:function(e,t,n){
/*!
 * Chai - addChainingMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(1192),r=n(8997),i=n(1158),s=n(9024),a=n(148),c="function"===typeof Object.setPrototypeOf,l=function(){},u=Object.getOwnPropertyNames(l).filter((function(e){var t=Object.getOwnPropertyDescriptor(l,e);return"object"!==typeof t||!t.configurable})),p=Function.prototype.call,d=Function.prototype.apply;e.exports=function(e,t,n,l){"function"!==typeof l&&(l=function(){});var h={method:n,chainingBehavior:l};e.__methods||(e.__methods={}),e.__methods[t]=h,Object.defineProperty(e,t,{get:function(){h.chainingBehavior.call(this);var n=function(){i(this,"lockSsfi")||i(this,"ssfi",n);var e=h.method.apply(this,arguments);if(void 0!==e)return e;var t=new r.Assertion;return a(this,t),t};if(o(n,t,!0),c){var l=Object.create(this);l.call=p,l.apply=d,Object.setPrototypeOf(n,l)}else{var f=Object.getOwnPropertyNames(e);f.forEach((function(t){if(-1===u.indexOf(t)){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o)}}))}return a(this,n),s(n)},configurable:!0})}},1192:function(e){var t=Object.getOwnPropertyDescriptor((function(){}),"length");
/*!
 * Chai - addLengthGuard utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */e.exports=function(e,n,o){return t.configurable?(Object.defineProperty(e,"length",{get:function(){if(o)throw Error("Invalid Chai property: "+n+'.length. Due to a compatibility issue, "length" cannot directly follow "'+n+'". Use "'+n+'.lengthOf" instead.');throw Error("Invalid Chai property: "+n+'.length. See docs for proper usage of "'+n+'".')}}),e):e}},1:function(e,t,n){
/*!
 * Chai - addMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(1192),r=n(8997),i=n(1158),s=n(9024),a=n(148);e.exports=function(e,t,n){var c=function(){i(this,"lockSsfi")||i(this,"ssfi",c);var e=n.apply(this,arguments);if(void 0!==e)return e;var t=new r.Assertion;return a(this,t),t};o(c,t,!1),e[t]=s(c,t)}},9078:function(e,t,n){
/*!
 * Chai - addProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(8997),r=n(1158),i=n(2402),s=n(148);e.exports=function(e,t,n){n=void 0===n?function(){}:n,Object.defineProperty(e,t,{get:function e(){i()||r(this,"lockSsfi")||r(this,"ssfi",e);var t=n.call(this);if(void 0!==t)return t;var a=new o.Assertion;return s(this,a),a},configurable:!0})}},4555:function(e,t,n){
/*!
 * Chai - compareByInspect utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(8345);e.exports=function(e,t){return o(e)<o(t)?-1:1}},6078:function(e,t,n){
/*!
 * Chai - expectTypes utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(3796),r=n(1158),i=n(9064);e.exports=function(e,t){var n=r(e,"message"),s=r(e,"ssfi");n=n?n+": ":"",e=r(e,"object"),t=t.map((function(e){return e.toLowerCase()})),t.sort();var a=t.map((function(e,n){var o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an":"a",r=t.length>1&&n===t.length-1?"or ":"";return r+o+" "+e})).join(", "),c=i(e).toLowerCase();if(!t.some((function(e){return c===e})))throw new o(n+"object tested must be "+a+", but "+c+" given",void 0,s)}},1158:function(e){
/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t,n){var o=e.__flags||(e.__flags=Object.create(null));if(3!==arguments.length)return o[t];o[t]=n}},5754:function(e){
/*!
 * Chai - getActual utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){return t.length>4?t[4]:e._obj}},3397:function(e,t,n){
/*!
 * Chai - message composition utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(1158),r=n(5754),i=n(397);e.exports=function(e,t){var n=o(e,"negate"),s=o(e,"object"),a=t[3],c=r(e,t),l=n?t[2]:t[1],u=o(e,"message");return"function"===typeof l&&(l=l()),l=l||"",l=l.replace(/#\{this\}/g,(function(){return i(s)})).replace(/#\{act\}/g,(function(){return i(c)})).replace(/#\{exp\}/g,(function(){return i(a)})),u?u+": "+l:l}},6590:function(e,t,n){var o=n(9064),r=n(1158);function i(e){var t=o(e),n=["Array","Object","function"];return-1!==n.indexOf(t)}e.exports=function(e,t){var n=r(e,"operator"),o=r(e,"negate"),s=t[3],a=o?t[2]:t[1];if(n)return n;if("function"===typeof a&&(a=a()),a=a||"",a&&!/\shave\s/.test(a)){var c=i(s);return/\snot\s/.test(a)?c?"notDeepStrictEqual":"notStrictEqual":c?"deepStrictEqual":"strictEqual"}}},2007:function(e,t,n){
/*!
 * Chai - getOwnEnumerableProperties utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(8880);e.exports=function(e){return Object.keys(e).concat(o(e))}},8880:function(e){
/*!
 * Chai - getOwnEnumerablePropertySymbols utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e){return"function"!==typeof Object.getOwnPropertySymbols?[]:Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))}},7438:function(e,t,n){n(6728),
/*!
 * Chai - getProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e){var t=Object.getOwnPropertyNames(e);function n(e){-1===t.indexOf(e)&&t.push(e)}var o=Object.getPrototypeOf(e);while(null!==o)Object.getOwnPropertyNames(o).forEach(n),o=Object.getPrototypeOf(o);return t}},7696:function(e,t,n){
/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Dependencies that are used for multiple exports are required here only once
 */
var o=n(208);
/*!
 * test utility
 */t.test=n(2544),
/*!
 * type utility
 */
t.type=n(9064),
/*!
 * expectTypes utility
 */
t.expectTypes=n(6078),
/*!
 * message utility
 */
t.getMessage=n(3397),
/*!
 * actual utility
 */
t.getActual=n(5754),
/*!
 * Inspect util
 */
t.inspect=n(8345),
/*!
 * Object Display util
 */
t.objDisplay=n(397),
/*!
 * Flag utility
 */
t.flag=n(1158),
/*!
 * Flag transferring utility
 */
t.transferFlags=n(148),
/*!
 * Deep equal utility
 */
t.eql=n(7397),
/*!
 * Deep path info
 */
t.getPathInfo=o.getPathInfo,
/*!
 * Check if a property exists
 */
t.hasProperty=o.hasProperty,
/*!
 * Function name
 */
t.getName=n(3466),
/*!
 * add Property
 */
t.addProperty=n(9078),
/*!
 * add Method
 */
t.addMethod=n(1),
/*!
 * overwrite Property
 */
t.overwriteProperty=n(7428),
/*!
 * overwrite Method
 */
t.overwriteMethod=n(7709),
/*!
 * Add a chainable method
 */
t.addChainableMethod=n(6853),
/*!
 * Overwrite chainable method
 */
t.overwriteChainableMethod=n(9822),
/*!
 * Compare by inspect method
 */
t.compareByInspect=n(4555),
/*!
 * Get own enumerable property symbols method
 */
t.getOwnEnumerablePropertySymbols=n(8880),
/*!
 * Get own enumerable properties method
 */
t.getOwnEnumerableProperties=n(2007),
/*!
 * Checks error against a given set of criteria
 */
t.checkError=n(7143),
/*!
 * Proxify util
 */
t.proxify=n(9024),
/*!
 * addLengthGuard util
 */
t.addLengthGuard=n(1192),
/*!
 * isProxyEnabled helper
 */
t.isProxyEnabled=n(2402),
/*!
 * isNaN method
 */
t.isNaN=n(6722),
/*!
 * getOperator method
 */
t.getOperator=n(6590)},8345:function(e,t,n){n(3466);var o=n(6389),r=n(8924);function i(e,t,n,i){var s={colors:i,depth:"undefined"===typeof n?2:n,showHidden:t,truncate:r.truncateThreshold?r.truncateThreshold:1/0};return o.inspect(e,s)}e.exports=i},6722:function(e){
/*!
 * Chai - isNaN utility
 * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>
 * MIT Licensed
 */
function t(e){return e!==e}e.exports=Number.isNaN||t},2402:function(e,t,n){var o=n(8924);
/*!
 * Chai - isProxyEnabled helper
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */e.exports=function(){return o.useProxy&&"undefined"!==typeof Proxy&&"undefined"!==typeof Reflect}},397:function(e,t,n){
/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(8345),r=n(8924);e.exports=function(e){var t=o(e),n=Object.prototype.toString.call(e);if(r.truncateThreshold&&t.length>=r.truncateThreshold){if("[object Function]"===n)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+e.length+") ]";if("[object Object]"===n){var i=Object.keys(e),s=i.length>2?i.splice(0,2).join(", ")+", ...":i.join(", ");return"{ Object ("+s+") }"}return t}return t}},9822:function(e,t,n){
/*!
 * Chai - overwriteChainableMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(8997),r=n(148);e.exports=function(e,t,n,i){var s=e.__methods[t],a=s.chainingBehavior;s.chainingBehavior=function(){var e=i(a).call(this);if(void 0!==e)return e;var t=new o.Assertion;return r(this,t),t};var c=s.method;s.method=function(){var e=n(c).apply(this,arguments);if(void 0!==e)return e;var t=new o.Assertion;return r(this,t),t}}},7709:function(e,t,n){
/*!
 * Chai - overwriteMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(1192),r=n(8997),i=n(1158),s=n(9024),a=n(148);e.exports=function(e,t,n){var c=e[t],l=function(){throw new Error(t+" is not a function")};c&&"function"===typeof c&&(l=c);var u=function(){i(this,"lockSsfi")||i(this,"ssfi",u);var e=i(this,"lockSsfi");i(this,"lockSsfi",!0);var t=n(l).apply(this,arguments);if(i(this,"lockSsfi",e),void 0!==t)return t;var o=new r.Assertion;return a(this,o),o};o(u,t,!1),e[t]=s(u,t)}},7428:function(e,t,n){
/*!
 * Chai - overwriteProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(8997),r=n(1158),i=n(2402),s=n(148);e.exports=function(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t),c=function(){};a&&"function"===typeof a.get&&(c=a.get),Object.defineProperty(e,t,{get:function e(){i()||r(this,"lockSsfi")||r(this,"ssfi",e);var t=r(this,"lockSsfi");r(this,"lockSsfi",!0);var a=n(c).call(this);if(r(this,"lockSsfi",t),void 0!==a)return a;var l=new o.Assertion;return s(this,l),l},configurable:!0})}},9024:function(e,t,n){var o=n(8924),r=n(1158),i=n(7438),s=n(2402),a=["__flags","__methods","_obj","assert"];function c(e,t,n){if(Math.abs(e.length-t.length)>=n)return n;for(var o=[],r=0;r<=e.length;r++)o[r]=Array(t.length+1).fill(0),o[r][0]=r;for(var i=0;i<t.length;i++)o[0][i]=i;for(r=1;r<=e.length;r++){var s=e.charCodeAt(r-1);for(i=1;i<=t.length;i++)Math.abs(r-i)>=n?o[r][i]=n:o[r][i]=Math.min(o[r-1][i]+1,o[r][i-1]+1,o[r-1][i-1]+(s===t.charCodeAt(i-1)?0:1))}return o[e.length][t.length]}e.exports=function(e,t){return s()?new Proxy(e,{get:function e(n,s){if("string"===typeof s&&-1===o.proxyExcludedKeys.indexOf(s)&&!Reflect.has(n,s)){if(t)throw Error("Invalid Chai property: "+t+"."+s+'. See docs for proper usage of "'+t+'".');var l=null,u=4;throw i(n).forEach((function(e){if(!Object.prototype.hasOwnProperty(e)&&-1===a.indexOf(e)){var t=c(s,e,u);t<u&&(l=e,u=t)}})),null!==l?Error("Invalid Chai property: "+s+'. Did you mean "'+l+'"?'):Error("Invalid Chai property: "+s)}return-1!==a.indexOf(s)||r(n,"lockSsfi")||r(n,"ssfi",e),Reflect.get(n,s)}}):e}},2544:function(e,t,n){
/*!
 * Chai - test utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(1158);e.exports=function(e,t){var n=o(e,"negate"),r=t[0];return n?!r:r}},148:function(e){
/*!
 * Chai - transferFlags utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t,n){var o=e.__flags||(e.__flags=Object.create(null));for(var r in t.__flags||(t.__flags=Object.create(null)),n=3!==arguments.length||n,o)(n||"object"!==r&&"ssfi"!==r&&"lockSsfi"!==r&&"message"!=r)&&(t.__flags[r]=o[r])}},9457:function(e,t,n){n(6728);var o={utf8:{stringToBytes:function(e){return o.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(o.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=o},7143:function(e){"use strict";function t(e,t){return t instanceof Error&&e===t}function n(e,t){return t instanceof Error?e.constructor===t.constructor||e instanceof t.constructor:(t.prototype instanceof Error||t===Error)&&(e.constructor===t||e instanceof t)}function o(e,t){var n="string"===typeof e?e:e.message;return t instanceof RegExp?t.test(n):"string"===typeof t&&-1!==n.indexOf(t)}var r=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\(\/]+)/;function i(e){var t="";if("undefined"===typeof e.name){var n=String(e).match(r);n&&(t=n[1])}else t=e.name;return t}function s(e){var t=e;return e instanceof Error?t=i(e.constructor):"function"===typeof e&&(t=i(e).trim()||i(new e)),t}function a(e){var t="";return e&&e.message?t=e.message:"string"===typeof e&&(t=e),t}e.exports={compatibleInstance:t,compatibleConstructor:n,compatibleMessage:o,getMessage:a,getConstructorName:s}},3e3:function(e,t,n){var o,r;n(6728),
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)){if(o.length){var s=i.apply(null,o);s&&e.push(s)}}else if("object"===r){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var a in o)n.call(o,a)&&o[a]&&e.push(a)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):(o=[],r=function(){return i}.apply(t,o),void 0===r||(e.exports=r))}()},6538:function(e,t,n){n(6728),function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,o=0;n<e.length;n++,o+=8)t[o>>>5]|=e[n]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],o=0;o<e.length;o+=3)for(var r=e[o]<<16|e[o+1]<<8|e[o+2],i=0;i<4;i++)8*o+6*i<=8*e.length?n.push(t.charAt(r>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],o=0,r=0;o<e.length;r=++o%4)0!=r&&n.push((t.indexOf(e.charAt(o-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(o))>>>6-2*r);return n}};e.exports=n}()},4597:function(e,t,n){"use strict";n.d(t,{Z:function(){return q}});var o={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(e,t,n){var r,i=o[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},i=r,s=n(2899),a={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u={date:(0,s.Z)({formats:a,defaultWidth:"full"}),time:(0,s.Z)({formats:c,defaultWidth:"full"}),dateTime:(0,s.Z)({formats:l,defaultWidth:"full"})},p=u,d={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},h=function(e,t,n,o){return d[e]},f=h,g=n(3528),m={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},w={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},T=function(e,t){var n=Number(e),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},x={ordinalNumber:T,era:(0,g.Z)({values:m,defaultWidth:"wide"}),quarter:(0,g.Z)({values:y,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,g.Z)({values:v,defaultWidth:"wide"}),day:(0,g.Z)({values:b,defaultWidth:"wide"}),dayPeriod:(0,g.Z)({values:_,defaultWidth:"wide",formattingValues:w,defaultFormattingWidth:"wide"})},S=x,E=n(1159),k=n(5801),I=/^(\d+)(th|st|nd|rd)?/i,A=/\d+/i,R={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},O={any:[/^b/i,/^(a|c)/i]},C={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},j={any:[/1/i,/2/i,/3/i,/4/i]},N={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},P={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},M={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},U={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F={ordinalNumber:(0,k.Z)({matchPattern:I,parsePattern:A,valueCallback:function(e){return parseInt(e,10)}}),era:(0,E.Z)({matchPatterns:R,defaultMatchWidth:"wide",parsePatterns:O,defaultParseWidth:"any"}),quarter:(0,E.Z)({matchPatterns:C,defaultMatchWidth:"wide",parsePatterns:j,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,E.Z)({matchPatterns:N,defaultMatchWidth:"wide",parsePatterns:P,defaultParseWidth:"any"}),day:(0,E.Z)({matchPatterns:D,defaultMatchWidth:"wide",parsePatterns:M,defaultParseWidth:"any"}),dayPeriod:(0,E.Z)({matchPatterns:L,defaultMatchWidth:"any",parsePatterns:U,defaultParseWidth:"any"})},B=F,H={code:"en-US",formatDistance:i,formatLong:p,formatRelative:f,localize:S,match:B,options:{weekStartsOn:0,firstWeekContainsDate:1}},W=H,q=W},624:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var o={};function r(){return o}},5852:function(e,t,n){"use strict";function o(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{Z:function(){return o}})},2213:function(e,t,n){"use strict";function o(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return o}})},7210:function(e,t,n){"use strict";function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return o}})},2212:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var o=n(4081),r=n(7210),i=n(2722),s=n(2213);function a(e,t){(0,s.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,r.Z)(t);if(isNaN(o))return new Date(NaN);if(!o)return n;var a=n.getDate(),c=new Date(n.getTime());c.setMonth(n.getMonth()+o+1,0);var l=c.getDate();return a>=l?c:(n.setFullYear(c.getFullYear(),c.getMonth(),a),n)}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if((0,s.Z)(2,arguments),!t||"object"!==c(t))return new Date(NaN);var n=t.years?(0,r.Z)(t.years):0,l=t.months?(0,r.Z)(t.months):0,u=t.weeks?(0,r.Z)(t.weeks):0,p=t.days?(0,r.Z)(t.days):0,d=t.hours?(0,r.Z)(t.hours):0,h=t.minutes?(0,r.Z)(t.minutes):0,f=t.seconds?(0,r.Z)(t.seconds):0,g=(0,i.Z)(e),m=l||n?a(g,l+12*n):g,y=p||u?(0,o.Z)(m,p+7*u):m,v=h+60*d,b=f+60*v,_=1e3*b,w=new Date(y.getTime()+_);return w}},4081:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var o=n(7210),r=n(2722),i=n(2213);function s(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),s=(0,o.Z)(t);return isNaN(s)?new Date(NaN):s?(n.setDate(n.getDate()+s),n):n}},9720:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var o=n(7210),r=n(2722),i=n(2213);function s(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e).getTime(),s=(0,o.Z)(t);return new Date(n+s)}},5276:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var o=n(2213);function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return(0,o.Z)(1,arguments),e instanceof Date||"object"===r(e)&&"[object Date]"===Object.prototype.toString.call(e)}var s=n(2722);function a(e){if((0,o.Z)(1,arguments),!i(e)&&"number"!==typeof e)return!1;var t=(0,s.Z)(e);return!isNaN(Number(t))}var c=n(9720),l=n(7210);function u(e,t){(0,o.Z)(2,arguments);var n=(0,l.Z)(t);return(0,c.Z)(e,-n)}var p=864e5;function d(e){(0,o.Z)(1,arguments);var t=(0,s.Z)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/p)+1}function h(e){(0,o.Z)(1,arguments);var t=1,n=(0,s.Z)(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function f(e){(0,o.Z)(1,arguments);var t=(0,s.Z)(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=h(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var c=h(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function g(e){(0,o.Z)(1,arguments);var t=f(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=h(n);return r}var m=6048e5;function y(e){(0,o.Z)(1,arguments);var t=(0,s.Z)(e),n=h(t).getTime()-g(t).getTime();return Math.round(n/m)+1}var v=n(624);function b(e,t){var n,r,i,a,c,u,p,d;(0,o.Z)(1,arguments);var h=(0,v.j)(),f=(0,l.Z)(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==i?i:h.weekStartsOn)&&void 0!==r?r:null===(p=h.locale)||void 0===p||null===(d=p.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==n?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,s.Z)(e),m=g.getUTCDay(),y=(m<f?7:0)+m-f;return g.setUTCDate(g.getUTCDate()-y),g.setUTCHours(0,0,0,0),g}function _(e,t){var n,r,i,a,c,u,p,d;(0,o.Z)(1,arguments);var h=(0,s.Z)(e),f=h.getUTCFullYear(),g=(0,v.j)(),m=(0,l.Z)(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==i?i:g.firstWeekContainsDate)&&void 0!==r?r:null===(p=g.locale)||void 0===p||null===(d=p.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,m),y.setUTCHours(0,0,0,0);var _=b(y,t),w=new Date(0);w.setUTCFullYear(f,0,m),w.setUTCHours(0,0,0,0);var T=b(w,t);return h.getTime()>=_.getTime()?f+1:h.getTime()>=T.getTime()?f:f-1}function w(e,t){var n,r,i,s,a,c,u,p;(0,o.Z)(1,arguments);var d=(0,v.j)(),h=(0,l.Z)(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(c=a.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(u=d.locale)||void 0===u||null===(p=u.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1),f=_(e,t),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var m=b(g,t);return m}var T=6048e5;function x(e,t){(0,o.Z)(1,arguments);var n=(0,s.Z)(e),r=b(n,t).getTime()-w(n,t).getTime();return Math.round(r/T)+1}function S(e,t){var n=e<0?"-":"",o=Math.abs(e).toString();while(o.length<t)o="0"+o;return n+o}var E={y:function(e,t){var n=e.getUTCFullYear(),o=n>0?n:1-n;return S("yy"===t?o%100:o,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):S(n+1,2)},d:function(e,t){return S(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return S(e.getUTCHours()%12||12,t.length)},H:function(e,t){return S(e.getUTCHours(),t.length)},m:function(e,t){return S(e.getUTCMinutes(),t.length)},s:function(e,t){return S(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,o=e.getUTCMilliseconds(),r=Math.floor(o*Math.pow(10,n-3));return S(r,t.length)}},k=E,I={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},A={G:function(e,t,n){var o=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var o=e.getUTCFullYear(),r=o>0?o:1-o;return n.ordinalNumber(r,{unit:"year"})}return k.y(e,t)},Y:function(e,t,n,o){var r=_(e,o),i=r>0?r:1-r;if("YY"===t){var s=i%100;return S(s,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):S(i,t.length)},R:function(e,t){var n=f(e);return S(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return S(n,t.length)},Q:function(e,t,n){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return S(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,n){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return S(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,n){var o=e.getUTCMonth();switch(t){case"M":case"MM":return k.M(e,t);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,n){var o=e.getUTCMonth();switch(t){case"L":return String(o+1);case"LL":return S(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,n,o){var r=x(e,o);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):S(r,t.length)},I:function(e,t,n){var o=y(e);return"Io"===t?n.ordinalNumber(o,{unit:"week"}):S(o,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):k.d(e,t)},D:function(e,t,n){var o=d(e);return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):S(o,t.length)},E:function(e,t,n){var o=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,n,o){var r=e.getUTCDay(),i=(r-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return S(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,o){var r=e.getUTCDay(),i=(r-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return S(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){var o=e.getUTCDay(),r=0===o?7:o;switch(t){case"i":return String(r);case"ii":return S(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,n){var o=e.getUTCHours(),r=o/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var o,r=e.getUTCHours();switch(o=12===r?I.noon:0===r?I.midnight:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){var o,r=e.getUTCHours();switch(o=r>=17?I.evening:r>=12?I.afternoon:r>=4?I.morning:I.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var o=e.getUTCHours()%12;return 0===o&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return k.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):k.H(e,t)},K:function(e,t,n){var o=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(o,{unit:"hour"}):S(o,t.length)},k:function(e,t,n){var o=e.getUTCHours();return 0===o&&(o=24),"ko"===t?n.ordinalNumber(o,{unit:"hour"}):S(o,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):k.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):k.s(e,t)},S:function(e,t){return k.S(e,t)},X:function(e,t,n,o){var r=o._originalDate||e,i=r.getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return O(i);case"XXXX":case"XX":return C(i);case"XXXXX":case"XXX":default:return C(i,":")}},x:function(e,t,n,o){var r=o._originalDate||e,i=r.getTimezoneOffset();switch(t){case"x":return O(i);case"xxxx":case"xx":return C(i);case"xxxxx":case"xxx":default:return C(i,":")}},O:function(e,t,n,o){var r=o._originalDate||e,i=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+R(i,":");case"OOOO":default:return"GMT"+C(i,":")}},z:function(e,t,n,o){var r=o._originalDate||e,i=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+R(i,":");case"zzzz":default:return"GMT"+C(i,":")}},t:function(e,t,n,o){var r=o._originalDate||e,i=Math.floor(r.getTime()/1e3);return S(i,t.length)},T:function(e,t,n,o){var r=o._originalDate||e,i=r.getTime();return S(i,t.length)}};function R(e,t){var n=e>0?"-":"+",o=Math.abs(e),r=Math.floor(o/60),i=o%60;if(0===i)return n+String(r);var s=t||"";return n+String(r)+s+S(i,2)}function O(e,t){if(e%60===0){var n=e>0?"-":"+";return n+S(Math.abs(e)/60,2)}return C(e,t)}function C(e,t){var n=t||"",o=e>0?"-":"+",r=Math.abs(e),i=S(Math.floor(r/60),2),s=S(r%60,2);return o+i+n+s}var j=A,N=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},P=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},D=function(e,t){var n,o=e.match(/(P+)(p+)?/)||[],r=o[1],i=o[2];if(!i)return N(e,t);switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"});break}return n.replace("{{date}}",N(r,t)).replace("{{time}}",P(i,t))},M={p:P,P:D},L=M,U=n(5852),F=["D","DD"],B=["YY","YYYY"];function H(e){return-1!==F.indexOf(e)}function W(e){return-1!==B.indexOf(e)}function q(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var V=n(4597),z=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$=/^'([^]*?)'?$/,K=/''/g,Y=/[a-zA-Z]/;function Z(e,t,n){var r,i,c,p,d,h,f,g,m,y,b,_,w,T,x,S,E,k;(0,o.Z)(2,arguments);var I=String(t),A=(0,v.j)(),R=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:A.locale)&&void 0!==r?r:V.Z,O=(0,l.Z)(null!==(c=null!==(p=null!==(d=null!==(h=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==h?h:null===n||void 0===n||null===(f=n.locale)||void 0===f||null===(g=f.options)||void 0===g?void 0:g.firstWeekContainsDate)&&void 0!==d?d:A.firstWeekContainsDate)&&void 0!==p?p:null===(m=A.locale)||void 0===m||null===(y=m.options)||void 0===y?void 0:y.firstWeekContainsDate)&&void 0!==c?c:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=(0,l.Z)(null!==(b=null!==(_=null!==(w=null!==(T=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==T?T:null===n||void 0===n||null===(x=n.locale)||void 0===x||null===(S=x.options)||void 0===S?void 0:S.weekStartsOn)&&void 0!==w?w:A.weekStartsOn)&&void 0!==_?_:null===(E=A.locale)||void 0===E||null===(k=E.options)||void 0===k?void 0:k.weekStartsOn)&&void 0!==b?b:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!R.localize)throw new RangeError("locale must contain localize property");if(!R.formatLong)throw new RangeError("locale must contain formatLong property");var N=(0,s.Z)(e);if(!a(N))throw new RangeError("Invalid time value");var P=(0,U.Z)(N),D=u(N,P),M={firstWeekContainsDate:O,weekStartsOn:C,locale:R,_originalDate:N},F=I.match(G).map((function(e){var t=e[0];if("p"===t||"P"===t){var n=L[t];return n(e,R.formatLong)}return e})).join("").match(z).map((function(o){if("''"===o)return"'";var r=o[0];if("'"===r)return J(o);var i=j[r];if(i)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!W(o)||q(o,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!H(o)||q(o,t,String(e)),i(D,o,R.localize,M);if(r.match(Y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return o})).join("");return F}function J(e){var t=e.match($);return t?t[1].replace(K,"'"):e}},9030:function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return n.length>=t?e.apply(null,n.slice(0,t).reverse()):function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o(e,t,n.concat(i))}}n.d(t,{Z:function(){return o}})},6914:function(e,t,n){"use strict";var o=n(4081),r=n(9030);t["Z"]=(0,r.Z)(o.Z,2)},2241:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var o=n(2722),r=n(2213);function i(e,t){(0,r.Z)(2,arguments);var n=(0,o.Z)(e),i=(0,o.Z)(t);return n.getTime()>i.getTime()}var s=n(9030),a=(0,s.Z)(i,2)},5216:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var o=n(2722),r=n(2213);function i(e,t){(0,r.Z)(2,arguments);var n=(0,o.Z)(e),i=(0,o.Z)(t);return n.getTime()<i.getTime()}var s=n(9030),a=(0,s.Z)(i,2)},7368:function(e,t,n){"use strict";var o=n(5503),r=n(9030);t["Z"]=(0,r.Z)(o.Z,1)},2899:function(e,t,n){"use strict";function o(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,o=e.formats[n]||e.formats[e.defaultWidth];return o}}n.d(t,{Z:function(){return o}})},3528:function(e,t,n){"use strict";function o(e){return function(t,n){var o,r=null!==n&&void 0!==n&&n.context?String(n.context):"standalone";if("formatting"===r&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,c=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[a]}var l=e.argumentCallback?e.argumentCallback(t):t;return o[l]}}n.d(t,{Z:function(){return o}})},1159:function(e,t,n){"use strict";function o(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.width,s=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var c,l=a[0],u=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(u)?i(u,(function(e){return e.test(l)})):r(u,(function(e){return e.test(l)}));c=e.valueCallback?e.valueCallback(p):p,c=n.valueCallback?n.valueCallback(c):c;var d=t.slice(l.length);return{value:c,rest:d}}}function r(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function i(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}n.d(t,{Z:function(){return o}})},5801:function(e,t,n){"use strict";function o(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.match(e.matchPattern);if(!o)return null;var r=o[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(r.length);return{value:s,rest:a}}}n.d(t,{Z:function(){return o}})},5503:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var o=n(2722),r=n(2213);function i(e){(0,r.Z)(1,arguments);var t=(0,o.Z)(e);return t.setHours(0,0,0,0),t}},2722:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var o=n(2213);function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){(0,o.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===r(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},7397:function(e,t,n){"use strict";
/*!
 * deep-eql
 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */n(171),n(7093),n(6728);var o=n(9064);function r(){this._key="chai/deep-eql__"+Math.random()+Date.now()}r.prototype={get:function(e){return e[this._key]},set:function(e,t){Object.isExtensible(e)&&Object.defineProperty(e,this._key,{value:t,configurable:!0})}};var i="function"===typeof WeakMap?WeakMap:r;
/*!
 * Check to see if the MemoizeMap has recorded a result of the two operands
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @returns {Boolean|null} result
*/function s(e,t,n){if(!n||x(e)||x(t))return null;var o=n.get(e);if(o){var r=o.get(t);if("boolean"===typeof r)return r}return null}
/*!
 * Set the result of the equality into the MemoizeMap
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @param {Boolean} result
*/function a(e,t,n,o){if(n&&!x(e)&&!x(t)){var r=n.get(e);r?r.set(t,o):(r=new i,r.set(t,o),n.set(e,r))}}
/*!
 * Primary Export
 */function c(e,t,n){if(n&&n.comparator)return u(e,t,n);var o=l(e,t);return null!==o?o:u(e,t,n)}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t||!x(e)&&!x(t)&&null}
/*!
 * The main logic of the `deepEqual` function.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (optional) Additional options
 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
    references to blow the stack.
 * @return {Boolean} equal match
*/function u(e,t,n){n=n||{},n.memoize=!1!==n.memoize&&(n.memoize||new i);var r=n&&n.comparator,c=s(e,t,n.memoize);if(null!==c)return c;var u=s(t,e,n.memoize);if(null!==u)return u;if(r){var d=r(e,t);if(!1===d||!0===d)return a(e,t,n.memoize,d),d;var h=l(e,t);if(null!==h)return h}var f=o(e);if(f!==o(t))return a(e,t,n.memoize,!1),!1;a(e,t,n.memoize,!0);var g=p(e,t,f,n);return a(e,t,n.memoize,g),g}function p(e,t,n,o){switch(n){case"String":case"Number":case"Boolean":case"Date":return c(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return e===t;case"Error":return w(e,t,["name","message","code"],o);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return f(e,t,o);case"RegExp":return d(e,t);case"Generator":return g(e,t,o);case"DataView":return f(new Uint8Array(e.buffer),new Uint8Array(t.buffer),o);case"ArrayBuffer":return f(new Uint8Array(e),new Uint8Array(t),o);case"Set":return h(e,t,o);case"Map":return h(e,t,o);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return e.equals(t);case"Temporal.Duration":return e.total("nanoseconds")===t.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return e.toString()===t.toString();default:return T(e,t,o)}}
/*!
 * Compare two Regular Expressions for equality.
 *
 * @param {RegExp} leftHandOperand
 * @param {RegExp} rightHandOperand
 * @return {Boolean} result
 */function d(e,t){return e.toString()===t.toString()}
/*!
 * Compare two Sets/Maps for equality. Faster than other equality functions.
 *
 * @param {Set} leftHandOperand
 * @param {Set} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function h(e,t,n){if(e.size!==t.size)return!1;if(0===e.size)return!0;var o=[],r=[];return e.forEach((function(e,t){o.push([e,t])})),t.forEach((function(e,t){r.push([e,t])})),f(o.sort(),r.sort(),n)}
/*!
 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function f(e,t,n){var o=e.length;if(o!==t.length)return!1;if(0===o)return!0;var r=-1;while(++r<o)if(!1===c(e[r],t[r],n))return!1;return!0}
/*!
 * Simple equality for generator objects such as those returned by generator functions.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function g(e,t,n){return f(v(e),v(t),n)}
/*!
 * Determine if the given object has an @@iterator function.
 *
 * @param {Object} target
 * @return {Boolean} `true` if the object has an @@iterator function.
 */function m(e){return"undefined"!==typeof Symbol&&"object"===typeof e&&"undefined"!==typeof Symbol.iterator&&"function"===typeof e[Symbol.iterator]}
/*!
 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
 *
 * @param {Object} target
 * @returns {Array} an array of entries from the @@iterator function
 */function y(e){if(m(e))try{return v(e[Symbol.iterator]())}catch(t){return[]}return[]}
/*!
 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
 *
 * @param {Generator} target
 * @returns {Array} an array of entries from the Generator.
 */function v(e){var t=e.next(),n=[t.value];while(!1===t.done)t=e.next(),n.push(t.value);return n}
/*!
 * Gets all own and inherited enumerable keys from a target.
 *
 * @param {Object} target
 * @returns {Array} an array of own and inherited enumerable keys from the target.
 */function b(e){var t=[];for(var n in e)t.push(n);return t}function _(e){var t=Object.getOwnPropertySymbols(e);return t}
/*!
 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
 * each key. If any value of the given key is not equal, the function will return false (early).
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function w(e,t,n,o){var r=n.length;if(0===r)return!0;for(var i=0;i<r;i+=1)if(!1===c(e[n[i]],t[n[i]],o))return!1;return!0}
/*!
 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
 * for each enumerable key in the object.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function T(e,t,n){var o=b(e),r=b(t),i=_(e),s=_(t);if(o=o.concat(i),r=r.concat(s),o.length&&o.length===r.length)return!1!==f(S(o).sort(),S(r).sort())&&w(e,t,o,n);var a=y(e),c=y(t);return a.length&&a.length===c.length?(a.sort(),c.sort(),f(a,c,n)):0===o.length&&0===a.length&&0===r.length&&0===c.length}
/*!
 * Returns true if the argument is a primitive.
 *
 * This intentionally returns true for all objects that can be compared by reference,
 * including functions and symbols.
 *
 * @param {Mixed} value
 * @return {Boolean} result
 */function x(e){return null===e||"object"!==typeof e}function S(e){return e.map((function(e){return"symbol"===typeof e?e.toString():e}))}e.exports=c,e.exports.MemoizeMap=i},1236:function(e,t,n){"use strict";n.d(t,{IH:function(){return mt},Kz:function(){return _t},Iv:function(){return vt},xP:function(){return bt}});n(6728);var o=n(2396),r=n(5803),i=n(7626),s=n(8124),a=(n(5640),n(171),n(7093),n(3608));const c="@firebase/installations",l="0.5.4",u=1e4,p=`w:${l}`,d="FIS_v2",h="https://firebaseinstallations.googleapis.com/v1",f=36e5,g="installations",m="Installations",y={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},v=new i.LL(g,m,y);function b(e){return e instanceof i.ZR&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _({projectId:e}){return`${h}/projects/${e}/installations`}function w(e){return{token:e.token,requestStatus:2,expiresIn:k(e.expiresIn),creationTime:Date.now()}}async function T(e,t){const n=await t.json(),o=n.error;return v.create("request-failed",{requestName:e,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})}function x({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function S(e,{refreshToken:t}){const n=x(e);return n.append("Authorization",I(t)),n}async function E(e){const t=await e();return t.status>=500&&t.status<600?e():t}function k(e){return Number(e.replace("s","000"))}function I(e){return`${d} ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A(e,{fid:t}){const n=_(e),o=x(e),r={fid:t,authVersion:d,appId:e.appId,sdkVersion:p},i={method:"POST",headers:o,body:JSON.stringify(r)},s=await E((()=>fetch(n,i)));if(s.ok){const e=await s.json(),n={fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:w(e.authToken)};return n}throw await T("Create Installation",s)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(e){return new Promise((t=>{setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(e){const t=btoa(String.fromCharCode(...e));return t.replace(/\+/g,"-").replace(/\//g,"_")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C=/^[cdef][\w-]{21}$/,j="";function N(){try{const e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;const n=P(e);return C.test(n)?n:j}catch(e){return j}}function P(e){const t=O(e);return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=new Map;function L(e,t){const n=D(e);U(n,t),F(n,t)}function U(e,t){const n=M.get(e);if(n)for(const o of n)o(t)}function F(e,t){const n=H();n&&n.postMessage({key:e,fid:t}),W()}let B=null;function H(){return!B&&"BroadcastChannel"in self&&(B=new BroadcastChannel("[Firebase] FID Change"),B.onmessage=e=>{U(e.data.key,e.data.fid)}),B}function W(){0===M.size&&B&&(B.close(),B=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q="firebase-installations-database",V=1,z="firebase-installations-store";let G=null;function $(){return G||(G=(0,a.openDb)(q,V,(e=>{switch(e.oldVersion){case 0:e.createObjectStore(z)}}))),G}async function K(e,t){const n=D(e),o=await $(),r=o.transaction(z,"readwrite"),i=r.objectStore(z),s=await i.get(n);return await i.put(t,n),await r.complete,s&&s.fid===t.fid||L(e,t.fid),t}async function Y(e){const t=D(e),n=await $(),o=n.transaction(z,"readwrite");await o.objectStore(z).delete(t),await o.complete}async function Z(e,t){const n=D(e),o=await $(),r=o.transaction(z,"readwrite"),i=r.objectStore(z),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.complete,!a||s&&s.fid===a.fid||L(e,a.fid),a}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(e){let t;const n=await Z(e,(n=>{const o=X(n),r=Q(e,o);return t=r.registrationPromise,r.installationEntry}));return n.fid===j?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function X(e){const t=e||{fid:N(),registrationStatus:0};return oe(t)}function Q(e,t){if(0===t.registrationStatus){if(!navigator.onLine){const e=Promise.reject(v.create("app-offline"));return{installationEntry:t,registrationPromise:e}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=ee(e,n);return{installationEntry:n,registrationPromise:o}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:te(e)}:{installationEntry:t}}async function ee(e,t){try{const n=await A(e,t);return K(e,n)}catch(n){throw b(n)&&409===n.customData.serverCode?await Y(e):await K(e,{fid:t.fid,registrationStatus:0}),n}}async function te(e){let t=await ne(e);while(1===t.registrationStatus)await R(100),t=await ne(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await J(e);return n||t}return t}function ne(e){return Z(e,(e=>{if(!e)throw v.create("installation-not-found");return oe(e)}))}function oe(e){return re(e)?{fid:e.fid,registrationStatus:0}:e}function re(e){return 1===e.registrationStatus&&e.registrationTime+u<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ie({appConfig:e,platformLoggerProvider:t},n){const o=se(e,n),r=S(e,n),i=t.getImmediate({optional:!0});i&&r.append("x-firebase-client",i.getPlatformInfoString());const s={installation:{sdkVersion:p}},a={method:"POST",headers:r,body:JSON.stringify(s)},c=await E((()=>fetch(o,a)));if(c.ok){const e=await c.json(),t=w(e);return t}throw await T("Generate Auth Token",c)}function se(e,{fid:t}){return`${_(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ae(e,t=!1){let n;const o=await Z(e.appConfig,(o=>{if(!pe(o))throw v.create("not-registered");const r=o.authToken;if(!t&&de(r))return o;if(1===r.requestStatus)return n=ce(e,t),o;{if(!navigator.onLine)throw v.create("app-offline");const t=fe(o);return n=ue(e,t),t}})),r=n?await n:o.authToken;return r}async function ce(e,t){let n=await le(e.appConfig);while(1===n.authToken.requestStatus)await R(100),n=await le(e.appConfig);const o=n.authToken;return 0===o.requestStatus?ae(e,t):o}function le(e){return Z(e,(e=>{if(!pe(e))throw v.create("not-registered");const t=e.authToken;return ge(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}async function ue(e,t){try{const n=await ie(e,t),o=Object.assign(Object.assign({},t),{authToken:n});return await K(e.appConfig,o),n}catch(n){if(!b(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await K(e.appConfig,n)}else await Y(e.appConfig);throw n}}function pe(e){return void 0!==e&&2===e.registrationStatus}function de(e){return 2===e.requestStatus&&!he(e)}function he(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+f}function fe(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ge(e){return 1===e.requestStatus&&e.requestTime+u<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function me(e){const t=e,{installationEntry:n,registrationPromise:o}=await J(t.appConfig);return o?o.catch(console.error):ae(t).catch(console.error),n.fid}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ye(e,t=!1){const n=e;await ve(n.appConfig);const o=await ae(n,t);return o.token}async function ve(e){const{registrationPromise:t}=await J(e);t&&await t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function be(e){if(!e||!e.options)throw _e("App Configuration");if(!e.name)throw _e("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw _e(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function _e(e){return v.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we="installations",Te="installations-internal",xe=e=>{const t=e.getProvider("app").getImmediate(),n=be(t),r=(0,o.qX)(t,"platform-logger"),i={app:t,appConfig:n,platformLoggerProvider:r,_delete:()=>Promise.resolve()};return i},Se=e=>{const t=e.getProvider("app").getImmediate(),n=(0,o.qX)(t,we).getImmediate(),r={getId:()=>me(n),getToken:e=>ye(n,e)};return r};function Ee(){(0,o.Xd)(new s.wA(we,xe,"PUBLIC")),(0,o.Xd)(new s.wA(Te,Se,"PRIVATE"))}Ee(),(0,o.KN)(c,l),(0,o.KN)(c,l,"esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ke="analytics",Ie="firebase_id",Ae="origin",Re=6e4,Oe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ce="https://www.googletagmanager.com/gtag/js",je=new r.Yd("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ne(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Pe(e,t){const n=document.createElement("script");n.src=`${Ce}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function De(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Me(e,t,n,o,r,i){const s=o[r];try{if(s)await t[s];else{const e=await Ne(n),o=e.find((e=>e.measurementId===r));o&&await t[o.appId]}}catch(a){je.error(a)}e("config",r,i)}async function Le(e,t,n,o,r){try{let i=[];if(r&&r["send_to"]){let e=r["send_to"];Array.isArray(e)||(e=[e]);const o=await Ne(n);for(const n of e){const e=o.find((e=>e.measurementId===n)),r=e&&t[e.appId];if(!r){i=[];break}i.push(r)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",o,r||{})}catch(i){je.error(i)}}function Ue(e,t,n,o){async function r(r,i,s){try{"event"===r?await Le(e,t,n,i,s):"config"===r?await Me(e,t,n,o,i,s):e("set",i)}catch(a){je.error(a)}}return r}function Fe(e,t,n,o,r){let i=function(...e){window[o].push(arguments)};return window[r]&&"function"===typeof window[r]&&(i=window[r]),window[r]=Ue(i,e,t,n),{gtagCore:i,wrappedGtag:window[r]}}function Be(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Ce))return t;return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},We=new i.LL("analytics","Analytics",He),qe=30,Ve=1e3;class ze{constructor(e={},t=Ve){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ge=new ze;function $e(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ke(e){var t;const{appId:n,apiKey:o}=e,r={method:"GET",headers:$e(o)},i=Oe.replace("{app-id}",n),s=await fetch(i,r);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw We.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}async function Ye(e,t=Ge,n){const{appId:o,apiKey:r,measurementId:i}=e.options;if(!o)throw We.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:o};throw We.create("no-api-key")}const s=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Qe;return setTimeout((async()=>{a.abort()}),void 0!==n?n:Re),Ze({appId:o,apiKey:r,measurementId:i},s,a,t)}async function Ze(e,{throttleEndTimeMillis:t,backoffCount:n},o,r=Ge){const{appId:s,measurementId:a}=e;try{await Je(o,t)}catch(c){if(a)return je.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:s,measurementId:a};throw c}try{const t=await Ke(e);return r.deleteThrottleMetadata(s),t}catch(c){if(!Xe(c)){if(r.deleteThrottleMetadata(s),a)return je.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:s,measurementId:a};throw c}const t=503===Number(c.customData.httpStatus)?(0,i.$s)(n,r.intervalMillis,qe):(0,i.$s)(n,r.intervalMillis),l={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return r.setThrottleMetadata(s,l),je.debug(`Calling attemptFetch again in ${t} millis`),Ze(e,l,o,r)}}function Je(e,t){return new Promise(((n,o)=>{const r=Math.max(t-Date.now(),0),i=setTimeout(n,r);e.addEventListener((()=>{clearTimeout(i),o(We.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Xe(e){if(!(e instanceof i.ZR)||!e.customData)return!1;const t=Number(e.customData["httpStatus"]);return 429===t||500===t||503===t||504===t}class Qe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function et(){if(!(0,i.hl)())return je.warn(We.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,i.eu)()}catch(e){return je.warn(We.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}async function tt(e,t,n,o,r,i,s){var a;const c=Ye(e);c.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&je.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>je.error(e))),t.push(c);const l=et().then((e=>e?o.getId():void 0)),[u,p]=await Promise.all([c,l]);Be()||Pe(i,u.measurementId),r("js",new Date);const d=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return d[Ae]="firebase",d.update=!0,null!=p&&(d[Ie]=p),r("config",u.measurementId,d),u.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.app=e}_delete(){return delete ot[this.app.options.appId],Promise.resolve()}}let ot={},rt=[];const it={};let st,at,ct="dataLayer",lt="gtag",ut=!1;function pt(){const e=[];if((0,i.ru)()&&e.push("This is a browser extension environment."),(0,i.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=We.create("invalid-analytics-context",{errorInfo:t});je.warn(n.message)}}function dt(e,t,n){pt();const o=e.options.appId;if(!o)throw We.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw We.create("no-api-key");je.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ot[o])throw We.create("already-exists",{id:o});if(!ut){De(ct);const{wrappedGtag:e,gtagCore:t}=Fe(ot,rt,it,ct,lt);at=e,st=t,ut=!0}ot[o]=tt(e,rt,it,t,st,ct,n);const r=new nt(e);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ht(e,t,n,o,r){if(r&&r.global)e("event",n,o);else{const r=await t,i=Object.assign(Object.assign({},o),{send_to:r});e("event",n,i)}}async function ft(e,t,n,o){if(o&&o.global)return e("set",{user_id:n}),Promise.resolve();{const o=await t;e("config",o,{update:!0,user_id:n})}}async function gt(e,t,n,o){if(o&&o.global){const t={};for(const e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e("set",t),Promise.resolve()}{const o=await t;e("config",o,{update:!0,user_properties:n})}}function mt(e=(0,o.Mq)()){e=(0,i.m9)(e);const t=(0,o.qX)(e,ke);return t.isInitialized()?t.getImmediate():yt(e)}function yt(e,t={}){const n=(0,o.qX)(e,ke);if(n.isInitialized()){const e=n.getImmediate();if((0,i.vZ)(t,n.getOptions()))return e;throw We.create("already-initialized")}const r=n.initialize({options:t});return r}function vt(e,t,n){e=(0,i.m9)(e),ft(at,ot[e.app.options.appId],t,n).catch((e=>je.error(e)))}function bt(e,t,n){e=(0,i.m9)(e),gt(at,ot[e.app.options.appId],t,n).catch((e=>je.error(e)))}function _t(e,t,n,o){e=(0,i.m9)(e),ht(at,ot[e.app.options.appId],t,n,o).catch((e=>je.error(e)))}const wt="@firebase/analytics",Tt="0.7.4";function xt(){function e(e){try{const t=e.getProvider(ke).getImmediate();return{logEvent:(e,n,o)=>_t(t,e,n,o)}}catch(t){throw We.create("interop-component-reg-failed",{reason:t})}}(0,o.Xd)(new s.wA(ke,((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return dt(n,o,t)}),"PUBLIC")),(0,o.Xd)(new s.wA("analytics-internal",e,"PRIVATE")),(0,o.KN)(wt,Tt),(0,o.KN)(wt,Tt,"esm2017")}xt()},6772:function(e,t,n){"use strict";n.d(t,{B$:function(){return o.B$},IO:function(){return o.IO},JU:function(){return o.JU},Lx:function(){return o.Lx},PL:function(){return o.PL},Pb:function(){return o.Pb},QT:function(){return o.QT},TQ:function(){return o.TQ},Xk:function(){return o.Xk},Xo:function(){return o.Xo},ad:function(){return o.ad},ar:function(){return o.ar},b9:function(){return o.b9},cf:function(){return o.cf},hJ:function(){return o.hJ},kl:function(){return o.kl},pl:function(){return o.pl}});var o=n(9633)},3466:function(e){"use strict";var t=Function.prototype.toString,n=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;function o(e){if("function"!==typeof e)return null;var o="";if("undefined"===typeof Function.prototype.name&&"undefined"===typeof e.name){var r=t.call(e).match(n);r&&(o=r[1])}else o=e.name;return o}e.exports=o},6598:function(__unused_webpack_module,exports,__webpack_require__){__webpack_require__(1951),__webpack_require__(6728),__webpack_require__(171),__webpack_require__(7093);var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var o=e.length,r=0;r<o;r++){var i=e[r];if(t.call(n,i,r,e))return{i:r,v:i}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof __webpack_require__.g&&null!=__webpack_require__.g?__webpack_require__.g:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,n,o){if(t){for(n=$jscomp.global,e=e.split("."),o=0;o<e.length-1;o++){var r=e[o];r in n||(n[r]={}),n=n[r]}e=e[e.length-1],o=n[e],t=t(o),t!=o&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.checkStringArgs=function(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",(function(e){return e||function(e,t){var n=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var o=e.length;0<o&&0<t;)if(n[--t]!=e[--o])return!1;return 0>=o}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var n=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var o=n.length,r=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var i=0;i<r&&t<o;)if(n[t++]!=e[i++])return!1;return i>=r}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}}),"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.exportPath_=function(e,t,n){e=e.split("."),n=n||goog.global,e[0]in n||"undefined"==typeof n.execScript||n.execScript("var "+e[0]);for(var o;e.length&&(o=e.shift());)e.length||void 0===t?n=n[o]&&n[o]!==Object.prototype[o]?n[o]:n[o]={}:n[o]=t},goog.define=function(e,t){if(!COMPILED){var n=goog.global.CLOSURE_UNCOMPILED_DEFINES,o=goog.global.CLOSURE_DEFINES;n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)?t=n[e]:o&&void 0===o.nodeType&&Object.prototype.hasOwnProperty.call(o,e)&&(t=o[e])}return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var n=e;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if("string"!==typeof e||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return e=goog.getObjectByName(e),null!=e?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&("function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&null!=goog.getObjectByName(e)},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var n=0;n<e.length;n++)if(t=t[e[n]],null==t)return null;return t},goog.globalize=function(e,t){for(var n in t=t||goog.global,e)t[n]=e[n]},goog.addDependency=function(e,t,n,o){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,n,o)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var n=e.call(void 0,{});else{if("string"!==typeof e)throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),n=goog.loadModuleFromSource_.call(void 0,e)}var o=goog.moduleLoaderState_.moduleName;if("string"!==typeof o||!o)throw Error('Invalid module name "'+o+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(o,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof n&&null!=n&&Object.seal(n),goog.loadedModules_[o]={exports:n,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(n){return null}},goog.transpile_=function(e,t,n){var o=goog.global.$jscomp;o||(goog.global.$jscomp=o={});var r=o.transpile;if(!r){var i=goog.basePath+goog.TRANSPILER,s=goog.loadFileSync_(i);if(s){if(function(){(0,eval)(s+"\n//# sourceURL="+i)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,o=goog.global.$jscomp,r=o.transpile}}return r||(r=o.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),r(e,t,n)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return Object.prototype.hasOwnProperty.call(e,goog.UID_PROPERTY_)&&e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"===typeof e.clone)return e.clone();for(var n in t="array"==t?[]:{},e)t[n]=goog.cloneObject(e[n]);return t}return e},goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,o),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,n){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(o){}if("undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(o){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.defer=!1,n.appendChild(t.createTextNode(e)),t.head.appendChild(n),t.head.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var n=function(e){return goog.cssNameMapping_[e]||e},o=function(e){e=e.split("-");for(var t=[],o=0;o<e.length;o++)t.push(n(e[o]));return t.join("-")};return o=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:o:function(e){return e},e=t?e+"-"+o(t):o(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t,n){return n&&n.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,o){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var n=t.constructor,o=t.statics;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=goog.defineClass.createSealingConstructor_(n,e),e&&goog.inherits(n,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(n.prototype,t),null!=o&&(o instanceof Function?o(n):goog.defineClass.applyProperties_(n,o)),n},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var n=!goog.defineClass.isUnsealable_(t),o=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===o&&n&&Object.seal instanceof Function&&Object.seal(t),t};return o},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);for(var o=0;o<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;o++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(void 0!=goog.global.CLOSURE_BASE_PATH&&"string"===typeof goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(e=t?[t]:e.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var n=e[t].src,o=n.lastIndexOf("?");if(o=-1==o?n.length:o,"base.js"==n.substr(o-7,7)){goog.basePath=n.substr(0,o-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,n){e?d[t]=!0:n()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(h){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),a("es9",(function(){return b("({...rest} = {}), true")})),a("es_next",(function(){return!1})),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var n=this.createRequiresTranspilation_();this.requiresTranspilation_=n.map,this.transpilationTarget_=this.transpilationTarget_||n.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function n(){o&&(goog.global.setTimeout(o,0),o=null)}var o=t;if(e.length){t=[];for(var r=0;r<e.length;r++){var i=this.getPathFromDeps_(e[r]);if(!i)throw Error("Unregonized namespace: "+e[r]);t.push(this.dependencies_[i])}i=goog.require;var s=0;for(r=0;r<e.length;r++)i(e[r]),t[r].onLoad((function(){++s==e.length&&n()}))}else n()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){(e=this.getPathFromDeps_(e))&&(t||this.areDepsLoaded_(this.dependencies_[e].requires))&&(t=this.deferredCallbacks_[e])&&(delete this.deferredCallbacks_[e],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,n=[],o=function(e){var r=t.getPathFromDeps_(e);if(!r)throw Error("Bad dependency path or symbol: "+e);if(!t.written_[r]){for(t.written_[r]=!0,e=t.dependencies_[r],r=0;r<e.requires.length;r++)goog.isProvided_(e.requires[r])||o(e.requires[r]);n.push(e)}};o(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(n),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)(function(){var n=!1,o=e.depsToLoad_.shift(),r=!1;e.loading_(o);var i={pause:function(){if(n)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){n?e.resume_():t=!1},loaded:function(){if(r)throw Error("Double call to loaded.");r=!0,e.loaded_(o)},pending:function(){for(var t=[],n=0;n<e.loadingDeps_.length;n++)t.push(e.loadingDeps_[n]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,n){n&&(goog.loadedModules_[n]={exports:t,type:goog.ModuleType.ES6,moduleId:n||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(n)throw Error("Cannot register with defer after the call to load.");e.defer_(o,t)},areDepsLoaded:function(){return e.areDepsLoaded_(o.requires)}};try{o.load(i)}finally{n=!0}})();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var n=this.getPathFromDeps_(e[t]);if(!n||!(n in this.deferredCallbacks_)&&!goog.isProvided_(e[t]))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,n){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,n,o,r){this.path=e,this.relativePath=t,this.provides=n,this.requires=o,this.loadFlags=r,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&(e=e.substring(t+3),t=e.indexOf("/"),0<=t&&(e=e.substring(t+1))),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var n=goog.Dependency.callbackMap_[e],o=[],r=1;r<arguments.length;r++)o.push(arguments[r]);n.apply(void 0,o)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var n=goog.Dependency.registerCallback_((function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(n),e.loaded())})),o=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";o='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+n+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+o+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(o):o)}else{var r=t.createElement("script");r.defer=goog.Dependency.defer_,r.async=!1,r.type="text/javascript",(o=goog.getScriptNonce())&&r.setAttribute("nonce",o),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(e.loaded(),e.resume())}):r.onload=function(){r.onload=null,e.loaded()},r.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(r)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,n,o,r){goog.Dependency.call(this,e,t,n,o,r)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){function t(e,t){e=t?'<script type="module" crossorigin>'+t+"<\/script>":'<script type="module" crossorigin src="'+e+'"><\/script>',o.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(e):e)}function n(e,t){var n=o.createElement("script");n.defer=!0,n.async=!1,n.type="module",n.setAttribute("crossorigin",!0);var r=goog.getScriptNonce();r&&n.setAttribute("nonce",r),t?n.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(t):t:n.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(e):e,o.head.appendChild(n)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var o=goog.global.document,r=this;if(goog.isDocumentLoading_()){var i=t;goog.Dependency.defer_=!0}else i=n;var s=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(s),e.setModuleState(goog.ModuleType.ES6)}));i(void 0,'goog.Dependency.callback_("'+s+'")'),i(this.path,void 0);var a=goog.Dependency.registerCallback_((function(t){goog.Dependency.unregisterCallback_(a),e.registerEs6ModuleExports(r.path,t,goog.moduleLoaderState_.moduleName)}));i(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+a+'", m)');var c=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(c),e.clearModuleState(),e.loaded()}));i(void 0,'goog.Dependency.callback_("'+c+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,n,o,r){goog.Dependency.call(this,e,t,n,o,r),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){r.contents_=goog.loadFileSync_(r.path),r.contents_&&(r.contents_=r.transform(r.contents_),r.contents_&&(r.contents_+="\n//# sourceURL="+r.path))}function n(){if(r.lazyFetch_&&t(),r.contents_){i&&e.setModuleState(goog.ModuleType.ES6);try{var n=r.contents_;if(r.contents_=null,goog.globalEval(n),i)var o=goog.moduleLoaderState_.moduleName}finally{i&&e.clearModuleState()}i&&goog.global.$jscomp.require.ensure([r.getPathName()],(function(){e.registerEs6ModuleExports(r.path,goog.global.$jscomp.require(r.getPathName()),o)})),e.loaded()}}function o(){var e=goog.global.document,t=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(t),n()})),o='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>";e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(o):o)}var r=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var i=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var s=1<e.pending().length,a=s&&goog.DebugLoader_.IS_OLD_IE_;if(s=goog.Dependency.defer_&&(s||goog.isDocumentLoading_()),a||s)e.defer((function(){n()}));else{var c=goog.global.document;if(a=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,i&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!a){goog.Dependency.defer_=!0,e.pause();var l=c.onreadystatechange;c.onreadystatechange=function(){"interactive"==c.readyState&&(c.onreadystatechange=l,n(),e.resume()),goog.isFunction(l)&&l.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?o():n()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,n,o,r,i){goog.TransformedDependency.call(this,e,t,n,o,r),this.transpiler=i},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,n,o,r){goog.TransformedDependency.call(this,e,t,n,o,r)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,n,o,r,i,s){goog.TransformedDependency.call(this,e,t,n,o,r),this.needsTranspile_=i,this.transpiler_=s},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&void 0!==goog.global.JSON?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,n,o){t=t||[],e=e.replace(/\\/g,"/");var r=goog.normalizePath_(goog.basePath+e);for(o&&"boolean"!==typeof o||(o=o?{module:goog.ModuleType.GOOG}:{}),n=this.factory_.createDependency(r,e,t,n,o,goog.transpiler_.needsTranspile(o.lang||"es3",o.module)),this.dependencies_[r]=n,n=0;n<t.length;n++)this.idToPath_[t[n]]=r;this.idToPath_[e]=r},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,n,o,r,i){return r.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,n,o,r,i,this.transpiler):i?new goog.TranspiledDependency(e,t,n,o,r,this.transpiler):r.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,n,o,r):new goog.Es6ModuleDependency(e,t,n,o,r):new goog.Dependency(e,t,n,o,r)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null,n=goog.global.trustedTypes||goog.global.TrustedTypes;if(!n||!n.createPolicy)return t;try{t=n.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(o){goog.logToConsole_(o.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},goog.object.forEach=function(e,t,n){for(var o in e)t.call(n,e[o],o,e)},goog.object.filter=function(e,t,n){var o,r={};for(o in e)t.call(n,e[o],o,e)&&(r[o]=e[o]);return r},goog.object.map=function(e,t,n){var o,r={};for(o in e)r[o]=t.call(n,e[o],o,e);return r},goog.object.some=function(e,t,n){for(var o in e)if(t.call(n,e[o],o,e))return!0;return!1},goog.object.every=function(e,t,n){for(var o in e)if(!t.call(n,e[o],o,e))return!1;return!0},goog.object.getCount=function(e){var t,n=0;for(t in e)n++;return n},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,n=[],o=0;for(t in e)n[o++]=e[t];return n},goog.object.getKeys=function(e){var t,n=[],o=0;for(t in e)n[o++]=t;return n},goog.object.getValueByKeys=function(e,t){var n=goog.isArrayLike(t),o=n?t:arguments;for(n=n?0:1;n<o.length;n++){if(null==e)return;e=e[o[n]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},goog.object.findKey=function(e,t,n){for(var o in e)if(t.call(n,e[o],o,e))return o},goog.object.findValue=function(e,t,n){return(t=goog.object.findKey(e,t,n))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},goog.object.add=function(e,t,n){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,n)},goog.object.get=function(e,t,n){return null!==e&&t in e?e[t]:n},goog.object.set=function(e,t,n){e[t]=n},goog.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},goog.object.setWithReturnValueIfNotSet=function(e,t,n){return t in e?e[t]:(n=n(),e[t]=n)},goog.object.equals=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(var o in t)if(!(o in e))return!1;return!0},goog.object.clone=function(e){var t,n={};for(t in e)n[t]=e[t];return n},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var n in t="array"==t?[]:{},e)t[n]=goog.object.unsafeClone(e[n]);return t}return e},goog.object.transpose=function(e){var t,n={};for(t in e)n[e[t]]=t;return n},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var n,o,r=1;r<arguments.length;r++){for(n in o=arguments[r],o)e[n]=o[n];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)n=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var n={},o=0;o<t;o+=2)n[arguments[o]]=arguments[o+1];return n},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var n={},o=0;o<t;o++)n[arguments[o]]=!0;return n},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,n){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var o={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||n);){for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++)o[r[i]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(o)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(e,t,n,o){var r="Assertion failed";if(n){r+=": "+n;var i=o}else e&&(r+=": "+e,i=t);throw Error(""+r,i||[])},jspb.asserts.assert=function(e,t,n){for(var o=[],r=2;r<arguments.length;++r)o[r-2]=arguments[r];return e||jspb.asserts.doAssertFailure("",null,t,o),e},jspb.asserts.assertString=function(e,t,n){for(var o=[],r=2;r<arguments.length;++r)o[r-2]=arguments[r];return"string"!==typeof e&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(e),e],t,o),e},jspb.asserts.assertArray=function(e,t,n){for(var o=[],r=2;r<arguments.length;++r)o[r-2]=arguments[r];return Array.isArray(e)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(e),e],t,o),e},jspb.asserts.fail=function(e,t){for(var n=[],o=1;o<arguments.length;++o)n[o-1]=arguments[o];throw Error("Failure"+(e?": "+e:""),n)},jspb.asserts.assertInstanceof=function(e,t,n,o){for(var r=[],i=3;i<arguments.length;++i)r[i-3]=arguments[i];return e instanceof t||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(t),jspb.asserts.getType(e)],n,r),e},jspb.asserts.getType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,n=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return n.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return n.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return n.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return n.FIXED32;default:return n.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){e=e.split("%s");for(var n="",o=e.length-1,r=0;r<o;r++)n+=e[r]+(r<t.length?t[r]:"%s");return n+e[o]},goog.asserts.doAssertFailure_=function(e,t,n,o){var r="Assertion failed";if(n){r+=": "+n;var i=o}else e&&(r+=": "+e,i=t);e=new goog.asserts.AssertionError(""+r,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&"number"!==typeof e&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&"string"!==typeof e&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&"boolean"!==typeof e&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,n,o){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],n,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,"string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,n);for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==n?e.length-1:n)}:function(e,t,n){if(n=null==n?e.length-1:n,0>n&&(n=Math.max(0,e.length+n)),"string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.lastIndexOf(t,n);for(;0<=n;n--)if(n in e&&e[n]===t)return n;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,n){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var o=e.length,r="string"===typeof e?e.split(""):e,i=0;i<o;i++)i in r&&t.call(n,r[i],i,e)},goog.array.forEachRight=function(e,t,n){var o=e.length,r="string"===typeof e?e.split(""):e;for(--o;0<=o;--o)o in r&&t.call(n,r[o],o,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,n)}:function(e,t,n){for(var o=e.length,r=[],i=0,s="string"===typeof e?e.split(""):e,a=0;a<o;a++)if(a in s){var c=s[a];t.call(n,c,a,e)&&(r[i++]=c)}return r},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var o=e.length,r=Array(o),i="string"===typeof e?e.split(""):e,s=0;s<o;s++)s in i&&(r[s]=t.call(n,i[s],s,e));return r},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,n,o){return goog.asserts.assert(null!=e.length),o&&(t=goog.bind(t,o)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,o){var r=n;return goog.array.forEach(e,(function(n,i){r=t.call(o,r,n,i,e)})),r},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,n,o){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),o&&(t=goog.bind(t,o)),Array.prototype.reduceRight.call(e,t,n)}:function(e,t,n,o){var r=n;return goog.array.forEachRight(e,(function(n,i){r=t.call(o,r,n,i,e)})),r},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var o=e.length,r="string"===typeof e?e.split(""):e,i=0;i<o;i++)if(i in r&&t.call(n,r[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,n)}:function(e,t,n){for(var o=e.length,r="string"===typeof e?e.split(""):e,i=0;i<o;i++)if(i in r&&!t.call(n,r[i],i,e))return!1;return!0},goog.array.count=function(e,t,n){var o=0;return goog.array.forEach(e,(function(e,r,i){t.call(n,e,r,i)&&++o}),n),o},goog.array.find=function(e,t,n){return t=goog.array.findIndex(e,t,n),0>t?null:"string"===typeof e?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,n){for(var o=e.length,r="string"===typeof e?e.split(""):e,i=0;i<o;i++)if(i in r&&t.call(n,r[i],i,e))return i;return-1},goog.array.findRight=function(e,t,n){return t=goog.array.findIndexRight(e,t,n),0>t?null:"string"===typeof e?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,n){var o=e.length,r="string"===typeof e?e.split(""):e;for(--o;0<=o;o--)if(o in r&&t.call(n,r[o],o,e))return o;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!Array.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,n){goog.array.splice(e,n,0,t)},goog.array.insertArrayAt=function(e,t,n){goog.partial(goog.array.splice,e,n,0).apply(null,t)},goog.array.insertBefore=function(e,t,n){var o;2==arguments.length||0>(o=goog.array.indexOf(e,n))?e.push(t):goog.array.insertAt(e,t,o)},goog.array.remove=function(e,t){var n;return t=goog.array.indexOf(e,t),(n=0<=t)&&goog.array.removeAt(e,t),n},goog.array.removeLast=function(e,t){return t=goog.array.lastIndexOf(e,t),0<=t&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,n){return t=goog.array.findIndex(e,t,n),0<=t&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,n){var o=0;return goog.array.forEachRight(e,(function(r,i){t.call(n,r,i,e)&&goog.array.removeAt(e,i)&&o++})),o},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var n=Array(t),o=0;o<t;o++)n[o]=e[o];return n}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var n=1;n<arguments.length;n++){var o=arguments[n];if(goog.isArrayLike(o)){var r=e.length||0,i=o.length||0;e.length=r+i;for(var s=0;s<i;s++)e[r+s]=o[s]}else e.push(o)}},goog.array.splice=function(e,t,n,o){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,n){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)},goog.array.removeDuplicates=function(e,t,n){t=t||e;var o=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};n=n||o,o={};for(var r=0,i=0;i<e.length;){var s=e[i++],a=n(s);Object.prototype.hasOwnProperty.call(o,a)||(o[a]=!0,t[r++]=s)}t.length=r},goog.array.binarySearch=function(e,t,n){return goog.array.binarySearch_(e,n||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,n){return goog.array.binarySearch_(e,t,!0,void 0,n)},goog.array.binarySearch_=function(e,t,n,o,r){for(var i,s=0,a=e.length;s<a;){var c=s+(a-s>>>1),l=n?t.call(r,e[c],c,e):t(o,e[c]);0<l?s=c+1:(a=c,i=!l)}return i?s:-s-1},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var n=Array(e.length),o=0;o<e.length;o++)n[o]={index:o,value:e[o]};var r=t||goog.array.defaultCompare;for(goog.array.sort(n,(function(e,t){return r(e.value,t.value)||e.index-t.index})),o=0;o<e.length;o++)e[o]=n[o].value},goog.array.sortByKey=function(e,t,n){var o=n||goog.array.defaultCompare;goog.array.sort(e,(function(e,n){return o(t(e),t(n))}))},goog.array.sortObjectsByKey=function(e,t,n){goog.array.sortByKey(e,(function(e){return e[t]}),n)},goog.array.isSorted=function(e,t,n){t=t||goog.array.defaultCompare;for(var o=1;o<e.length;o++){var r=t(e[o-1],e[o]);if(0<r||0==r&&n)return!1}return!0},goog.array.equals=function(e,t,n){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var o=e.length;n=n||goog.array.defaultCompareEquality;for(var r=0;r<o;r++)if(!n(e[r],t[r]))return!1;return!0},goog.array.compare3=function(e,t,n){n=n||goog.array.defaultCompare;for(var o=Math.min(e.length,t.length),r=0;r<o;r++){var i=n(e[r],t[r]);if(0!=i)return i}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,n){return n=goog.array.binarySearch(e,t,n),0>n&&(goog.array.insertAt(e,t,-(n+1)),!0)},goog.array.binaryRemove=function(e,t,n){return t=goog.array.binarySearch(e,t,n),0<=t&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,n){for(var o={},r=0;r<e.length;r++){var i=e[r],s=t.call(n,i,r,e);void 0!==s&&(o[s]||(o[s]=[])).push(i)}return o},goog.array.toObject=function(e,t,n){var o={};return goog.array.forEach(e,(function(r,i){o[t.call(n,r,i,e)]=r})),o},goog.array.range=function(e,t,n){var o=[],r=0,i=e;if(n=n||1,void 0!==t&&(r=e,i=t),0>n*(i-r))return[];if(0<n)for(e=r;e<i;e+=n)o.push(e);else for(e=r;e>i;e+=n)o.push(e);return o},goog.array.repeat=function(e,t){for(var n=[],o=0;o<t;o++)n[o]=e;return n},goog.array.flatten=function(e){for(var t=[],n=0;n<arguments.length;n++){var o=arguments[n];if(Array.isArray(o))for(var r=0;r<o.length;r+=8192){var i=goog.array.slice(o,r,r+8192);i=goog.array.flatten.apply(null,i);for(var s=0;s<i.length;s++)t.push(i[s])}else t.push(o)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(t%=e.length,0<t?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,n){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=n&&n<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,n,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],n=arguments[0].length,o=1;o<arguments.length;o++)arguments[o].length<n&&(n=arguments[o].length);for(o=0;o<n;o++){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i][o]);t.push(r)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var n=e.length-1;0<n;n--){var o=Math.floor(t()*(n+1)),r=e[n];e[n]=e[o],e[o]=r}},goog.array.copyByIndex=function(e,t){var n=[];return goog.array.forEach(t,(function(t){n.push(e[t])})),n},goog.array.concatMap=function(e,t,n){return goog.array.concat.apply([],goog.array.map(e,t,n))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],n=0,o=0;o<e.length;o++){var r=e.charCodeAt(o);255<r&&(t[n++]=255&r,r>>=8),t[n++]=r}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",n=0;n<e.length;n+=8192){var o=goog.array.slice(e,n,n+8192);t+=String.fromCharCode.apply(null,o)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return e=e.toString(16),1<e.length?e:"0"+e})).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substring(n,n+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],n=0,o=0;o<e.length;o++){var r=e.charCodeAt(o);128>r?t[n++]=r:(2048>r?t[n++]=r>>6|192:(55296==(64512&r)&&o+1<e.length&&56320==(64512&e.charCodeAt(o+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++o)),t[n++]=r>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],n=0,o=0;n<e.length;){var r=e[n++];if(128>r)t[o++]=String.fromCharCode(r);else if(191<r&&224>r){var i=e[n++];t[o++]=String.fromCharCode((31&r)<<6|63&i)}else if(239<r&&365>r){i=e[n++];var s=e[n++],a=e[n++];r=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&a)-65536,t[o++]=String.fromCharCode(55296+(r>>10)),t[o++]=String.fromCharCode(56320+(1023&r))}else i=e[n++],s=e[n++],t[o++]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var n=[],o=0;o<e.length;o++)n.push(e[o]^t[o]);return n},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var n=goog.dom.asserts.getWindow_(e);n&&"undefined"!=typeof n[t]&&(e&&(e instanceof n[t]||!(e instanceof n.Location||e instanceof n.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(t){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,n=t&&(t.defaultView||t.parentWindow);if(n=n||goog.global,n.Element&&n.Location)return n}catch(o){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,n),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(n){return t?e==n:e===n}},goog.functions.compose=function(e,t){var n=arguments,o=n.length;return function(){var e;o&&(e=n[o-1].apply(this,arguments));for(var t=o-2;0<=t;t--)e=n[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,n=t.length;return function(){for(var e,o=0;o<n;o++)e=t[o].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var n=function(){};return n.prototype=e.prototype,n=new n,e.apply(n,Array.prototype.slice.call(arguments,1)),n},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,n=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(n||(t=e(),n=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,n){var o=0;return function(r){goog.global.clearTimeout(o);var i=arguments;o=goog.global.setTimeout((function(){e.apply(n,i)}),t)}},goog.functions.throttle=function(e,t,n){var o=0,r=!1,i=[],s=function(){o=0,r&&(r=!1,a())},a=function(){o=goog.global.setTimeout(s,t),e.apply(n,i)};return function(e){i=arguments,o?r=!0:a()}},goog.functions.rateLimit=function(e,t,n){var o=0,r=function(){o=0};return function(i){o||(o=goog.global.setTimeout(r,t),e.apply(n,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var n=[],o=1;o<arguments.length;o++)n.push(goog.html.SafeScript.stringify_(arguments[o]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+n.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(e){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(e){},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return void 0!==goog.global.URL&&void 0!==goog.global.URL.createObjectURL?goog.global.URL:void 0!==goog.global.webkitURL&&void 0!==goog.global.webkitURL.createObjectURL?goog.global.webkitURL:void 0!==goog.global.createObjectURL?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.fs.blob={},goog.fs.blob.getBlob=function(e){var t=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==t){t=new t;for(var n=0;n<arguments.length;n++)t.append(arguments[n]);return t.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(e,t,n){var o=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==o){o=new o;for(var r=0;r<e.length;r++)o.append(e[r],n);return o.getBlob(t)}if(void 0!==goog.global.Blob)return o={},t&&(o.type=t),n&&(o.endings=n),new Blob(e,o);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\ud801\ud804-\ud839\ud83c-\udbff豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\ud802-\ud803\ud83a-\ud83bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var n=0,o=0,r=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var i=e[t];goog.i18n.bidi.startsWithRtl(i)?(n++,o++):goog.i18n.bidi.isRequiredLtrRe_.test(i)?r=!0:goog.i18n.bidi.hasAnyLtr(i)?o++:goog.i18n.bidi.hasNumeralsRe_.test(i)&&(r=!0)}return 0==o?r?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:n/o>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(e,t){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var n=goog.html.TrustedResourceUrl.unwrap(this);n=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(n);var o=n[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",n[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",o,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,t){var n=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,o){if(!Object.prototype.hasOwnProperty.call(t,o))throw Error('Found marker, "'+o+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[o],e instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,n,o){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(n,o)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",n=0;n<e.length;n++)t+=goog.string.Const.unwrap(e[n]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.fromSafeScript=function(e){return e=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(e)],"text/javascript"),e=goog.fs.url.createObjectUrl(e),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){return e=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,n){if(null==n)return t;if("string"===typeof n)return n?e+encodeURIComponent(n):"";for(var o in n){var r=n[o];r=Array.isArray(r)?r:[r];for(var i=0;i<r.length;i++){var s=r[i];null!=s&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(o)+"="+encodeURIComponent(String(s)))}}return t},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return e=String(e).toLowerCase(),t=String(t).toLowerCase(),e<t?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var n=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var o=Math.max(e.length,t.length),r=0;0==n&&r<o;r++){var i=e[r]||"",s=t[r]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=0==i[1].length?0:parseInt(i[1],10);var a=0==s[1].length?0:parseInt(s[1],10);n=goog.string.internal.compareElements_(n,a)||goog.string.internal.compareElements_(0==i[2].length,0==s[2].length)||goog.string.internal.compareElements_(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return n},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.html.SafeUrl=function(e,t){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=e===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SafeUrl.isSafeMimeType(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromMediaSource=function(e){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),e=e instanceof MediaSource?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){e=e.replace(/(%0A|%0D)/g,"");var t=e.match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SafeUrl.isSafeMimeType(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),t=e.match(/[?&]body=/gi),!t)return!0;if(1<t.length)return!1;if(e=e.match(/[?&]body=([^&]*)/)[1],!e)return!0;try{decodeURIComponent(e)}catch(n){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,n){return(e=e.exec(t))?(e=e[1],-1==(n instanceof goog.string.Const?[goog.string.Const.unwrap(n)]:n.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e),t.getTypedStringValue()==e)?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,n="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var o=e[t];null!=o&&(o=Array.isArray(o)?goog.array.map(o,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(o),n+=t+":"+o+";")}return n?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(n):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,n=!0,o=0;o<e.length;o++){var r=e.charAt(o);"'"==r&&n?t=!t:'"'==r&&t&&(n=!n)}return t&&n},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,n=/^[-_a-zA-Z0-9]$/,o=0;o<e.length;o++){var r=e.charAt(o);if("]"==r){if(t)return!1;t=!0}else if("["==r){if(!t)return!1;t=!1}else if(!t&&!n.test(r))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,n,o){var r="";return n=n.replace(/^(['"])(.*)\1$/,(function(e,t,n){return r=t,n})),e=goog.html.SafeUrl.sanitize(n).getTypedStringValue(),t+r+e+r+o}))},goog.html.SafeStyle.concat=function(e){var t="",n=function(e){Array.isArray(e)?goog.array.forEach(e,n):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,n),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var n=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(n))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(n))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},n=[],o=0;o<e.length;o++){var r=e[o];if(t[r])n.push(t[r]);else if(goog.object.contains(t,r)&&n.pop()!=r)return!1}return 0==n.length},goog.html.SafeStyleSheet.concat=function(e){var t="",n=function(e){Array.isArray(e)?goog.array.forEach(e,n):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,n),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,n=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,o=[];t=n.exec(e);)o.push([t[1],t[2],t[3]||void 0]);return o},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,o),n[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var n={};goog.array.forEach(t,(function(e){n[e[0]]=e[1]}));var o=goog.partial(goog.object.containsKey,n);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS","HeadlessChrome"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var n=/MSIE +([\d\.]+)/.exec(e);if(n&&n[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==n[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=n[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,n=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(n=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),n)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(e){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("\x3c!--"+goog.string.internal.htmlEscape(e)+"--\x3e",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,n){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,n)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+e+">.":"");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+e+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(e,t,n,o){e&&goog.html.TrustedResourceUrl.unwrap(e);var r={};return r.src=e||null,r.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(r,{sandbox:""},n),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,o)},goog.html.SafeHtml.createSandboxIframe=function(e,t,n,o){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var r={};return r.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,r.srcdoc=t||null,r.sandbox="",e=goog.html.SafeHtml.combineAttributes(r,{},n),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,o)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var n in t){var o=n.toLowerCase();if("language"==o||"src"==o||"text"==o||"type"==o)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+o+'" attribute':"")}for(n="",e=goog.array.concat(e),o=0;o<e.length;o++)n+=goog.html.SafeScript.unwrap(e[o]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var n="";e=goog.array.concat(e);for(var o=0;o<e.length;o++)n+=goog.html.SafeStyleSheet.unwrap(e[o]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,n){if(n instanceof goog.string.Const)n=goog.string.Const.unwrap(n);else if("style"==t.toLowerCase()){if(!goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");n=goog.html.SafeHtml.getStyleValue_(n)}else{if(/^on/i.test(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" requires goog.string.Const value, "'+n+'" given.':"");if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(n instanceof goog.html.TrustedResourceUrl)n=goog.html.TrustedResourceUrl.unwrap(n);else if(n instanceof goog.html.SafeUrl)n=goog.html.SafeUrl.unwrap(n);else{if("string"!==typeof n)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+n+'" given.':"");n=goog.html.SafeUrl.sanitize(n).getTypedStringValue()}}return n.implementsGoogStringTypedString&&(n=n.getTypedStringValue()),goog.asserts.assert("string"===typeof n||"number"===typeof n,"String or number value expected, got "+typeof n+" with value: "+n),t+'="'+goog.string.internal.htmlEscape(String(n))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e:"");return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,n,o){return t=goog.html.SafeHtml.create(t,n,o),t.dir_=e,t},goog.html.SafeHtml.join=function(e,t){e=goog.html.SafeHtml.htmlEscape(e);var n=e.getDirection(),o=[],r=function(e){Array.isArray(e)?goog.array.forEach(e,r):(e=goog.html.SafeHtml.htmlEscape(e),o.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),n==goog.i18n.bidi.Dir.NEUTRAL?n=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&n!=e&&(n=null))};return goog.array.forEach(t,r),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o.join(goog.html.SafeHtml.unwrap(e)),n)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var n=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return n.dir_=e,n},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,n){var o=null,r="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return null==n?n=[]:Array.isArray(n)||(n=[n]),goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!n.length,"Void tag <"+e+"> does not allow content."),r+=">"):(o=goog.html.SafeHtml.concat(n),r+=">"+goog.html.SafeHtml.unwrap(o)+"</"+e+">",o=o.getDirection()),(e=t&&t.dir)&&(o=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,o)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var n="";if(t)for(var o in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(o))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+o+'".':"");var r=t[o];null!=r&&(n+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,o,r))}return n},goog.html.SafeHtml.combineAttributes=function(e,t,n){var o,r={};for(o in e)goog.asserts.assert(o.toLowerCase()==o,"Must be lower case"),r[o]=e[o];for(o in t)goog.asserts.assert(o.toLowerCase()==o,"Must be lower case"),r[o]=t[o];if(n)for(o in n){var i=o.toLowerCase();if(i in e)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+i+'" attribute, got "'+o+'" with value "'+n[o]+'"':"");i in t&&delete r[i],r[o]=n[o]}return r},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,n){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,n||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,n){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(n))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"===typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild)&&(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var n=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[n])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var n=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,n)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var n=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,n)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var n=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,n)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,n){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=n,goog.string.internal.caseInsensitiveContains(n,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.replaceLocation=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.openInWindow=function(e,t,n,o,r){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t=t||goog.global,n=n instanceof goog.string.Const?goog.string.Const.unwrap(n):n||"",t.open(goog.html.SafeUrl.unwrap(e),n,o,r)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,n){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),n)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return e=new goog.global.Image,e.onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var n=e.split("%s"),o="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)o+=n.shift()+r.shift();return o+n.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,n){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var o=e.toLowerCase().match(n),r=t.toLowerCase().match(n),i=Math.min(o.length,r.length),s=0;s<i;s++){n=o[s];var a=r[s];if(n!=a)return e=parseInt(n,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:n<a?-1:1}return o.length!=r.length?o.length-r.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},o=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var r=n[e];return r||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(r=String.fromCharCode(t))),r||(goog.dom.safe.setInnerHtml(o,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),r=o.firstChild.nodeValue.slice(0,-1)),n[e]=r)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var n=t.length,o=0;o<n;o++){var r=1==n?t:t.charAt(o);if(e.charAt(0)==r&&e.charAt(e.length-1)==r)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,n){return n&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),n&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,n,o){if(n&&(e=goog.string.unescapeEntities(e)),o&&e.length>t){o>t&&(o=t);var r=e.length-o;e=e.substring(0,t-o)+"..."+e.substring(r)}else e.length>t&&(o=Math.floor(t/2),r=e.length-o,e=e.substring(0,o+t%2)+"..."+e.substring(r));return n&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],n=0;n<e.length;n++){var o=e.charAt(n),r=o.charCodeAt(0);t[n+1]=goog.string.specialEscapeChars_[o]||(31<r&&127>r?o:goog.string.escapeChar(o))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=goog.string.escapeChar(e.charAt(n));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var n=e;else 256>t?(n="\\x",(16>t||256<t)&&(n+="0")):(n="\\u",4096>t&&(n+="0")),n+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=n},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,n){var o=e;return 0<=t&&t<e.length&&0<n&&(o=e.substr(0,t)+e.substr(t+n,e.length-t-n)),o},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,n){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,n.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,n){return e=void 0!==n?e.toFixed(n):String(e),n=e.indexOf("."),-1==n&&(n=e.length),goog.string.repeat("0",Math.max(0,t-n))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,n=0;n<e.length;++n)t=31*t+e.charCodeAt(n)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t="string"===typeof t?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),(function(e,t,n){return t+n.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),"string"===typeof e?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,n){e=e.split(t);for(var o=[];0<n&&e.length;)o.push(e.shift()),n--;return e.length&&o.push(e.join(t)),o},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var n=-1,o=0;o<t.length;o++)if(""!=t[o]){var r=e.lastIndexOf(t[o]);r>n&&(n=r)}return-1==n?e:e.slice(n+1)},goog.string.editDistance=function(e,t){var n=[],o=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var r=0;r<t.length+1;r++)n[r]=r;for(r=0;r<e.length;r++){o[0]=r+1;for(var i=0;i<t.length;i++)o[i+1]=Math.min(o[i]+1,n[i+1]+1,n[i]+Number(e[r]!=t[i]));for(i=0;i<n.length;i++)n[i]=o[i]}return o[t.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,n=goog.labs.userAgent.engine.getEngineTuple_(e);if(n)return"Gecko"==n[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):n[1];if(e=e[0],e&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var n=e[t];if("Edge"==n[0])return n}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?(t=/Windows (?:NT|Phone) ([0-9.]+)/,t=(e=t.exec(e))?e[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,t=(e=t.exec(e))&&e[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(t=/Mac OS X ([0-9_.]+)/,t=(e=t.exec(e))?e[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isKaiOS()?(t=/(?:KaiOS)\/(\S+)/i,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isAndroid()?(t=/Android\s+([^\);]+)(\)|;)/,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isChromeOS()&&(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,t=(e=t.exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(n){}return!1},goog.reflect.cache=function(e,t,n,o){return o=o?o(t):t,Object.prototype.hasOwnProperty.call(e,o)?e[o]:e[o]=n(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(t=goog.userAgent.getDocumentMode_(),null!=t&&t>parseFloat(e))?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var e=goog.userAgent.getDocumentMode_();return e||(parseInt(goog.userAgent.VERSION,10)||void 0)}}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var n=[],o=0;o<e.length;o+=3){var r=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,c=a?e[o+2]:0,l=r>>2;r=(3&r)<<4|s>>4,s=(15&s)<<2|c>>6,c&=63,a||(c=64,i||(s=64)),n.push(t[l],t[r],t[s]||"",t[c]||"")}return n.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var n="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){n+=String.fromCharCode(e)})),n},goog.crypt.base64.decodeStringToByteArray=function(e,t){var n=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){n.push(e)})),n},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,n=3*t/4;n%3?n=Math.floor(n):goog.crypt.base64.isPadding_(e[t-1])&&(n=goog.crypt.base64.isPadding_(e[t-2])?n-2:n-1);var o=new Uint8Array(n),r=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){o[r++]=e})),o.subarray(0,r)},goog.crypt.base64.decodeStringInternal_=function(e,t){function n(t){for(;o<e.length;){var n=e.charAt(o++),r=goog.crypt.base64.charToByteMap_[n];if(null!=r)return r;if(!goog.string.isEmptyOrWhitespace(n))throw Error("Unknown base64 encoding at char: "+n)}return t}goog.crypt.base64.init_();for(var o=0;;){var r=n(-1),i=n(0),s=n(64),a=n(64);if(64===a&&-1===r)break;t(r<<2|i>>4),64!=s&&(t(i<<4&240|s>>2),64!=a&&t(s<<6&192|a))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var o=e.concat(t[n].split(""));goog.crypt.base64.byteToCharMaps_[n]=o;for(var r=0;r<o.length;r++){var i=o[r],s=goog.crypt.base64.charToByteMap_[i];void 0===s?goog.crypt.base64.charToByteMap_[i]=r:goog.asserts.assert(s===r)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e;e=Math.abs(e);var n=e>>>0;e=Math.floor((e-n)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,n=1+(~n>>>0),4294967295<n&&(n=0,e++,4294967295<e&&(e=0))),jspb.utils.split64Low=n,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var n=jspb.utils.split64High;t&&(0==e?0==n?n=e=4294967295:(n--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=n},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(e=t?-e:e,0===e)0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var n=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-n),e=Math.round(e*jspb.BinaryConstants.TWO_TO_23),16777216<=e&&++n,jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|n+127<<23|8388607&e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(e=t?-e:e,0===e)jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var n=e/Math.pow(2,-1074);e=n/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=n>>>0}else{n=e;var o=0;if(2<=n)for(;2<=n&&1023>o;)o++,n/=2;else for(;1>n&&-1022<o;)n*=2,o--;n=e*Math.pow(2,-o),e=n*jspb.BinaryConstants.TWO_TO_20&1048575,n=n*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|o+1023<<20|e)>>>0,jspb.utils.split64Low=n}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),o=e.charCodeAt(2),r=e.charCodeAt(3),i=e.charCodeAt(4),s=e.charCodeAt(5),a=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(n<<8)+(o<<16)+(r<<24)>>>0,jspb.utils.split64High=i+(s<<8)+(a<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var n=2147483648&t;return n&&(e=1+~e>>>0,t=~t>>>0,0==e&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),n?-e:e},jspb.utils.toZigzag64=function(e,t,n){var o=t>>31;return n(e<<1^o,(t<<1|e>>>31)^o)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,n){var o=-(1&e);return n((e>>>1|t<<31)^o,t>>>1^o)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var n=e>>>23&255;return e&=8388607,255==n?e?NaN:1/0*t:0==n?t*Math.pow(2,-149)*e:t*Math.pow(2,n-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var n=2*(t>>31)+1,o=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==o?e?NaN:1/0*n:0==o?n*Math.pow(2,-1074)*e:n*Math.pow(2,o-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function n(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+jspb.utils.joinUint64(e,t);var o=(e>>>24|t<<8)>>>0&16777215;return t=t>>16&65535,e=(16777215&e)+6777216*o+6710656*t,o+=8147497*t,t*=2,1e7<=e&&(o+=Math.floor(e/1e7),e%=1e7),1e7<=o&&(t+=Math.floor(o/1e7),o%=1e7),n(t,0)+n(o,t)+n(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var n=2147483648&t;return n&&(e=1+~e>>>0,t=~t+(0==e?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),n?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var n=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,n):jspb.utils.joinUnsignedDecimalString(e,n)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var n=Array(e.length),o=0;o<e.length;o++)n[o]=jspb.utils.hash64ToDecimalString(e[o],t);return n},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var n=0;8>n&&(1!==e||0<t);n++)t=e*r[n]+t,r[n]=255&t,t>>>=8}function n(){for(var e=0;8>e;e++)r[e]=255&~r[e]}jspb.asserts.assert(0<e.length);var o=!1;"-"===e[0]&&(o=!0,e=e.slice(1));for(var r=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,e.charCodeAt(i)-jspb.utils.ZERO_CHAR_CODE_);return o&&(n(),t(1,1)),goog.crypt.byteArrayToString(r)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var n=0;8>n;n++){var o=e.charCodeAt(7-n);t[2*n+2]=jspb.utils.toHexDigit_(o>>4),t[2*n+3]=jspb.utils.toHexDigit_(15&o)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),jspb.asserts.assert(18==e.length),jspb.asserts.assert("0"==e[0]),jspb.asserts.assert("x"==e[1]);for(var t="",n=0;8>n;n++){var o=jspb.utils.fromHexCharCode_(e.charCodeAt(2*n+2)),r=jspb.utils.fromHexCharCode_(e.charCodeAt(2*n+3));t=String.fromCharCode(16*o+r)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var n=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,n):jspb.utils.joinUint64(e,n)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,n){for(var o=0,r=t;r<n;r++)o+=e[r]>>7;return n-t-o},jspb.utils.countVarintFields=function(e,t,n,o){var r=0;if(o=8*o+jspb.BinaryConstants.WireType.VARINT,128>o)for(;t<n&&e[t++]==o;)for(r++;;){var i=e[t++];if(0==(128&i))break}else for(;t<n;){for(i=o;128<i;){if(e[t]!=(127&i|128))return r;t++,i>>=7}if(e[t++]!=i)break;for(r++;i=e[t++],0!=(128&i););}return r},jspb.utils.countFixedFields_=function(e,t,n,o,r){var i=0;if(128>o)for(;t<n&&e[t++]==o;)i++,t+=r;else for(;t<n;){for(var s=o;128<s;){if(e[t++]!=(127&s|128))return i;s>>=7}if(e[t++]!=s)break;i++,t+=r}return i},jspb.utils.countFixed32Fields=function(e,t,n,o){return jspb.utils.countFixedFields_(e,t,n,8*o+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,n,o){return jspb.utils.countFixedFields_(e,t,n,8*o+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,n,o){var r=0;for(o=8*o+jspb.BinaryConstants.WireType.DELIMITED;t<n;){for(var i=o;128<i;){if(e[t++]!=(127&i|128))return r;i>>=7}if(e[t++]!=i)break;r++;for(var s=0,a=1;i=e[t++],s+=(127&i)*a,a*=128,0!=(128&i););t+=s}return r},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var n=0;n<e.length;n++)t+="\\x",16>e[n]&&(t+="0"),t+=e[n].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"===typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++){var o=e.charCodeAt(n);if(255<o)throw Error("Conversion error: string contains codepoint outside of byte range");t[n]=o}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):e instanceof Uint8Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,n){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,n)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,n){if(jspb.BinaryDecoder.instanceCache_.length){var o=jspb.BinaryDecoder.instanceCache_.pop();return e&&o.setBlock(e,t,n),o}return new jspb.BinaryDecoder(e,t,n)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,n){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==n?this.start_+n:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,n=0,o=0,r=0;4>r&&128<=t;r++)t=this.bytes_[this.cursor_++],n|=(127&t)<<7*r;if(128<=t&&(t=this.bytes_[this.cursor_++],n|=(127&t)<<28,o|=(127&t)>>4),128<=t)for(r=0;5>r&&128<=t;r++)t=this.bytes_[this.cursor_++],o|=(127&t)<<7*r+3;if(128>t)return e(n>>>0,o>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,n){return jspb.utils.fromZigzag64(t,n,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,n=this.cursor_;this.cursor_+=8;for(var o=0,r=0,i=n+7;i>=n;i--)o=o<<8|t[i],r=r<<8|t[i+4];return e(o,r)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],n=127&t;return 128>t?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),n):(t=e[this.cursor_+1],n|=(127&t)<<7,128>t?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),n):(t=e[this.cursor_+2],n|=(127&t)<<14,128>t?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),n):(t=e[this.cursor_+3],n|=(127&t)<<21,128>t?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),n):(t=e[this.cursor_+4],n|=(15&t)<<28,128>t?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),n>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),n)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|n<<16|o<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|n<<16|o<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,n=this.cursor_;e=n+e;for(var o=[],r="";n<e;){var i=t[n++];if(128>i)o.push(i);else{if(192>i)continue;if(224>i){var s=t[n++];o.push((31&i)<<6|63&s)}else if(240>i){s=t[n++];var a=t[n++];o.push((15&i)<<12|(63&s)<<6|63&a)}else if(248>i){s=t[n++],a=t[n++];var c=t[n++];i=(7&i)<<18|(63&s)<<12|(63&a)<<6|63&c,i-=65536,o.push(55296+(i>>10&1023),56320+(1023&i))}}8192<=o.length&&(r+=String.fromCharCode.apply(null,o),o.length=0)}return r+=goog.crypt.byteArrayToString(o),this.cursor_=n,r},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,jspb.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,n=e[t+0],o=e[t+1],r=e[t+2],i=e[t+3],s=e[t+4],a=e[t+5],c=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(n,o,r,i,s,a,c,e)},jspb.BinaryReader=function(e,t,n){this.decoder_=jspb.BinaryDecoder.alloc(e,t,n),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,n){if(jspb.BinaryReader.instanceCache_.length){var o=jspb.BinaryReader.instanceCache_.pop();return e&&o.decoder_.setBlock(e,t,n),o}return new jspb.BinaryReader(e,t,n)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,n){this.decoder_.setBlock(e,t,n),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return e&=7,e!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){var e=this.nextField_;do{if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}while(1)},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return jspb.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],jspb.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var n=this.decoder_.getEnd(),o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o,this.decoder_.setEnd(o),t(e,this),this.decoder_.setCursor(o),this.decoder_.setEnd(n)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(e,t,n){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==e),n(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),n=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(n),e},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,n){return jspb.utils.fromZigzag64(t,n,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var n=[];this.decoder_.getCursor()<t;)n.push(e.call(this.decoder_));return n},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,n){t.writeSplitVarint64(e>>>0,n>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){jspb.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){jspb.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){jspb.asserts.assert("boolean"===typeof e||"number"===typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){var t=this.buffer_.length;jspb.asserts.assertString(e);for(var n=0;n<e.length;n++){var o=e.charCodeAt(n);if(128>o)this.buffer_.push(o);else if(2048>o)this.buffer_.push(o>>6|192),this.buffer_.push(63&o|128);else if(65536>o)if(55296<=o&&56319>=o&&n+1<e.length){var r=e.charCodeAt(n+1);56320<=r&&57343>=r&&(o=1024*(o-55296)+r-56320+65536,this.buffer_.push(o>>18|240),this.buffer_.push(o>>12&63|128),this.buffer_.push(o>>6&63|128),this.buffer_.push(63&o|128),n++)}else this.buffer_.push(o>>12|224),this.buffer_.push(o>>6&63|128),this.buffer_.push(63&o|128)}return this.buffer_.length-t},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var n=65535&e;e>>>=16;var o=65535&t,r=t>>>16;for(t=n*o+65536*(n*r&65535)+65536*(e*o&65535),n=e*r+(n*r>>>16)+(e*o>>>16);4294967296<=t;)t-=4294967296,n+=1;return new jspb.arith.UInt64(t>>>0,n>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return e=jspb.arith.UInt64.mul32x32(this.hi,e),e.hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),n=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var o=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),o=o.leftShift();for(;!o.zero();)0>=e.cmp(n)&&(t=t.add(o),n=n.sub(e)),e=e.rightShift(),o=o.rightShift();return[t,n]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){t=t.div(10);var n=t[0];e=t[1].lo+e,t=n}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),n=new jspb.arith.UInt64(0,0),o=0;o<e.length;o++){if("0">e[o]||"9"<e[o])return null;var r=parseInt(e[o],10);n.lo=r,t=t.mul(10).add(n)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),e=jspb.arith.UInt64.fromString(e),null===e?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,jspb.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,n){this.appendUint8Array_(e.subarray(t,n))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,n){null!=e&&null!=t&&null!=n&&this.writeSerializedMessage(e,t,n)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,n=t.length,o=0,r=0;r<n;r++){var i=t[r];e.set(i,o),o+=i.length}return t=this.encoder_.end(),e.set(t,o),o+=t.length,jspb.asserts.assert(o==e.length),this.blocks_=[e],e},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){jspb.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,n){var o=jspb.BinaryConstants.FieldType;switch(e){case o.DOUBLE:this.writeDouble(t,n);break;case o.FLOAT:this.writeFloat(t,n);break;case o.INT64:this.writeInt64(t,n);break;case o.UINT64:this.writeUint64(t,n);break;case o.INT32:this.writeInt32(t,n);break;case o.FIXED64:this.writeFixed64(t,n);break;case o.FIXED32:this.writeFixed32(t,n);break;case o.BOOL:this.writeBool(t,n);break;case o.STRING:this.writeString(t,n);break;case o.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case o.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case o.BYTES:this.writeBytes(t,n);break;case o.UINT32:this.writeUint32(t,n);break;case o.ENUM:this.writeEnum(t,n);break;case o.SFIXED32:this.writeSfixed32(t,n);break;case o.SFIXED64:this.writeSfixed64(t,n);break;case o.SINT32:this.writeSint32(t,n);break;case o.SINT64:this.writeSint64(t,n);break;case o.FHASH64:this.writeFixedHash64(t,n);break;case o.VHASH64:this.writeVarintHash64(t,n);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(jspb.asserts.assert("boolean"===typeof t||"number"===typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(e,t,n){null!=t&&(e=this.beginDelimited_(e),n(t,this),this.endDelimited_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,n){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),n(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,n){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),n(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(jspb.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(jspb.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,n){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,n)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,n){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,n)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,n){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var o=this.encoder_;jspb.utils.toZigzag64(t,n,(function(e,t){o.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSignedVarint32_(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeInt32String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSignedVarint64_(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,n,o){if(null!=t)for(var r=0;r<t.length;r++)this.writeSplitFixed64(e,n(t[r]),o(t[r]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,n,o){if(null!=t)for(var r=0;r<t.length;r++)this.writeSplitVarint64(e,n(t[r]),o(t[r]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,n,o){if(null!=t)for(var r=0;r<t.length;r++)this.writeSplitZigzagVarint64(e,n(t[r]),o(t[r]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeInt64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUnsignedVarint32_(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUint32String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUnsignedVarint64_(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUint64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarint32_(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarint64_(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarint64String_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarintHash64_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixed32(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixed64(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixed64String(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSfixed32(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSfixed64(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSfixed64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFloat(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeDouble(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeBool(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeEnum(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeString(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeBytes(e,t[n])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,n){if(null!=t)for(var o=0;o<t.length;o++){var r=this.beginDelimited_(e);n(t[o],this),this.endDelimited_(r)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,n){if(null!=t)for(var o=0;o<t.length;o++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),n(t[o],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixedHash64(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeVarintHash64(e,t[n])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSignedVarint32(t[n]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSignedVarint32(parseInt(t[n],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSignedVarint64(t[n]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,n,o){if(null!=t){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSplitFixed64(n(t[r]),o(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,n,o){if(null!=t){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSplitVarint64(n(t[r]),o(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,n,o){if(null!=t){e=this.beginDelimited_(e);for(var r=this.encoder_,i=0;i<t.length;i++)jspb.utils.toZigzag64(n(t[i]),o(t[i]),(function(e,t){r.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++){var o=jspb.arith.Int64.fromString(t[n]);this.encoder_.writeSplitVarint64(o.lo,o.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeUnsignedVarint32(t[n]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeUnsignedVarint32(parseInt(t[n],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeUnsignedVarint64(t[n]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++){var o=jspb.arith.UInt64.fromString(t[n]);this.encoder_.writeSplitVarint64(o.lo,o.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarint32(t[n]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarint64(t[n]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[n]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarintHash64(t[n]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var n=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(n.lo,n.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeEnum(t[n]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeVarintHash64(t[n]);this.endDelimited_(e)}},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],n=t[0];this.map_[n.toString()]=new jspb.Map.Entry_(n,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var n=t[e].valueWrapper;n&&n.toArray()}}}else{for(this.arr_.length=0,t=this.stringKeys_(),t.sort(),e=0;e<t.length;e++){var o=this.map_[t[e]];(n=o.valueWrapper)&&n.toArray(),this.arr_.push([o.key,o.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(e,t){for(var n=this.toArray(),o=[],r=0;r<n.length;r++){var i=this.map_[n[r][0].toString()];this.wrapEntry_(i);var s=i.valueWrapper;s?(jspb.asserts.assert(t),o.push([i.key,t(e,s)])):o.push([i.key,i.value])}return o},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(e,t,n){t=new jspb.Map([],t);for(var o=0;o<e.length;o++){var r=e[o][0],i=n(e[o][1]);t.set(r,i)}return t},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++){var o=this.map_[t[n]];e.push([o.key,o.value])}return e},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++){var o=this.map_[t[n]];e.push([o.key,this.wrapEntry_(o)])}return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++)e.push(this.map_[t[n]].key);return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++)e.push(this.wrapEntry_(this.map_[t[n]]));return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(e,t){var n=this.stringKeys_();n.sort();for(var o=0;o<n.length;o++){var r=this.map_[n[o]];e.call(t,this.wrapEntry_(r),r.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(e,t){var n=new jspb.Map.Entry_(e);return this.valueCtor_?(n.valueWrapper=t,n.value=t.toArray()):n.value=t,this.map_[e.toString()]=n,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(e){return e.toString()in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(e,t,n,o,r){var i=this.stringKeys_();i.sort();for(var s=0;s<i.length;s++){var a=this.map_[i[s]];t.beginSubMessage(e),n.call(t,1,a.key),this.valueCtor_?o.call(t,2,this.wrapEntry_(a),r):o.call(t,2,a.value),t.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(e,t,n,o,r,i,s){for(;t.nextField()&&!t.isEndGroup();){var a=t.getFieldNumber();1==a?i=n.call(t):2==a&&(e.valueCtor_?(jspb.asserts.assert(r),s||(s=new e.valueCtor_),o.call(t,s,r)):s=o.call(t))}jspb.asserts.assert(void 0!=i),jspb.asserts.assert(void 0!=s),e.set(i,s)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,n,o,r){this.fieldIndex=e,this.fieldName=t,this.ctor=n,this.toObjectFn=o,this.isRepeated=r},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(e,t,n,o,r,i){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=n,this.binaryMessageSerializeFn=o,this.binaryMessageDeserializeFn=r,this.isPacked=i},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,n,o,r,i){if(e.wrappers_=null,t||(t=n?[n]:[]),e.messageId_=n?String(n):void 0,e.arrayIndexOffset_=0===n?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,o),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=r),r)for(t=0;t<r.length;t++)n=r[t],n<e.pivot_?(n=jspb.Message.getIndex_(e,n),e.array[n]=e.array[n]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[n]=e.extensionObject_[n]||jspb.Message.EMPTY_LIST_SENTINEL_);if(i&&i.length)for(t=0;t<i.length;t++)jspb.Message.computeOneofCase(e,i[t])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return null!==e&&"object"==typeof e&&!jspb.Message.isArray_(e)&&!(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var n=e.array.length,o=-1;if(n&&(o=n-1,n=e.array[o],jspb.Message.isExtensionObject_(n)))return e.pivot_=jspb.Message.getFieldNumber_(e,o),void(e.extensionObject_=n);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,o+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,n){for(var o=[],r=0;r<e.length;r++)o[r]=t.call(e[r],n,e[r]);return o},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(e,t,n,o,r){for(var i in n){var s=n[i],a=o.call(e,s);if(null!=a){for(var c in s.fieldName)if(s.fieldName.hasOwnProperty(c))break;t[c]=s.toObjectFn?s.isRepeated?jspb.Message.toObjectList(a,s.toObjectFn,r):s.toObjectFn(r,a):a}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(e,t,n,o){for(var r in n){var i=n[r],s=i.fieldInfo;if(!i.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var a=o.call(e,s);if(null!=a)if(s.isMessageType()){if(!i.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");i.binaryWriterFn.call(t,s.fieldIndex,a,i.binaryMessageSerializeFn)}else i.binaryWriterFn.call(t,s.fieldIndex,a)}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(e,t,n,o,r){var i=n[t.getFieldNumber()];if(i){if(n=i.fieldInfo,!i.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(n.isMessageType()){var s=new n.ctor;i.binaryReaderFn.call(t,s,i.binaryMessageDeserializeFn)}else s=i.binaryReaderFn.call(t);n.isRepeated&&!i.isPacked?(t=o.call(e,n))?t.push(s):r.call(e,n,[s]):r.call(e,n,s)}else t.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var n=e.array[t];return n===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:n}if(e.extensionObject_)return n=e.extensionObject_[t],n===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:n},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(e,t){return e=jspb.Message.getField(e,t),null==e?e:+e},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(e,t){return e=jspb.Message.getField(e,t),null==e?e:!!e},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(e,t){var n=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var o=0;o<n.length;o++)n[o]=+n[o];e.convertedPrimitiveFields_[t]=!0}return n},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(e,t){var n=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var o=0;o<n.length;o++)n[o]=!!n[o];e.convertedPrimitiveFields_[t]=!0}return n},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(e){return null==e||"string"===typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"===typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!==typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,n){return e=jspb.Message.getField(e,t),null==e?n:e},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(e,t,n){return e=jspb.Message.getBooleanField(e,t),null==e?n:e},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(e,t,n){return e=jspb.Message.getOptionalFloatingPointField(e,t),null==e?n:e},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(e,t,n,o){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var r=jspb.Message.getField(e,t);if(!r){if(n)return;r=[],jspb.Message.setField(e,t,r)}return e.wrappers_[t]=new jspb.Map(r,o)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(e,t,n){return jspb.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=n:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=n),e},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(e,t,n,o){return jspb.asserts.assertInstanceof(e,jspb.Message),n!==o?jspb.Message.setField(e,t,n):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,n,o){return jspb.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),void 0!=o?t.splice(o,0,n):t.push(n),e},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(e,t,n,o){return jspb.asserts.assertInstanceof(e,jspb.Message),(n=jspb.Message.computeOneofCase(e,n))&&n!==t&&void 0!==o&&(e.wrappers_&&n in e.wrappers_&&(e.wrappers_[n]=void 0),jspb.Message.setField(e,n,void 0)),jspb.Message.setField(e,t,o)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(e,t){for(var n,o,r=0;r<t.length;r++){var i=t[r],s=jspb.Message.getField(e,i);null!=s&&(n=i,o=s,jspb.Message.setField(e,i,void 0))}return n?(jspb.Message.setField(e,n,o),n):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(e,t,n,o){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[n]){var r=jspb.Message.getField(e,n);(o||r)&&(e.wrappers_[n]=new t(r))}return e.wrappers_[n]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(e,t,n){return jspb.Message.wrapRepeatedField_(e,t,n),t=e.wrappers_[n],t==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[n]=[]),t},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(e,t,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[n]){for(var o=jspb.Message.getRepeatedField(e,n),r=[],i=0;i<o.length;i++)r[i]=new t(o[i]);e.wrappers_[n]=r}},jspb.Message.setWrapperField=function(e,t,n){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var o=n?n.toArray():n;return e.wrappers_[t]=n,jspb.Message.setField(e,t,o)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(e,t,n,o){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var r=o?o.toArray():o;return e.wrappers_[t]=o,jspb.Message.setOneofField(e,t,n,r)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(e,t,n){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),n=n||[];for(var o=[],r=0;r<n.length;r++)o[r]=n[r].toArray();return e.wrappers_[t]=n,jspb.Message.setField(e,t,o)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(e,t,n,o,r){jspb.Message.wrapRepeatedField_(e,o,t);var i=e.wrappers_[t];return i||(i=e.wrappers_[t]=[]),n=n||new o,e=jspb.Message.getRepeatedField(e,t),void 0!=r?(i.splice(r,0,n),e.splice(r,0,n.toArray())):(i.push(n),e.push(n.toArray())),n},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(e,t,n,o){for(var r={},i=0;i<e.length;i++)r[t.call(e[i])]=n?n.call(e[i],o,e[i]):e[i];return r},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&t[n].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var n=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[n]=t,this.extensionObject_[n]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[n]=t):e.isMessageType()?(this.wrappers_[n]=t,this.extensionObject_[n]=t?t.toArray():t):this.extensionObject_[n]=t,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var n=e.toArray();t=t.toArray();var o=[],r=0,i=n.length>t.length?n.length:t.length;for(e.getJsPbMessageId()&&(o[0]=e.getJsPbMessageId(),r=1);r<i;r++)jspb.Message.compareFields(n[r],t[r])||(o[r]=t[r]);return new e.constructor(o)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var n,o={};for(n in e)o[n]=0;for(n in t)o[n]=0;for(n in o)if(!jspb.Message.compareFields(e[n],t[n]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"===typeof e&&isNaN(e)||"number"===typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}if(e.constructor===Array){var o=void 0,r=void 0,i=Math.max(e.length,t.length);for(n=0;n<i;n++){var s=e[n],a=t[n];if(s&&s.constructor==Object&&(jspb.asserts.assert(void 0===o),jspb.asserts.assert(n===e.length-1),o=s,s=void 0),a&&a.constructor==Object&&(jspb.asserts.assert(void 0===r),jspb.asserts.assert(n===t.length-1),r=a,a=void 0),!jspb.Message.compareFields(s,a))return!1}return!o&&!r||(o=o||{},r=r||{},jspb.Message.compareExtensions(o,r))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){jspb.asserts.assertInstanceof(e,jspb.Message),jspb.asserts.assertInstanceof(t,jspb.Message),jspb.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var n=t.toArray(),o=e.toArray(),r=n.length=0;r<o.length;r++)n[r]=o[r];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var t=Array(e.length),n=0;n<e.length;n++){var o=e[n];null!=o&&(t[n]="object"==typeof o?jspb.Message.clone_(jspb.asserts.assert(o)):o)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(n in t={},e)o=e[n],null!=o&&(t[n]="object"==typeof o?jspb.Message.clone_(jspb.asserts.assert(o)):o);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf},3608:function(e,t,n){n(6728),function(e,n){n(t)}(0,(function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function o(e,t,o){var r,i=new Promise((function(i,s){r=e[t].apply(e,o),n(r).then(i,s)}));return i.request=r,i}function r(e,t,n){var r=o(e,t,n);return r.then((function(e){if(e)return new u(e,r.request)}))}function i(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return o(this[t],r,arguments)})}))}function a(e,t,n,o){o.forEach((function(o){o in n.prototype&&(e.prototype[o]=function(){return this[t][o].apply(this[t],arguments)})}))}function c(e,t,n,o){o.forEach((function(o){o in n.prototype&&(e.prototype[o]=function(){return r(this[t],o,arguments)})}))}function l(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function p(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function h(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function f(e){this._db=e}function g(e,t,n){var r=o(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(e){n&&n(new h(i.result,e.oldVersion,i.transaction))}),r.then((function(e){return new f(e)}))}function m(e){return o(indexedDB,"deleteDatabase",[e])}i(l,"_index",["name","keyPath","multiEntry","unique"]),s(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(u,"_cursor",["direction","key","primaryKey","value"]),s(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var t=this,o=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,o),n(t._request).then((function(e){if(e)return new u(e,t._request)}))}))})})),p.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},p.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},i(p,"_store",["name","keyPath","indexNames","autoIncrement"]),s(p,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(p,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(p,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new p(this._tx.objectStore.apply(this._tx,arguments))},i(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),h.prototype.createObjectStore=function(){return new p(this._db.createObjectStore.apply(this._db,arguments))},i(h,"_db",["name","version","objectStoreNames"]),a(h,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},i(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[p,l].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),o=n[n.length-1],r=this._store||this._index,i=r[e].apply(r,n.slice(0,-1));i.onsuccess=function(){o(i.result)}})}))})),[l,p].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,o=[];return new Promise((function(r){n.iterateCursor(e,(function(e){e?(o.push(e.value),void 0===t||o.length!=t?e.continue():r(o)):r(o)}))}))})})),e.openDb=g,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}))},6389:function(e,t,n){n(6728),n(1951),function(e,n){n(t)}(0,(function(e){"use strict";function t(e){return t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function o(e,t){return r(e)||i(e,t)||s(e,t)||c()}function r(e){if(Array.isArray(e))return e}function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){r=!0,i=c}finally{try{o||null==a["return"]||a["return"]()}finally{if(r)throw i}}return n}}function s(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},u={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},p="…";function d(e,t){var n=l[u[t]]||l[t];return n?"[".concat(n[0],"m").concat(String(e),"[").concat(n[1],"m"):String(e)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showHidden,n=void 0!==t&&t,o=e.depth,r=void 0===o?2:o,i=e.colors,s=void 0!==i&&i,a=e.customInspect,c=void 0===a||a,l=e.showProxy,u=void 0!==l&&l,p=e.maxArrayLength,h=void 0===p?1/0:p,f=e.breakLength,g=void 0===f?1/0:f,m=e.seen,y=void 0===m?[]:m,v=e.truncate,b=void 0===v?1/0:v,_=e.stylize,w=void 0===_?String:_,T={showHidden:Boolean(n),depth:Number(r),colors:Boolean(s),customInspect:Boolean(c),showProxy:Boolean(u),maxArrayLength:Number(h),breakLength:Number(g),truncate:Number(b),seen:y,stylize:w};return T.colors&&(T.stylize=d),T}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;e=String(e);var o=n.length,r=e.length;return o>t&&r>o?n:r>t&&r>o?"".concat(e.slice(0,t-o)).concat(n):e}function g(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:", ";n=n||t.inspect;var r=e.length;if(0===r)return"";for(var i=t.truncate,s="",a="",c="",l=0;l<r;l+=1){var u=l+1===e.length,d=l+2===e.length;c="".concat(p,"(").concat(e.length-l,")");var h=e[l];t.truncate=i-s.length-(u?0:o.length);var f=a||n(h,t)+(u?"":o),g=s.length+f.length,m=g+c.length;if(u&&g>i&&s.length+c.length<=i)break;if(!u&&!d&&m>i)break;if(a=u?"":n(e[l+1],t)+(d?"":o),!u&&d&&m>i&&g+a.length>i)break;if(s+=f,!u&&!d&&g+a.length>=i){c="".concat(p,"(").concat(e.length-l-1,")");break}c=""}return"".concat(s).concat(c)}function m(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function y(e,t){var n=o(e,2),r=n[0],i=n[1];return t.truncate-=2,"string"===typeof r?r=m(r):"number"!==typeof r&&(r="[".concat(t.inspect(r,t),"]")),t.truncate-=r.length,i=t.inspect(i,t),"".concat(r,": ").concat(i)}function v(e,t){var n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;var o=g(e,t);t.truncate-=o.length;var r="";return n.length&&(r=g(n.map((function(t){return[t,e[t]]})),t,y)),"[ ".concat(o).concat(r?", ".concat(r):""," ]")}var b=Function.prototype.toString,_=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;function w(e){if("function"!==typeof e)return null;var t="";if("undefined"===typeof Function.prototype.name&&"undefined"===typeof e.name){var n=b.call(e).match(_);n&&(t=n[1])}else t=e.name;return t}var T=w,x=function(e){return"function"===typeof Buffer&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:T(e.constructor)};function S(e,t){var n=x(e);t.truncate-=n.length+4;var o=Object.keys(e).slice(e.length);if(!e.length&&!o.length)return"".concat(n,"[]");for(var r="",i=0;i<e.length;i++){var s="".concat(t.stylize(f(e[i],t.truncate),"number")).concat(i===e.length-1?"":", ");if(t.truncate-=s.length,e[i]!==e.length&&t.truncate<=3){r+="".concat(p,"(").concat(e.length-e[i]+1,")");break}r+=s}var a="";return o.length&&(a=g(o.map((function(t){return[t,e[t]]})),t,y)),"".concat(n,"[ ").concat(r).concat(a?", ".concat(a):""," ]")}function E(e,t){var n=e.toJSON();if(null===n)return"Invalid Date";var o=n.split("T"),r=o[0];return t.stylize("".concat(r,"T").concat(f(o[1],t.truncate-r.length-1)),"date")}function k(e,t){var n=T(e);return n?t.stylize("[Function ".concat(f(n,t.truncate-11),"]"),"special"):t.stylize("[Function]","special")}function I(e,t){var n=o(e,2),r=n[0],i=n[1];return t.truncate-=4,r=t.inspect(r,t),t.truncate-=r.length,i=t.inspect(i,t),"".concat(r," => ").concat(i)}function A(e){var t=[];return e.forEach((function(e,n){t.push([n,e])})),t}function R(e,t){var n=e.size-1;return n<=0?"Map{}":(t.truncate-=7,"Map{ ".concat(g(A(e),t,I)," }"))}var O=Number.isNaN||function(e){return e!==e};function C(e,t){return O(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):0===e?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(f(e,t.truncate),"number")}function j(e,t){var n=f(e.toString(),t.truncate-1);return n!==p&&(n+="n"),t.stylize(n,"bigint")}function N(e,t){var n=e.toString().split("/")[2],o=t.truncate-(2+n.length),r=e.source;return t.stylize("/".concat(f(r,o),"/").concat(n),"regexp")}function P(e){var t=[];return e.forEach((function(e){t.push(e)})),t}function D(e,t){return 0===e.size?"Set{}":(t.truncate-=7,"Set{ ".concat(g(P(e),t)," }"))}var M=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),L={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},U=16,F=4;function B(e){return L[e]||"\\u".concat("0000".concat(e.charCodeAt(0).toString(U)).slice(-F))}function H(e,t){return M.test(e)&&(e=e.replace(M,B)),t.stylize("'".concat(f(e,t.truncate-2),"'"),"string")}function W(e){return"description"in Symbol.prototype?e.description?"Symbol(".concat(e.description,")"):"Symbol()":e.toString()}var q=function(){return"Promise{…}"};try{var V=process.binding("util"),z=V.getPromiseDetails,G=V.kPending,$=V.kRejected;Array.isArray(z(Promise.resolve()))&&(q=function(e,t){var n=z(e),r=o(n,2),i=r[0],s=r[1];return i===G?"Promise{<pending>}":"Promise".concat(i===$?"!":"","{").concat(t.inspect(s,t),"}")})}catch(ve){}var K=q;function Y(e,t){var n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(0===n.length&&0===o.length)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.indexOf(e)>=0)return"[Circular]";t.seen.push(e);var r=g(n.map((function(t){return[t,e[t]]})),t,y),i=g(o.map((function(t){return[t,e[t]]})),t,y);t.seen.pop();var s="";return r&&i&&(s=", "),"{ ".concat(r).concat(s).concat(i," }")}var Z=!("undefined"===typeof Symbol||!Symbol.toStringTag)&&Symbol.toStringTag;function J(e,t){var n="";return Z&&Z in e&&(n=e[Z]),n=n||T(e.constructor),n&&"_class"!==n||(n="<Anonymous Class>"),t.truncate-=n.length,"".concat(n).concat(Y(e,t))}function X(e,t){return 0===e.length?"Arguments[]":(t.truncate-=13,"Arguments[ ".concat(g(e,t)," ]"))}var Q=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description"];function ee(e,t){var n=Object.getOwnPropertyNames(e).filter((function(e){return-1===Q.indexOf(e)})),o=e.name;t.truncate-=o.length;var r="";"string"===typeof e.message?r=f(e.message,t.truncate):n.unshift("message"),r=r?": ".concat(r):"",t.truncate-=r.length+5;var i=g(n.map((function(t){return[t,e[t]]})),t,y);return"".concat(o).concat(r).concat(i?" { ".concat(i," }"):"")}function te(e,t){var n=o(e,2),r=n[0],i=n[1];return t.truncate-=3,i?"".concat(t.stylize(r,"yellow"),"=").concat(t.stylize('"'.concat(i,'"'),"string")):"".concat(t.stylize(r,"yellow"))}function ne(e,t){return g(e,t,oe,"\n")}function oe(e,t){var n=e.getAttributeNames(),o=e.tagName.toLowerCase(),r=t.stylize("<".concat(o),"special"),i=t.stylize(">","special"),s=t.stylize("</".concat(o,">"),"special");t.truncate-=2*o.length+5;var a="";n.length>0&&(a+=" ",a+=g(n.map((function(t){return[t,e.getAttribute(t)]})),t,te," ")),t.truncate-=a.length;var c=t.truncate,l=ne(e.children,t);return l&&l.length>c&&(l="".concat(p,"(").concat(e.children.length,")")),"".concat(r).concat(a).concat(i).concat(l).concat(s)}var re="function"===typeof Symbol&&"function"===typeof Symbol.for,ie=re?Symbol.for("chai/inspect"):"@@chai/inspect",se=!1;try{var ae=n(5050);se=!!ae.inspect&&ae.inspect.custom}catch(be){se=!1}function ce(){this.key="chai/loupe__"+Math.random()+Date.now()}ce.prototype={get:function(e){return e[this.key]},has:function(e){return this.key in e},set:function(e,t){Object.isExtensible(e)&&Object.defineProperty(e,this.key,{value:t,configurable:!0})}};var le=new("function"===typeof WeakMap?WeakMap:ce),ue={},pe={undefined:function(e,t){return t.stylize("undefined","undefined")},null:function(e,t){return t.stylize(null,"null")},boolean:function(e,t){return t.stylize(e,"boolean")},Boolean:function(e,t){return t.stylize(e,"boolean")},number:C,Number:C,bigint:j,BigInt:j,string:H,String:H,function:k,Function:k,symbol:W,Symbol:W,Array:v,Date:E,Map:R,Set:D,RegExp:N,Promise:K,WeakSet:function(e,t){return t.stylize("WeakSet{…}","special")},WeakMap:function(e,t){return t.stylize("WeakMap{…}","special")},Arguments:X,Int8Array:S,Uint8Array:S,Uint8ClampedArray:S,Int16Array:S,Uint16Array:S,Int32Array:S,Uint32Array:S,Float32Array:S,Float64Array:S,Generator:function(){return""},DataView:function(){return""},ArrayBuffer:function(){return""},Error:ee,HTMLCollection:ne,NodeList:ne},de=function(e,t,n){return ie in e&&"function"===typeof e[ie]?e[ie](t):se&&se in e&&"function"===typeof e[se]?e[se](t.depth,t):"inspect"in e&&"function"===typeof e.inspect?e.inspect(t.depth,t):"constructor"in e&&le.has(e.constructor)?le.get(e.constructor)(e,t):ue[n]?ue[n](e,t):""},he=Object.prototype.toString;function fe(e,n){n=h(n),n.inspect=fe;var o=n,r=o.customInspect,i=null===e?"null":t(e);if("object"===i&&(i=he.call(e).slice(8,-1)),pe[i])return pe[i](e,n);if(r&&e){var s=de(e,n,i);if(s)return"string"===typeof s?s:fe(s,n)}var a=!!e&&Object.getPrototypeOf(e);return a===Object.prototype||null===a?Y(e,n):e&&"function"===typeof HTMLElement&&e instanceof HTMLElement?oe(e,n):"constructor"in e?e.constructor!==Object?J(e,n):Y(e,n):e===Object(e)?Y(e,n):n.stylize(String(e),i)}function ge(e,t){return!le.has(e)&&(le.set(e,t),!0)}function me(e,t){return!(e in ue)&&(ue[e]=t,!0)}var ye=ie;e.custom=ye,e.default=fe,e.inspect=fe,e.registerConstructor=ge,e.registerStringTag=me,Object.defineProperty(e,"__esModule",{value:!0})}))},6544:function(e,t,n){
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */
e.exports=n(7104)},7233:function(e,t,n){"use strict";
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var o=n(6544),r=n(1829).extname,i=/^\s*([^;\s]*)(?:;|\s|$)/,s=/^text\//i;function a(e){if(!e||"string"!==typeof e)return!1;var t=i.exec(e),n=t&&o[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!s.test(t[1]))&&"UTF-8"}function c(e){if(!e||"string"!==typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var o=t.charset(n);o&&(n+="; charset="+o.toLowerCase())}return n}function l(e){if(!e||"string"!==typeof e)return!1;var n=i.exec(e),o=n&&t.extensions[n[1].toLowerCase()];return!(!o||!o.length)&&o[0]}function u(e){if(!e||"string"!==typeof e)return!1;var n=r("x."+e).toLowerCase().substr(1);return n&&t.types[n]||!1}function p(e,t){var n=["nginx","apache",void 0,"iana"];Object.keys(o).forEach((function(r){var i=o[r],s=i.extensions;if(s&&s.length){e[r]=s;for(var a=0;a<s.length;a++){var c=s[a];if(t[c]){var l=n.indexOf(o[t[c]].source),u=n.indexOf(i.source);if("application/octet-stream"!==t[c]&&(l>u||l===u&&"application/"===t[c].substr(0,12)))continue}t[c]=r}}}))}t.charset=a,t.charsets={lookup:a},t.contentType=c,t.extension=l,t.extensions=Object.create(null),t.lookup=u,t.types=Object.create(null),p(t.extensions,t.types)},1829:function(e){"use strict";function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,o="",r=0,i=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(i===a-1||1===s);else if(i!==a-1&&2===s){if(o.length<2||2!==r||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(o.length>2){var c=o.lastIndexOf("/");if(c!==o.length-1){-1===c?(o="",r=0):(o=o.slice(0,c),r=o.length-1-o.lastIndexOf("/")),i=a,s=0;continue}}else if(2===o.length||1===o.length){o="",r=0,i=a,s=0;continue}t&&(o.length>0?o+="/..":o="..",r=2)}else o.length>0?o+="/"+e.slice(i+1,a):o=e.slice(i+1,a),r=a-i-1;i=a,s=0}else 46===n&&-1!==s?++s:s=-1}return o}function o(e,t){var n=t.dir||t.root,o=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+o:n+e+o:o}var r={resolve:function(){for(var e,o="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var s;i>=0?s=arguments[i]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(o=s+"/"+o,r=47===s.charCodeAt(0))}return o=n(o,!r),r?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(e){if(t(e),0===e.length)return".";var o=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return e=n(e,!o),0!==e.length||o||(e="."),e.length>0&&r&&(e+="/"),o?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var o=arguments[n];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if(e=r.resolve(e),n=r.resolve(n),e===n)return"";for(var o=1;o<e.length;++o)if(47!==e.charCodeAt(o))break;for(var i=e.length,s=i-o,a=1;a<n.length;++a)if(47!==n.charCodeAt(a))break;for(var c=n.length,l=c-a,u=s<l?s:l,p=-1,d=0;d<=u;++d){if(d===u){if(l>u){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>u&&(47===e.charCodeAt(o+d)?p=d:0===d&&(p=0));break}var h=e.charCodeAt(o+d),f=n.charCodeAt(a+d);if(h!==f)break;47===h&&(p=d)}var g="";for(d=o+p+1;d<=i;++d)d!==i&&47!==e.charCodeAt(d)||(0===g.length?g+="..":g+="/..");return g.length>0?g+n.slice(a+p):(a+=p,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),o=47===n,r=-1,i=!0,s=e.length-1;s>=1;--s)if(n=e.charCodeAt(s),47===n){if(!i){r=s;break}}else i=!1;return-1===r?o?"/":".":o&&1===r?"//":e.slice(0,r)},basename:function(e,n){if(void 0!==n&&"string"!==typeof n)throw new TypeError('"ext" argument must be a string');t(e);var o,r=0,i=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,c=-1;for(o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47===l){if(!s){r=o+1;break}}else-1===c&&(s=!1,c=o+1),a>=0&&(l===n.charCodeAt(a)?-1===--a&&(i=o):(a=-1,i=c))}return r===i?i=c:-1===i&&(i=e.length),e.slice(r,i)}for(o=e.length-1;o>=0;--o)if(47===e.charCodeAt(o)){if(!s){r=o+1;break}}else-1===i&&(s=!1,i=o+1);return-1===i?"":e.slice(r,i)},extname:function(e){t(e);for(var n=-1,o=0,r=-1,i=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===r&&(i=!1,r=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!i){o=a+1;break}}return-1===n||-1===r||0===s||1===s&&n===r-1&&n===o+1?"":e.slice(n,r)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return o("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var o,r=e.charCodeAt(0),i=47===r;i?(n.root="/",o=1):o=0;for(var s=-1,a=0,c=-1,l=!0,u=e.length-1,p=0;u>=o;--u)if(r=e.charCodeAt(u),47!==r)-1===c&&(l=!1,c=u+1),46===r?-1===s?s=u:1!==p&&(p=1):-1!==s&&(p=-1);else if(!l){a=u+1;break}return-1===s||-1===c||0===p||1===p&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&i?e.slice(1,c):e.slice(a,c)):(0===a&&i?(n.name=e.slice(1,s),n.base=e.slice(1,c)):(n.name=e.slice(a,s),n.base=e.slice(a,c)),n.ext=e.slice(s,c)),a>0?n.dir=e.slice(0,a-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},208:function(e){"use strict";function t(e,t){return"undefined"!==typeof e&&null!==e&&t in Object(e)}function n(e){var t=e.replace(/([^\\])\[/g,"$1.["),n=t.match(/(\\\.|[^.]+?)+/g);return n.map((function(e){if("constructor"===e||"__proto__"===e||"prototype"===e)return{};var t=/^\[(\d+)\]$/,n=t.exec(e),o=null;return o=n?{i:parseFloat(n[1])}:{p:e.replace(/\\([.[\]])/g,"$1")},o}))}function o(e,t,n){var o=e,r=null;n="undefined"===typeof n?t.length:n;for(var i=0;i<n;i++){var s=t[i];o&&(o="undefined"===typeof s.p?o[s.i]:o[s.p],i===n-1&&(r=o))}return r}function r(e,t,n){for(var o=e,r=n.length,i=null,s=0;s<r;s++){var a=null,c=null;if(i=n[s],s===r-1)a="undefined"===typeof i.p?i.i:i.p,o[a]=t;else if("undefined"!==typeof i.p&&o[i.p])o=o[i.p];else if("undefined"!==typeof i.i&&o[i.i])o=o[i.i];else{var l=n[s+1];a="undefined"===typeof i.p?i.i:i.p,c="undefined"===typeof l.p?[]:{},o[a]=c,o=o[a]}}}function i(e,r){var i=n(r),s=i[i.length-1],a={parent:i.length>1?o(e,i,i.length-1):e,name:s.p||s.i,value:o(e,i)};return a.exists=t(a.parent,a.name),a}function s(e,t){var n=i(e,t);return n.value}function a(e,t,o){var i=n(t);return r(e,o,i),e}e.exports={hasProperty:t,getPathInfo:i,getPathValue:s,setPathValue:a}},1026:function(e,t,n){(function(){var t=n(6538),o=n(9457).utf8,r=n(9457).bin,i=function(e){e.constructor==String?e=o.stringToBytes(e):"undefined"!==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var n=t.bytesToWords(e),r=8*e.length,i=[],s=1732584193,a=-271733879,c=-1732584194,l=271733878,u=-1009589776;n[r>>5]|=128<<24-r%32,n[15+(r+64>>>9<<4)]=r;for(var p=0;p<n.length;p+=16){for(var d=s,h=a,f=c,g=l,m=u,y=0;y<80;y++){if(y<16)i[y]=n[p+y];else{var v=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=v<<1|v>>>31}var b=(s<<5|s>>>27)+u+(i[y]>>>0)+(y<20?1518500249+(a&c|~a&l):y<40?1859775393+(a^c^l):y<60?(a&c|a&l|c&l)-1894007588:(a^c^l)-899497514);u=l,l=c,c=a<<30|a>>>2,a=s,s=b}s+=d,a+=h,c+=f,l+=g,u+=m}return[s,a,c,l,u]},s=function(e,n){var o=t.wordsToBytes(i(e));return n&&n.asBytes?o:n&&n.asString?r.bytesToString(o):t.bytesToHex(o)};s._blocksize=16,s._digestsize=20,e.exports=s})()},9064:function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";var e="function"===typeof Promise,t="object"===typeof self?self:n.g,o="undefined"!==typeof Symbol,r="undefined"!==typeof Map,i="undefined"!==typeof Set,s="undefined"!==typeof WeakMap,a="undefined"!==typeof WeakSet,c="undefined"!==typeof DataView,l=o&&"undefined"!==typeof Symbol.iterator,u=o&&"undefined"!==typeof Symbol.toStringTag,p=i&&"function"===typeof Set.prototype.entries,d=r&&"function"===typeof Map.prototype.entries,h=p&&Object.getPrototypeOf((new Set).entries()),f=d&&Object.getPrototypeOf((new Map).entries()),g=l&&"function"===typeof Array.prototype[Symbol.iterator],m=g&&Object.getPrototypeOf([][Symbol.iterator]()),y=l&&"function"===typeof String.prototype[Symbol.iterator],v=y&&Object.getPrototypeOf(""[Symbol.iterator]()),b=8,_=-1;function w(n){var o=typeof n;if("object"!==o)return o;if(null===n)return"null";if(n===t)return"global";if(Array.isArray(n)&&(!1===u||!(Symbol.toStringTag in n)))return"Array";if("object"===typeof window&&null!==window){if("object"===typeof window.location&&n===window.location)return"Location";if("object"===typeof window.document&&n===window.document)return"Document";if("object"===typeof window.navigator){if("object"===typeof window.navigator.mimeTypes&&n===window.navigator.mimeTypes)return"MimeTypeArray";if("object"===typeof window.navigator.plugins&&n===window.navigator.plugins)return"PluginArray"}if(("function"===typeof window.HTMLElement||"object"===typeof window.HTMLElement)&&n instanceof window.HTMLElement){if("BLOCKQUOTE"===n.tagName)return"HTMLQuoteElement";if("TD"===n.tagName)return"HTMLTableDataCellElement";if("TH"===n.tagName)return"HTMLTableHeaderCellElement"}}var l=u&&n[Symbol.toStringTag];if("string"===typeof l)return l;var p=Object.getPrototypeOf(n);return p===RegExp.prototype?"RegExp":p===Date.prototype?"Date":e&&p===Promise.prototype?"Promise":i&&p===Set.prototype?"Set":r&&p===Map.prototype?"Map":a&&p===WeakSet.prototype?"WeakSet":s&&p===WeakMap.prototype?"WeakMap":c&&p===DataView.prototype?"DataView":r&&p===f?"Map Iterator":i&&p===h?"Set Iterator":g&&p===m?"Array Iterator":y&&p===v?"String Iterator":null===p?"Object":Object.prototype.toString.call(n).slice(b,_)}return w}))},2280:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n}},2348:function(){!function(){"use strict";function e(e){var t=e.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return{top:t.top+n,left:t.left+o}}var t=80,n=function(){function n(){var e=document.createElement("img");e.onload=function(){c=Number(e.height),l=Number(e.width),o()},e.src=d.currentSrc||d.src}function o(){h=document.createElement("div"),h.className="zoom-img-wrap",h.style.position="absolute",h.style.top=e(d).top+"px",h.style.left=e(d).left+"px",f=d.cloneNode(),f.style.visibility="hidden",d.style.width=d.offsetWidth+"px",d.parentNode.replaceChild(f,d),document.body.appendChild(h),h.appendChild(d),d.classList.add("zoom-img"),d.setAttribute("data-action","zoom-out"),u=document.createElement("div"),u.className="zoom-overlay",document.body.appendChild(u),r(),i()}function r(){d.offsetWidth;var e=l,n=c,o=e/d.width,r=window.innerHeight-t,i=window.innerWidth-t,s=e/n,a=i/r;p=e<i&&n<r?o:s<a?r/n*o:i/e*o}function i(){d.offsetWidth;var t=e(d),n=window.pageYOffset,o=n+window.innerHeight/2,r=window.innerWidth/2,i=t.top+d.height/2,s=t.left+d.width/2,a=Math.round(o-i),c=Math.round(r-s),l="scale("+p+")",u="translate("+c+"px, "+a+"px) translateZ(0)";d.style.webkitTransform=l,d.style.msTransform=l,d.style.transform=l,h.style.webkitTransform=u,h.style.msTransform=u,h.style.transform=u,document.body.classList.add("zoom-overlay-open")}function s(){if(document.body.classList.remove("zoom-overlay-open"),document.body.classList.add("zoom-overlay-transitioning"),d.style.webkitTransform="",d.style.msTransform="",d.style.transform="",h.style.webkitTransform="",h.style.msTransform="",h.style.transform="",!1 in document.body.style)return a();h.addEventListener("transitionend",a),h.addEventListener("webkitTransitionEnd",a)}function a(){d.removeEventListener("transitionend",a),d.removeEventListener("webkitTransitionEnd",a),h&&h.parentNode&&(d.classList.remove("zoom-img"),d.style.width="",d.setAttribute("data-action","zoom"),f.parentNode.replaceChild(d,f),h.parentNode.removeChild(h),u.parentNode.removeChild(u),document.body.classList.remove("zoom-overlay-transitioning"))}var c=null,l=null,u=null,p=null,d=null,h=null,f=null;return function(e){return d=e,{zoomImage:n,close:s,dispose:a}}}();(function(){function e(){document.body.addEventListener("click",(function(e){"zoom"===e.target.getAttribute("data-action")&&"IMG"===e.target.tagName&&t(e)}))}function t(e){if(e.stopPropagation(),!document.body.classList.contains("zoom-overlay-open")){if(e.metaKey||e.ctrlKey)return o();r({forceDispose:!0}),d=n(e.target),d.zoomImage(),i()}}function o(){window.open(event.target.getAttribute("data-original")||event.target.currentSrc||event.target.src,"_blank")}function r(e){e=e||{forceDispose:!1},d&&(d[e.forceDispose?"dispose":"close"](),s(),d=null)}function i(){window.addEventListener("scroll",a),document.addEventListener("click",l),document.addEventListener("keyup",c),document.addEventListener("touchstart",u),document.addEventListener("touchend",l)}function s(){window.removeEventListener("scroll",a),document.removeEventListener("keyup",c),document.removeEventListener("click",l),document.removeEventListener("touchstart",u),document.removeEventListener("touchend",l)}function a(e){null===h&&(h=window.pageYOffset);var t=h-window.pageYOffset;Math.abs(t)>=40&&r()}function c(e){27==e.keyCode&&r()}function l(e){e.stopPropagation(),e.preventDefault(),r()}function u(e){f=e.touches[0].pageY,e.target.addEventListener("touchmove",p)}function p(e){Math.abs(e.touches[0].pageY-f)<=10||(r(),e.target.removeEventListener("touchmove",p))}var d=null,h=null,f=null;return{listen:e}})().listen()}()},2459:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n(1703);function r(e,t,n,r,i,s){return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.layout),null,{"header-block":(0,o.w5)((()=>[(0,o.WI)(e.$slots,"header")])),"footer-block":(0,o.w5)((()=>[(0,o.WI)(e.$slots,"footer")])),default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3})}var i=n(8896),s=n(6191),a=n(5312),c=(0,o.aZ)({name:"AppLayout",data:()=>({}),setup(){const e=(0,i.iH)((0,i.Xl)(s["default"]));return(0,o.YP)((()=>a.DV.value),(async t=>{try{const o=a.jP(t),r=await n(2115)(`./${o}.vue`);e.value=(0,i.Xl)(r?.default)||(0,i.Xl)(s["default"])}catch(o){e.value=(0,i.Xl)(s["default"])}}),{immediate:!0}),{layout:e}}}),l=n(2280);const u=(0,l.Z)(c,[["render",r]]);var p=u},6191:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n(1703);const r={class:"flex flex-col flex-grow"};function i(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.WI)(e.$slots,"header-block"),(0,o.WI)(e.$slots,"default"),(0,o.WI)(e.$slots,"footer-block")])}var s={name:"DefaultLayout"},a=n(2280);const c=(0,a.Z)(s,[["render",i]]);var l=c},6587:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n(1703),r=n(5555);const i={ref:"scrollRef",class:"scroll-wrap overscroll-contain lists flex-grow flex-col text-left h-px overflow-y-auto scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch"};function s(e,t,n,s,a,c){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",{ref:"topEle",class:"flex h-[1px] w-full invisible relative",style:(0,r.j5)(e.observeEleMovePx)},null,4),(0,o.WI)(e.$slots,"header",{},void 0,!0),(0,o.WI)(e.$slots,"default",{firstInit:e.firstInit,scrollToEle:e.scrollToEle,event:e.emitter},void 0,!0),(0,o._)("div",{ref:"bottomEle",class:"flex h-[1px] w-full invisible relative",style:(0,r.j5)(e.observeEleMovePx)},null,4),(0,o.WI)(e.$slots,"footer",{},void 0,!0)],512)}var a=n(8896),c=n(2180),l=n(8178),u=(0,o.aZ)({name:"ItemScrollWrap",props:{loadPosation:{type:String,default:()=>"bottom"},needLoadData:{type:Boolean,default:()=>!1},loadDataDistancePx:{type:Number,default:()=>0}},setup(e){const{loadDataDistancePx:t,loadPosation:n}=(0,a.BK)(e),r=(0,a.iH)(null),i=(0,a.iH)(!1),s=(0,l.Z)(),u=(0,a.iH)(),p=(0,a.iH)(),d=(0,a.iH)(null),h={NEED_LOAD_DATA:"needLoadData"},f={root:(0,c.NXq)(r),rootMargin:"0px 0px 0px 0px",threshold:0},g=e=>{e.forEach((e=>{e&&e.isIntersecting&&s.emit(h.NEED_LOAD_DATA)}))},m=(0,o.Fl)((()=>"top"===n.value?p:u)),y=(0,o.Fl)((()=>({[n.value]:`${t.value}px`})));(0,o.Jd)((()=>{s.all.clear(),d.value?.disconnect()}));const v=e=>{e.stopPropagation()},b=e=>{const t=requestIdleCallback((()=>{(0,c.NXq)(r)?.scrollTo({top:e}),cancelIdleCallback(t)}))},_=()=>{(0,c.NXq)(u)?.scrollIntoView()},w=e=>{(0,c.NXq)(e)?.scrollIntoView({block:"center",behavior:"smooth"})},T=e=>{const t=(0,c.NXq)(r)?.scrollTop||0;(0,c.NXq)(r)?.scrollTo({top:t+e})};return(0,c.ORN)(r,"scroll",v),(0,o.bv)((()=>{d.value=new IntersectionObserver(g,f),d.value.observe((0,c.NXq)(m.value))})),{observeEleMovePx:y,bottomEle:u,topEle:p,emitter:s,goToTop:b,eventMap:h,scrollToBottom:_,firstInit:i,scrollRef:r,scrollToEle:w,posYaddPx:T}}}),p=n(2280);const d=(0,p.Z)(u,[["render",s],["__scopeId","data-v-daa15890"]]);var h=d},2115:function(e,t,n){var o={"./AppLayouts.vue":2459,"./Default.vue":6191,"./ItemScrollWrap.vue":6587};function r(e){return Promise.resolve().then((function(){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var r=o[e];return n(r)}))}r.keys=function(){return Object.keys(o)},r.id=2115,e.exports=r},4091:function(e,t,n){var o={"./alertModal.vue":[6738,738],"./confirmModal.vue":[988,988],"./confirmWithTextModal.vue":[9820,820],"./jpointConfirm.vue":[9183,183],"./jpointLoading.vue":[8694,694],"./template.vue":[1920,920]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(o)},r.id=4091,e.exports=r},5050:function(){},6599:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return o}})},2396:function(e,t,n){"use strict";n.d(t,{Jn:function(){return G},KN:function(){return Y},Mq:function(){return K},Xd:function(){return H},ZF:function(){return $},qX:function(){return W}});n(6728);var o=n(8124),r=n(5803),i=n(7626);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class s{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map((e=>{if(a(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}function a(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const c="@firebase/app",l="0.7.11",u=new r.Yd("@firebase/app"),p="@firebase/app-compat",d="@firebase/analytics-compat",h="@firebase/analytics",f="@firebase/app-check-compat",g="@firebase/app-check",m="@firebase/auth",y="@firebase/auth-compat",v="@firebase/database",b="@firebase/database-compat",_="@firebase/functions",w="@firebase/functions-compat",T="@firebase/installations",x="@firebase/installations-compat",S="@firebase/messaging",E="@firebase/messaging-compat",k="@firebase/performance",I="@firebase/performance-compat",A="@firebase/remote-config",R="@firebase/remote-config-compat",O="@firebase/storage",C="@firebase/storage-compat",j="@firebase/firestore",N="@firebase/firestore-compat",P="firebase",D="9.6.1",M="[DEFAULT]",L={[c]:"fire-core",[p]:"fire-core-compat",[h]:"fire-analytics",[d]:"fire-analytics-compat",[g]:"fire-app-check",[f]:"fire-app-check-compat",[m]:"fire-auth",[y]:"fire-auth-compat",[v]:"fire-rtdb",[b]:"fire-rtdb-compat",[_]:"fire-fn",[w]:"fire-fn-compat",[T]:"fire-iid",[x]:"fire-iid-compat",[S]:"fire-fcm",[E]:"fire-fcm-compat",[k]:"fire-perf",[I]:"fire-perf-compat",[A]:"fire-rc",[R]:"fire-rc-compat",[O]:"fire-gcs",[C]:"fire-gcs-compat",[j]:"fire-fst",[N]:"fire-fst-compat","fire-js":"fire-js",[P]:"fire-js-all"},U=new Map,F=new Map;function B(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function H(e){const t=e.name;if(F.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;F.set(t,e);for(const n of U.values())B(n,e);return!0}function W(e,t){return e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const q={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},V=new i.LL("app","Firebase",q);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class z{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new o.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw V.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=D;function $(e,t={}){if("object"!==typeof t){const e=t;t={name:e}}const n=Object.assign({name:M,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw V.create("bad-app-name",{appName:String(r)});const s=U.get(r);if(s){if((0,i.vZ)(e,s.options)&&(0,i.vZ)(n,s.config))return s;throw V.create("duplicate-app",{appName:r})}const a=new o.H0(r);for(const o of F.values())a.addComponent(o);const c=new z(e,n,a);return U.set(r,c),c}function K(e=M){const t=U.get(e);if(!t)throw V.create("no-app",{appName:e});return t}function Y(e,t,n){var r;let i=null!==(r=L[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}H(new o.wA(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Z(e){H(new o.wA("platform-logger",(e=>new s(e)),"PRIVATE")),Y(c,l,e),Y(c,l,"esm2017"),Y("fire-js","")}Z("")},8124:function(e,t,n){"use strict";n.d(t,{H0:function(){return l},wA:function(){return r}});var o=n(7626);class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new o.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),o=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(o)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(c(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:o});n.resolve(e)}catch(t){}}}}clearInstance(e=i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=i){return this.instances.has(e)}getOptions(e=i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,i]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(r);n===e&&i.resolve(o)}return o}onInit(e,t){var n;const o=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(o))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(o,r);const i=this.instances.get(o);return i&&e(i,o),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(o){}return n||null}normalizeInstanceIdentifier(e=i){return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(e){return e===i?void 0:e}function c(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},5803:function(e,t,n){"use strict";n.d(t,{Yd:function(){return l},in:function(){return r}});n(6728);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o=[];var r;(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(r||(r={}));const i={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},s=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const o=(new Date).toISOString(),r=a[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${o}]  ${e.name}:`,...n)};class l{constructor(e){this.name=e,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}},2180:function(e,t,n){"use strict";n.d(t,{B78:function(){return ae},KKc:function(){return re},NCN:function(){return me},NXq:function(){return a},ORN:function(){return l},PL:function(){return d},XdG:function(){return ye},f25:function(){return g},h4X:function(){return oe},i9H:function(){return u},jYR:function(){return se},kCD:function(){return T},x9X:function(){return J},y$C:function(){return M},yU7:function(){return ne}});n(6728),n(5640),n(171),n(7093),n(1951);var o=n(7240),r=n(1703),i=n(8896),s=n(9829);function a(e){var t;const n=(0,o.Ly)(e);return null!=(t=null==n?void 0:n.$el)?t:n}const c=o.C5?window:void 0;o.C5&&window.document,o.C5&&window.navigator,o.C5&&window.location;function l(...e){let t,n,i,s;if((0,o.HD)(e[0])||Array.isArray(e[0])?([n,i,s]=e,t=c):[t,n,i,s]=e,!t)return o.ZT;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const l=[],u=()=>{l.forEach((e=>e())),l.length=0},p=(e,t,n)=>(e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)),d=(0,r.YP)((()=>a(t)),(e=>{u(),e&&l.push(...n.flatMap((t=>i.map((n=>p(e,t,n))))))}),{immediate:!0,flush:"post"}),h=()=>{d(),u()};return(0,o.IY)(h),h}function u(e,t,n={}){const{window:o=c,ignore:r,capture:s=!0,detectIframe:u=!1}=n;if(!o)return;const p=(0,i.iH)(!0);let d;const h=n=>{o.clearTimeout(d);const r=a(e);r&&r!==n.target&&!n.composedPath().includes(r)&&p.value&&t(n)},f=e=>r&&r.some((t=>{const n=a(t);return n&&(e.target===n||e.composedPath().includes(n))})),g=[l(o,"click",h,{passive:!0,capture:s}),l(o,"pointerdown",(t=>{const n=a(e);p.value=!!n&&!t.composedPath().includes(n)&&!f(t)}),{passive:!0}),l(o,"pointerup",(e=>{if(0===e.button){const t=e.composedPath();e.composedPath=()=>t,d=o.setTimeout((()=>h(e)),50)}}),{passive:!0}),u&&l(o,"blur",(n=>{var r;const i=a(e);"IFRAME"!==(null==(r=o.document.activeElement)?void 0:r.tagName)||(null==i?void 0:i.contains(o.document.activeElement))||t(n)}))].filter(Boolean),m=()=>g.forEach((e=>e()));return m}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function p(e={}){const{window:t=c}=e,n=(0,o.fA)((()=>null),(()=>null==t?void 0:t.document.activeElement));return t&&(l(t,"blur",n.trigger,!0),l(t,"focus",n.trigger,!0)),n}function d(e,t,n){const{immediate:r=!0,delay:s=0,onError:a=o.ZT,resetOnExecute:c=!0,shallow:l=!0,throwError:u}=null!=n?n:{},p=l?(0,i.XI)(t):(0,i.iH)(t),d=(0,i.iH)(!1),h=(0,i.iH)(!1),f=(0,i.iH)(void 0);async function g(n=0,...r){c&&(p.value=t),f.value=void 0,d.value=!1,h.value=!0,n>0&&await(0,o.nK)(n);const i="function"===typeof e?e(...r):e;try{const e=await i;p.value=e,d.value=!0}catch(s){if(f.value=s,a(s),u)throw f}finally{h.value=!1}return p.value}return r&&g(s),{state:p,isReady:d,isLoading:h,error:f,execute:g}}function h(e,t=!1){const n=(0,i.iH)(),r=()=>n.value=Boolean(e());return r(),(0,o.u7)(r,t),n}function f(e,t={}){const{window:n=c}=t,s=h((()=>n&&"matchMedia"in n&&"function"===typeof n.matchMedia));let a;const l=(0,i.iH)(!1),u=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",p):a.removeListener(p))},p=()=>{s.value&&(u(),a=n.matchMedia((0,o.qq)(e).value),l.value=a.matches,"addEventListener"in a?a.addEventListener("change",p):a.addListener(p))};return(0,r.m0)(p),(0,o.IY)((()=>u())),l}const g={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var m=Object.defineProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&_(e,n,t[n]);if(y)for(var n of y(t))b.call(t,n)&&_(e,n,t[n]);return e};function T(e,t={}){function n(t,n){let r=e[t];return null!=n&&(r=(0,o.Eo)(r,n)),"number"===typeof r&&(r=`${r}px`),r}const{window:r=c}=t;function i(e){return!!r&&r.matchMedia(e).matches}const s=e=>f(`(min-width: ${n(e)})`,t),a=Object.keys(e).reduce(((e,t)=>(Object.defineProperty(e,t,{get:()=>s(t),enumerable:!0,configurable:!0}),e)),{});return w({greater(e){return f(`(min-width: ${n(e,.1)})`,t)},greaterOrEqual:s,smaller(e){return f(`(max-width: ${n(e,-.1)})`,t)},smallerOrEqual(e){return f(`(max-width: ${n(e)})`,t)},between(e,o){return f(`(min-width: ${n(e)}) and (max-width: ${n(o,-.1)})`,t)},isGreater(e){return i(`(min-width: ${n(e,.1)})`)},isGreaterOrEqual(e){return i(`(min-width: ${n(e)})`)},isSmaller(e){return i(`(max-width: ${n(e,-.1)})`)},isSmallerOrEqual(e){return i(`(max-width: ${n(e)})`)},isInBetween(e,t){return i(`(min-width: ${n(e)}) and (max-width: ${n(t,-.1)})`)}},a)}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function x(e){return JSON.parse(JSON.stringify(e))}const S="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},E="__vueuse_ssr_handlers__";S[E]=S[E]||{};const k=S[E];function I(e,t){return k[e]||t}function A(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"===typeof e?"boolean":"string"===typeof e?"string":"object"===typeof e?"object":Number.isNaN(e)?"any":"number"}var R=Object.defineProperty,O=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{for(var n in t||(t={}))C.call(t,n)&&N(e,n,t[n]);if(O)for(var n of O(t))j.call(t,n)&&N(e,n,t[n]);return e};const D={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function M(e,t,n,r={}){var s;const{flush:a="pre",deep:u=!0,listenToStorageChanges:p=!0,writeDefaults:d=!0,mergeDefaults:h=!1,shallow:f,window:g=c,eventFilter:m,onError:y=(e=>{console.error(e)})}=r,v=(f?i.XI:i.iH)(t);if(!n)try{n=I("getDefaultStorage",(()=>{var e;return null==(e=c)?void 0:e.localStorage}))()}catch(R){y(R)}if(!n)return v;const b=(0,o.Ly)(t),_=A(b),w=null!=(s=r.serializer)?s:D[_],{pause:T,resume:x}=(0,o._I)(v,(()=>S(v.value)),{flush:a,deep:u,eventFilter:m});return g&&p&&l(g,"storage",k),k(),v;function S(t){try{null==t?n.removeItem(e):n.setItem(e,w.write(t))}catch(R){y(R)}}function E(t){T();try{const r=t?t.newValue:n.getItem(e);if(null==r)return d&&null!==b&&n.setItem(e,w.write(b)),b;if(!t&&h){const e=w.read(r);return(0,o.mf)(h)?h(e,b):"object"!==_||Array.isArray(e)?e:P(P({},b),e)}return"string"!==typeof r?r:w.read(r)}catch(R){y(R)}finally{x()}}function k(t){t&&t.storageArea!==n||(t&&null===t.key?v.value=b:t&&t.key!==e||(v.value=E(t)))}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const L=e=>e,U=(e,t)=>e.value=t;function F(e){return e?(0,o.mf)(e)?e:x:L}function B(e){return e?(0,o.mf)(e)?e:x:L}function H(e,t={}){const{clone:n=!1,dump:s=F(n),parse:a=B(n),setSource:c=U}=t;function l(){return(0,i.Xl)({snapshot:s(e.value),timestamp:(0,o.AB)()})}const u=(0,i.iH)(l()),p=(0,i.iH)([]),d=(0,i.iH)([]),h=t=>{c(e,a(t.snapshot)),u.value=t},f=()=>{p.value.unshift(u.value),u.value=l(),t.capacity&&p.value.length>t.capacity&&p.value.splice(t.capacity,1/0),d.value.length&&d.value.splice(0,d.value.length)},g=()=>{p.value.splice(0,p.value.length),d.value.splice(0,d.value.length)},m=()=>{const e=p.value.shift();e&&(d.value.unshift(u.value),h(e))},y=()=>{const e=d.value.shift();e&&(p.value.unshift(u.value),h(e))},v=()=>{h(u.value)},b=(0,r.Fl)((()=>[u.value,...p.value])),_=(0,r.Fl)((()=>p.value.length>0)),w=(0,r.Fl)((()=>d.value.length>0));return{source:e,undoStack:p,redoStack:d,last:u,history:b,canUndo:_,canRedo:w,clear:g,commit:f,reset:v,undo:m,redo:y}}var W=Object.defineProperty,q=Object.defineProperties,V=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y=(e,t)=>{for(var n in t||(t={}))G.call(t,n)&&K(e,n,t[n]);if(z)for(var n of z(t))$.call(t,n)&&K(e,n,t[n]);return e},Z=(e,t)=>q(e,V(t));function J(e,t={}){const{deep:n=!1,flush:r="pre",eventFilter:i}=t,{eventFilter:s,pause:a,resume:c,isActive:l}=(0,o.BA)(i),{ignoreUpdates:u,ignorePrevAsyncUpdates:p,stop:d}=(0,o.lz)(e,y,{deep:n,flush:r,eventFilter:s});function h(e,t){p(),u((()=>{e.value=t}))}const f=H(e,Z(Y({},t),{clone:t.clone||n,setSource:h})),{clear:g,commit:m}=f;function y(){p(),m()}function v(e){c(),e&&y()}function b(e){let t=!1;const n=()=>t=!0;u((()=>{e(n)})),t||y()}function _(){d(),g()}return Z(Y({},f),{isTracking:l,pause:a,resume:v,commit:y,batch:b,dispose:_})}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var X=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=(e,t)=>{var n={};for(var o in e)Q.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&X)for(var o of X(e))t.indexOf(o)<0&&ee.call(e,o)&&(n[o]=e[o]);return n};function ne(e,t,n={}){const i=n,{window:s=c}=i,l=te(i,["window"]);let u;const p=h((()=>s&&"ResizeObserver"in s)),d=()=>{u&&(u.disconnect(),u=void 0)},f=(0,r.YP)((()=>a(e)),(e=>{d(),p.value&&s&&e&&(u=new ResizeObserver(t),u.observe(e,l))}),{immediate:!0,flush:"post"}),g=()=>{d(),f()};return(0,o.IY)(g),{isSupported:p,stop:g}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function oe(e,t={width:0,height:0},n={}){const{box:o="content-box"}=n,s=(0,i.iH)(t.width),c=(0,i.iH)(t.height);return ne(e,(([e])=>{const t="border-box"===o?e.borderBoxSize:"content-box"===o?e.contentBoxSize:e.devicePixelContentBoxSize;t?(s.value=t.reduce(((e,{inlineSize:t})=>e+t),0),c.value=t.reduce(((e,{blockSize:t})=>e+t),0)):(s.value=e.contentRect.width,c.value=e.contentRect.height)}),n),(0,r.YP)((()=>a(e)),(e=>{s.value=e?t.width:0,c.value=e?t.height:0})),{width:s,height:c}}new Map;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function re(e,t={}){const{initialValue:n=!1}=t,i=p(t),s=(0,r.Fl)((()=>a(e))),c=(0,r.Fl)({get(){return(0,o.Xq)(i.value)&&(0,o.Xq)(s.value)&&i.value===s.value},set(e){var t,n;!e&&c.value&&(null==(t=s.value)||t.blur()),e&&!c.value&&(null==(n=s.value)||n.focus())}});return(0,r.YP)(s,(()=>{c.value=n}),{immediate:!0,flush:"post"}),{focused:c}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function ie(e={}){const{type:t="page",touch:n=!0,resetOnTouchEnds:o=!1,initialValue:r={x:0,y:0},window:s=c,eventFilter:a}=e,u=(0,i.iH)(r.x),p=(0,i.iH)(r.y),d=(0,i.iH)(null),h=e=>{"page"===t?(u.value=e.pageX,p.value=e.pageY):"client"===t&&(u.value=e.clientX,p.value=e.clientY),d.value="mouse"},f=()=>{u.value=r.x,p.value=r.y},g=e=>{if(e.touches.length>0){const n=e.touches[0];"page"===t?(u.value=n.pageX,p.value=n.pageY):"client"===t&&(u.value=n.clientX,p.value=n.clientY),d.value="touch"}},m=e=>void 0===a?h(e):a((()=>h(e)),{}),y=e=>void 0===a?g(e):a((()=>g(e)),{});return s&&(l(s,"mousemove",m,{passive:!0}),l(s,"dragover",m,{passive:!0}),n&&(l(s,"touchstart",y,{passive:!0}),l(s,"touchmove",y,{passive:!0}),o&&l(s,"touchend",f,{passive:!0}))),{x:u,y:p,sourceType:d}}function se(e,t={}){const{handleOutside:n=!0,window:o=c}=t,{x:s,y:l,sourceType:u}=ie(t),p=(0,i.iH)(null!=e?e:null==o?void 0:o.document.body),d=(0,i.iH)(0),h=(0,i.iH)(0),f=(0,i.iH)(0),g=(0,i.iH)(0),m=(0,i.iH)(0),y=(0,i.iH)(0),v=(0,i.iH)(!0);let b=()=>{};return o&&(b=(0,r.YP)([p,s,l],(()=>{const e=a(p);if(!e)return;const{left:t,top:r,width:i,height:c}=e.getBoundingClientRect();f.value=t+o.pageXOffset,g.value=r+o.pageYOffset,m.value=c,y.value=i;const u=s.value-f.value,b=l.value-g.value;v.value=0===i||0===c||u<0||b<0||u>i||b>c,!n&&v.value||(d.value=u,h.value=b)}),{immediate:!0})),{x:s,y:l,sourceType:u,elementX:d,elementY:h,elementPositionX:f,elementPositionY:g,elementHeight:m,elementWidth:y,isOutside:v,stop:b}}function ae(e={}){const{touch:t=!0,drag:n=!0,initialValue:o=!1,window:s=c}=e,u=(0,i.iH)(o),p=(0,i.iH)(null);if(!s)return{pressed:u,sourceType:p};const d=e=>()=>{u.value=!0,p.value=e},h=()=>{u.value=!1,p.value=null},f=(0,r.Fl)((()=>a(e.target)||s));return l(f,"mousedown",d("mouse"),{passive:!0}),l(s,"mouseleave",h,{passive:!0}),l(s,"mouseup",h,{passive:!0}),n&&(l(f,"dragstart",d("mouse"),{passive:!0}),l(s,"drop",h,{passive:!0}),l(s,"dragend",h,{passive:!0})),t&&(l(f,"touchstart",d("touch"),{passive:!0}),l(s,"touchend",h,{passive:!0}),l(s,"touchcancel",h,{passive:!0})),{pressed:u,sourceType:p}}Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var ce;(function(e){e["UP"]="UP",e["RIGHT"]="RIGHT",e["DOWN"]="DOWN",e["LEFT"]="LEFT",e["NONE"]="NONE"})(ce||(ce={}));Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var le=Object.defineProperty,ue=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fe=(e,t)=>{for(var n in t||(t={}))pe.call(t,n)&&he(e,n,t[n]);if(ue)for(var n of ue(t))de.call(t,n)&&he(e,n,t[n]);return e};const ge={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};fe({linear:o.yR},ge);function me(e,t,n,a={}){var c,l,u,p,d;const{clone:h=!1,passive:f=!1,eventName:g,deep:m=!1,defaultValue:y}=a,v=(0,r.FN)(),b=n||(null==v?void 0:v.emit)||(null==(c=null==v?void 0:v.$emit)?void 0:c.bind(v))||(null==(u=null==(l=null==v?void 0:v.proxy)?void 0:l.$emit)?void 0:u.bind(null==v?void 0:v.proxy));let _=g;if(!t)if(s.$Q){const e=null==(d=null==(p=null==v?void 0:v.proxy)?void 0:p.$options)?void 0:d.model;t=(null==e?void 0:e.value)||"value",g||(_=(null==e?void 0:e.event)||"input")}else t="modelValue";_=g||_||`update:${t.toString()}`;const w=e=>h?(0,o.mf)(h)?h(e):x(e):e,T=()=>(0,o.Xq)(e[t])?w(e[t]):y;if(f){const n=T(),o=(0,i.iH)(n);return(0,r.YP)((()=>e[t]),(e=>o.value=w(e))),(0,r.YP)(o,(n=>{(n!==e[t]||m)&&b(_,n)}),{deep:m}),o}return(0,r.Fl)({get(){return T()},set(e){b(_,e)}})}function ye(e,t){const{containerStyle:n,wrapperProps:o,scrollTo:r,calculateRange:i,currentList:s,containerRef:a}="itemHeight"in t?Ae(t,e):Ie(t,e);return{list:s,scrollTo:r,containerProps:{ref:a,onScroll:()=>{i()},style:n},wrapperProps:o}}function ve(e){const t=(0,i.iH)(null),n=oe(t),o=(0,i.iH)([]),r=(0,i.XI)(e),s=(0,i.iH)({start:0,end:10});return{state:s,source:r,currentList:o,size:n,containerRef:t}}function be(e,t,n){return o=>{if("number"===typeof n)return Math.ceil(o/n);const{start:r=0}=e.value;let i=0,s=0;for(let e=r;e<t.value.length;e++){const t=n(e);if(i+=t,i>=o){s=e;break}}return s-r}}function _e(e,t){return n=>{if("number"===typeof t)return Math.floor(n/t)+1;let o=0,r=0;for(let i=0;i<e.value.length;i++){const e=t(i);if(o+=e,o>=n){r=i;break}}return r+1}}function we(e,t,n,o,{containerRef:r,state:i,currentList:s,source:a}){return()=>{const c=r.value;if(c){const r=n("vertical"===e?c.scrollTop:c.scrollLeft),l=o("vertical"===e?c.clientHeight:c.clientWidth),u=r-t,p=r+l+t;i.value={start:u<0?0:u,end:p>a.value.length?a.value.length:p},s.value=a.value.slice(i.value.start,i.value.end).map(((e,t)=>({data:e,index:t+i.value.start})))}}}function Te(e,t){return n=>{if("number"===typeof e){const t=n*e;return t}const o=t.value.slice(0,n).reduce(((t,n,o)=>t+e(o)),0);return o}}function xe(e,t,n){(0,r.YP)([e.width,e.height,t],(()=>{n()}))}function Se(e,t){return(0,r.Fl)((()=>"number"===typeof e?t.value.length*e:t.value.reduce(((t,n,o)=>t+e(o)),0)))}const Ee={horizontal:"scrollLeft",vertical:"scrollTop"};function ke(e,t,n,o){return r=>{o.value&&(o.value[Ee[e]]=n(r),t())}}function Ie(e,t){const n=ve(t),{state:o,source:i,currentList:s,size:a,containerRef:c}=n,l={overflowX:"auto"},{itemWidth:u,overscan:p=5}=e,d=be(o,i,u),h=_e(i,u),f=we("horizontal",p,h,d,n),g=Te(u,i),m=(0,r.Fl)((()=>g(o.value.start))),y=Se(u,i);xe(a,t,f);const v=ke("horizontal",f,g,c),b=(0,r.Fl)((()=>({style:{height:"100%",width:y.value-m.value+"px",marginLeft:`${m.value}px`,display:"flex"}})));return{scrollTo:v,calculateRange:f,wrapperProps:b,containerStyle:l,currentList:s,containerRef:c}}function Ae(e,t){const n=ve(t),{state:o,source:i,currentList:s,size:a,containerRef:c}=n,l={overflowY:"auto"},{itemHeight:u,overscan:p=5}=e,d=be(o,i,u),h=_e(i,u),f=we("vertical",p,h,d,n),g=Te(u,i),m=(0,r.Fl)((()=>g(o.value.start))),y=Se(u,i);xe(a,t,f);const v=ke("vertical",f,g,c),b=(0,r.Fl)((()=>({style:{width:"100%",height:y.value-m.value+"px",marginTop:`${m.value}px`}})));return{calculateRange:f,scrollTo:v,containerStyle:l,wrapperProps:b,currentList:s,containerRef:c}}},7240:function(e,t,n){"use strict";n.d(t,{AB:function(){return h},BA:function(){return _},B_:function(){return K},C5:function(){return a},DI:function(){return k},Dp:function(){return I},Eo:function(){return x},H:function(){return Ae},HD:function(){return d},IY:function(){return E},Ly:function(){return g},OT:function(){return j},Xq:function(){return c},ZT:function(){return f},_I:function(){return ye},eM:function(){return C},f8:function(){return se},fA:function(){return S},hj:function(){return p},jn:function(){return l},lz:function(){return ie},mf:function(){return u},nK:function(){return w},oh:function(){return K},qq:function(){return A},sP:function(){return O},u7:function(){return R},yR:function(){return T}});n(6728);var o,r=n(8896),i=n(9829),s=n(1703);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const a="undefined"!==typeof window,c=e=>"undefined"!==typeof e,l=(Object.prototype.toString,e=>"boolean"===typeof e),u=e=>"function"===typeof e,p=e=>"number"===typeof e,d=e=>"string"===typeof e,h=()=>+Date.now(),f=()=>{};a&&(null==(o=null==window?void 0:window.navigator)?void 0:o.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function g(e){return"function"===typeof e?e():(0,r.SU)(e)}function m(e,t){function n(...n){e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})}return n}const y=e=>e();function v(e,t={}){let n,o;const r=r=>{const i=g(e),s=g(t.maxWait);if(n&&clearTimeout(n),i<=0||void 0!==s&&s<=0)return o&&(clearTimeout(o),o=null),r();s&&!o&&(o=setTimeout((()=>{n&&clearTimeout(n),o=null,r()}),s)),n=setTimeout((()=>{o&&clearTimeout(o),o=null,r()}),i)};return r}function b(e,t=!0,n=!0){let o,r=0,i=!0;const s=()=>{o&&(clearTimeout(o),o=void 0)},a=a=>{const c=g(e),l=Date.now()-r;if(s(),c<=0)return r=Date.now(),a();l>c&&(n||!i)?(r=Date.now(),a()):t&&(o=setTimeout((()=>{r=Date.now(),i=!0,s(),a()}),c-l)),n||o||(o=setTimeout((()=>i=!0),c)),i=!1};return a}function _(e=y){const t=(0,r.iH)(!0);function n(){t.value=!1}function o(){t.value=!0}const i=(...n)=>{t.value&&e(...n)};return{isActive:t,pause:n,resume:o,eventFilter:i}}i.$B,i.$B,i.$B;function w(e,t=!1,n="Timeout"){return new Promise(((o,r)=>{t?setTimeout((()=>r(n)),e):setTimeout(o,e)}))}function T(e){return e}function x(e,t){var n;if("number"===typeof e)return e+t;const o=(null==(n=e.match(/^-?[0-9]+\.?[0-9]*/))?void 0:n[0])||"",r=e.slice(o.length),i=parseFloat(o)+t;return Number.isNaN(i)?e:i+r}function S(e,t){let n,o,i;const a=(0,r.iH)(!0),c=()=>{a.value=!0,i()};(0,s.YP)(e,c,{flush:"sync"});const l=u(t)?t:t.get,p=u(t)?void 0:t.set,d=(0,r.ZM)(((e,t)=>(o=e,i=t,{get(){return a.value&&(n=l(),a.value=!1),o(),n},set(e){null==p||p(e)}})));return Object.isExtensible(d)&&(d.trigger=c),d}function E(e){return!!(0,r.nZ)()&&((0,r.EB)(e),!0)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function k(e,t=200,n={}){return m(v(t,n),e)}function I(e,t=200,n={}){const o=(0,r.iH)(e.value),i=k((()=>{o.value=e.value}),t,n);return(0,s.YP)(e,(()=>i())),o}function A(e){return"function"===typeof e?(0,s.Fl)(e):(0,r.iH)(e)}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function R(e,t=!0){(0,s.FN)()?(0,s.bv)(e):t?e():(0,s.Y3)(e)}function O(e){(0,s.FN)()&&(0,s.Ah)(e)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function C(e,t,n={}){const{immediate:o=!0}=n,i=(0,r.iH)(!1);let s=null;function c(){s&&(clearTimeout(s),s=null)}function l(){i.value=!1,c()}function u(...n){c(),i.value=!0,s=setTimeout((()=>{i.value=!1,s=null,e(...n)}),g(t))}return o&&(i.value=!0,a&&u()),E(l),{isPending:i,start:u,stop:l}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function j(e=!1,t={}){const{truthyValue:n=!0,falsyValue:o=!1}=t,i=(0,r.dq)(e),s=(0,r.iH)(e);function a(e){if(arguments.length)return s.value=e,s.value;{const e=g(n);return s.value=s.value===e?g(o):e,s.value}}return i?a:[s,a]}var N=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,M=(e,t)=>{var n={};for(var o in e)P.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&N)for(var o of N(e))t.indexOf(o)<0&&D.call(e,o)&&(n[o]=e[o]);return n};function L(e,t,n={}){const o=n,{eventFilter:r=y}=o,i=M(o,["eventFilter"]);return(0,s.YP)(e,m(r,t),i)}Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var U=Object.defineProperty,F=Object.defineProperties,B=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,V=(e,t,n)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))W.call(t,n)&&V(e,n,t[n]);if(H)for(var n of H(t))q.call(t,n)&&V(e,n,t[n]);return e},G=(e,t)=>F(e,B(t)),$=(e,t)=>{var n={};for(var o in e)W.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&H)for(var o of H(e))t.indexOf(o)<0&&q.call(e,o)&&(n[o]=e[o]);return n};function K(e,t,n={}){const o=n,{debounce:r=0,maxWait:i}=o,s=$(o,["debounce","maxWait"]);return L(e,t,G(z({},s),{eventFilter:v(r,{maxWait:i})}))}var Y=Object.defineProperty,Z=Object.defineProperties,J=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=(e,t,n)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ne=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&te(e,n,t[n]);if(X)for(var n of X(t))ee.call(t,n)&&te(e,n,t[n]);return e},oe=(e,t)=>Z(e,J(t)),re=(e,t)=>{var n={};for(var o in e)Q.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&X)for(var o of X(e))t.indexOf(o)<0&&ee.call(e,o)&&(n[o]=e[o]);return n};function ie(e,t,n={}){const o=n,{eventFilter:i=y}=o,a=re(o,["eventFilter"]),c=m(i,t);let l,u,p;if("sync"===a.flush){const t=(0,r.iH)(!1);u=()=>{},l=e=>{t.value=!0,e(),t.value=!1},p=(0,s.YP)(e,((...e)=>{t.value||c(...e)}),a)}else{const t=[],n=(0,r.iH)(0),o=(0,r.iH)(0);u=()=>{n.value=o.value},t.push((0,s.YP)(e,(()=>{o.value++}),oe(ne({},a),{flush:"sync"}))),l=e=>{const t=o.value;e(),n.value+=o.value-t},t.push((0,s.YP)(e,((...e)=>{const t=n.value>0&&n.value===o.value;n.value=0,o.value=0,t||c(...e)}),a)),p=()=>{t.forEach((e=>e()))}}return{stop:p,ignoreUpdates:l,ignorePrevAsyncUpdates:u}}function se(e,t,n){const o=(0,s.YP)(e,((...e)=>((0,s.Y3)((()=>o())),t(...e))),n)}var ae=Object.defineProperty,ce=Object.defineProperties,le=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fe=(e,t)=>{for(var n in t||(t={}))pe.call(t,n)&&he(e,n,t[n]);if(ue)for(var n of ue(t))de.call(t,n)&&he(e,n,t[n]);return e},ge=(e,t)=>ce(e,le(t)),me=(e,t)=>{var n={};for(var o in e)pe.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&ue)for(var o of ue(e))t.indexOf(o)<0&&de.call(e,o)&&(n[o]=e[o]);return n};function ye(e,t,n={}){const o=n,{eventFilter:r}=o,i=me(o,["eventFilter"]),{eventFilter:s,pause:a,resume:c,isActive:l}=_(r),u=L(e,t,ge(fe({},i),{eventFilter:s}));return{stop:u,pause:a,resume:c,isActive:l}}var ve=Object.defineProperty,be=Object.defineProperties,_e=Object.getOwnPropertyDescriptors,we=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,Se=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ee=(e,t)=>{for(var n in t||(t={}))Te.call(t,n)&&Se(e,n,t[n]);if(we)for(var n of we(t))xe.call(t,n)&&Se(e,n,t[n]);return e},ke=(e,t)=>be(e,_e(t)),Ie=(e,t)=>{var n={};for(var o in e)Te.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&we)for(var o of we(e))t.indexOf(o)<0&&xe.call(e,o)&&(n[o]=e[o]);return n};function Ae(e,t,n={}){const o=n,{throttle:r=0,trailing:i=!0,leading:s=!0}=o,a=Ie(o,["throttle","trailing","leading"]);return L(e,t,ke(Ee({},a),{eventFilter:b(r,i,s)}))}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable},4070:function(e,t,n){"use strict";n.d(t,{k:function(){return g}});var o,r=n(1703),i=(n(6728),n(8896)),s=n(9829);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const a="undefined"!==typeof window;Object.prototype.toString,a&&(null==(o=null==window?void 0:window.navigator)?void 0:o.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function c(e){return"function"===typeof e?e():(0,i.SU)(e)}s.$B,s.$B,s.$B;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;n(5640);function l(e){this.message=e}l.prototype=new Error,l.prototype.name="InvalidCharacterError";var u="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new l("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,r=0,i=0,s="";o=t.charAt(i++);~o&&(n=r%4?64*n+o:o,r++%4)?s+=String.fromCharCode(255&n>>(-2*r&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return s};function p(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(u(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return u(t)}}function d(e){this.message=e}function h(e,t){if("string"!=typeof e)throw new d("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(p(e.split(".")[n]))}catch(e){throw new d("Invalid token specified: "+e.message)}}d.prototype=new Error,d.prototype.name="InvalidTokenError";var f=h;function g(e,t={}){const{onError:n,fallbackValue:o=null}=t,i=(e,t)=>{try{return f(e,t)}catch(r){return null==n||n(r),o}},s=(0,r.Fl)((()=>i(c(e),{header:!0}))),a=(0,r.Fl)((()=>i(c(e))));return{header:s,payload:a}}},581:function(e,t,n){"use strict";n.d(t,{hu:function(){return r}});var o=n(7651);o.expect,o.version,o.Assertion,o.AssertionError,o.util,o.config,o.use,o.should;const r=o.assert;o.core},8178:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(6728);function o(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map((function(e){e(n)})),(o=e.get("*"))&&o.slice().map((function(e){e(t,n)}))}}}},9829:function(e,t,n){"use strict";n.d(t,{$B:function(){return r},$Q:function(){return o}});var o=!1,r=!0},7104:function(e){"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var r=Object.create(null);__webpack_require__.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return n[e]}}));return i["default"]=function(){return n},__webpack_require__.d(r,i),r}}(),function(){__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))}}(),function(){__webpack_require__.u=function(e){return"jkfyi.umd.min."+e+".js"}}(),function(){__webpack_require__.miniCssF=function(e){return"css/"+e+"."+{18:"5d27d3aa",27:"e07a2de6",54:"9f28a1e4",163:"f0f7052e",183:"28ecc067",551:"660b2641",694:"097c657d",738:"28ecc067",817:"43c73772",820:"3f07dcd8",920:"28ecc067",988:"a378180b"}[e]+".css"}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="jkfyi:";__webpack_require__.l=function(n,o,r,i){if(e[n])e[n].push(o);else{var s,a;if(void 0!==r)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(a=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",t+r),s.src=n),e[n]=[o];var p=function(t,o){s.onerror=s.onload=null,clearTimeout(d);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(o)})),t)return t(o)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),a&&document.head.appendChild(s)}}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.p=""}(),function(){var e=function(e,t,n,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(i){if(r.onerror=r.onload=null,"load"===i.type)n();else{var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,r.parentNode.removeChild(r),o(c)}};return r.onerror=r.onload=i,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){r=s[o],i=r.getAttribute("data-href");if(i===e||i===t)return r}},n=function(n){return new Promise((function(o,r){var i=__webpack_require__.miniCssF(n),s=__webpack_require__.p+i;if(t(i,s))return o();e(n,s,o,r)}))},o={928:0};__webpack_require__.f.miniCss=function(e,t){var r={18:1,27:1,54:1,163:1,183:1,551:1,694:1,738:1,817:1,820:1,920:1,988:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=n(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}(),function(){var e={928:0};__webpack_require__.f.j=function(t,n){var o=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(n,r){o=e[t]=[n,r]}));n.push(o[2]=r);var i=__webpack_require__.p+__webpack_require__.u(t),s=new Error,a=function(n){if(__webpack_require__.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,o[1](s)}};__webpack_require__.l(i,a,"chunk-"+t,t)}};var t=function(t,n){var o,r,i=n[0],s=n[1],a=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)__webpack_require__.o(s,o)&&(__webpack_require__.m[o]=s[o]);if(a)a(__webpack_require__)}for(t&&t(n);c<i.length;c++)r=i[c],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=("undefined"!==typeof self?self:this)["webpackChunkjkfyi"]=("undefined"!==typeof self?self:this)["webpackChunkjkfyi"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};return function(){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return dw},getPluginsBlackList:function(){return uw}});var e={};if(__webpack_require__.r(e),__webpack_require__.d(e,{RoomClass:function(){return Pe},allNotReadCount:function(){return ze},clearAllInfo:function(){return Ze},clearNeedGetNotifyStatusRoom:function(){return nt},clearRoom:function(){return et},fetchRoomData:function(){return pt},fetchRoomDataByCollectionGroup:function(){return ut},fillInReadCount:function(){return tt},getRoomMap:function(){return Ke},handleWatchIsAuth:function(){return Xe},handleWatchRoomID:function(){return Qe},loadingHistoryRoom:function(){return dt},needGetNotifyStatusRoom:function(){return qe},roomID:function(){return Be},roomInfo:function(){return Ve},roomIsUnNotifyStatus:function(){return We},roomsMap:function(){return He},talkGroupEnterRoomIndex:function(){return Ge},updateRoomID:function(){return ot},updateRoomIsHideOrIsDelete:function(){return rt},updateStoreRoomCount:function(){return Ye},watchThrottleNeedGet:function(){return Je}}),"undefined"!==typeof window){var t=window.document.currentScript,n=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(__webpack_require__.p=n[1])}var o=__webpack_require__(6599),r=__webpack_require__(6826),i=__webpack_require__(8896),s=__webpack_require__(1703),a=__webpack_require__(1243),c=(__webpack_require__(6728),__webpack_require__(2180));const l=e=>((0,s.dD)("data-v-6ff8159d"),e=e(),(0,s.Cn)(),e),u={id:"im-app-dashboard",class:"dashboard-ele md:rounded-[20px] overflow-hidden flex flex-col min-w-full max-w-none bg-primary shadow-xl md:min-w-[22rem] md:max-w-[22rem] text-white"},p=l((()=>(0,s._)("div",null,"Loading......",-1)));function d(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",u,[((0,s.wg)(),(0,s.j4)(s.n4,null,{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.routerName),{class:"flex justify-center"}))])),fallback:(0,s.w5)((()=>[p])),_:1}))])}var h=__webpack_require__(5555);const f=(0,s._)("div",{class:"flex-grow"},null,-1),g={class:"flex space-x-3"},m={class:"focus:outline-none"},y={class:"w-full flex flex-col justify-start"},v={class:"search-input py-3 px-5"},b={class:"flex flex-col friend-lists flex-grow"},_={class:"flex justify-between py-3 px-5 text-xl cursor-pointer"},w={key:0,class:"flex"},T=["disabled"];function x(e,t,n,o,r,i){const a=(0,s.up)("useAvatarHeader"),c=(0,s.up)("FontIcon"),l=(0,s.up)("user-data"),u=(0,s.up)("friend-list-operation"),p=(0,s.up)("MainHeaderWrap"),d=(0,s.up)("Footer"),x=(0,s.up)("search-input"),S=(0,s.up)("collapse"),E=(0,s.up)("friend-item"),k=(0,s.up)("wrapWithRadio"),I=(0,s.up)("collapse-group"),A=(0,s.up)("VisibleObserver"),R=(0,s.up)("item-scroll-wrap"),O=(0,s.up)("MainContent"),C=(0,s.up)("AppLayout"),j=(0,s.Q2)("bindObserver");return(0,s.wg)(),(0,s.j4)(C,null,{header:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(l,{"user-i-d":e.userId||""},{default:(0,s.w5)((({info:n})=>[(0,s.Wm)(a,{photoURL:n.photoURL,displayName:n.displayName,goPersonalInfo:()=>e.goPersonalInfo(e.userId)},null,8,["photoURL","displayName","goPersonalInfo"]),f,(0,s._)("div",g,[(0,s._)("button",m,[(0,s.Wm)(c,{name:"more_horiz",onClick:t[0]||(t[0]=t=>(e.controlHeaderOperation(),e.updateDisabledAnimation(!1)))})])])])),_:1},8,["user-i-d"]),(0,s.Wm)(u)])),_:1})])),footer:(0,s.w5)((()=>[(0,s.Wm)(d)])),default:(0,s.w5)((()=>[(0,s.Wm)(O,{wrapClass:e.wrapClass},{default:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s._)("div",v,[(0,s.Wm)(x,{modelValue:e.searchText,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchText=t)},null,8,["modelValue"])]),(0,s._)("div",b,[(0,s._)("div",_,[(0,s.Uk)(" 好友("+(0,h.zw)(e.allFriendsCount)+") ",1),(0,s.Wm)(S,{duration:.1},{default:(0,s.w5)((()=>[e.isShowRadioOperation?((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("button",{class:"mr-2 text-xs border py-1 px-4 rounded-md",onClick:t[2]||(t[2]=(...t)=>e.friendListCancelRadioOperation&&e.friendListCancelRadioOperation(...t))},"取消"),(0,s._)("button",{class:(0,h.C_)(["text-xs py-1 px-4 rounded-md",[e.dependTypeAction.confirmBtnClass]]),disabled:e.dependTypeAction.disabledBtn,onClick:t[3]||(t[3]=(...t)=>e.dependTypeAction.confirmBtnAction&&e.dependTypeAction.confirmBtnAction(...t))},(0,h.zw)(e.dependTypeAction.btnText),11,T)])):(0,s.kq)("",!0)])),_:1},8,["duration"])]),(0,s.Wm)(R,{ref:e.matchRef,"load-data-distance-px":100,onScroll:t[4]||(t[4]=t=>(e.containerProps.onScroll(),e.updateDisabledAnimation(!0)))},{default:(0,s.w5)((()=>[(0,s._)("div",(0,h.vs)((0,s.F4)(e.wrapperProps)),[(0,s.Wm)(A,{onVisibleHandle:e.elementIsVisible,onUnvisibleHandle:e.elementIsVisible,showRatio:1},{default:(0,s.w5)((({io:t})=>[(0,s.Wm)(I,{disable:e.disabledAnimation},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.vShowLists,(({data:n,index:o})=>((0,s.wg)(),(0,s.iD)("div",{key:`${n}_${o}`},[(0,s.Wm)(k,{isShowRadio:e.showPinnedFriendList.includes(n)?e.isShowUnPinRadio:e.isShowRadio,"model-value":e.showPinnedFriendList.includes(n)?e.unPinRadioValue:e.radioValue,"onUpdate:modelValue":t=>e.showPinnedFriendList.includes(n)?e.unPinRadioValue=t:e.radioValue=t,forTag:e.showPinnedFriendList.includes(n)?`unRadio-${n}`:`radio-${n}`,radioValue:n},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(E,{"is-pin":e.showPinnedFriendList.includes(n),key:n,"data-friend-id":n,uid:n,index:o,avatarUrl:e.getUserInfo(n)?.photoURL||"",displayName:e.getUserInfo(n)?.displayName||"",active:e.onlineUserMap.has(n)&&"online"===e.onlineUserMap.get(n),onClick:t=>e.toFriend(n)},null,8,["is-pin","data-friend-id","uid","index","avatarUrl","displayName","active","onClick"])),[[j,{io:t}]])])),_:2},1032,["isShowRadio","model-value","onUpdate:modelValue","forTag","radioValue"])])))),128))])),_:2},1032,["disable"])])),_:1},8,["onVisibleHandle","onUnvisibleHandle"])],16)])),_:1},512)])])])),_:1},8,["wrapClass"])])),_:1})}var S=__webpack_require__(7240),E=__webpack_require__(2459),k=(0,s.aZ)({name:"MainContent",props:{wrapClass:{type:String,default:"flex"}},setup(e,{slots:t}){const{wrapClass:n}=(0,i.BK)(e);return()=>(0,s.Wm)("div",{class:n.value,id:"cb88a0de"},[t.default?t.default():""])}});const I={class:"text-contentText px-4 py-3.5 pr-14"},A={class:"flex space-x-2 items-center"};function R(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("div",A,[(0,s.WI)(e.$slots,"default")])])}var O=(0,s.aZ)({name:"MainHeaderWrap"}),C=__webpack_require__(2280);const j=(0,C.Z)(O,[["render",R]]);var N=j;const P={class:"flex py-2 text-contentText justify-center space-x-32"},D=["onClick"],M={class:"text-xs self-center"};function L(e,t,n,o,r,i){const a=(0,s.up)("FontIcon");return(0,s.wg)(),(0,s.iD)("div",P,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.btnGroup,((t,n)=>((0,s.wg)(),(0,s.iD)("button",{key:n,class:(0,h.C_)(["footer-btn flex flex-col justify-center hover:text-mainGreen focus:outline-none",{active:e.isActive(t.path)}]),onClick:n=>e.changePageName(t.path)},[(0,s.Wm)(a,{name:t.svg},null,8,["name"]),(0,s._)("span",M,(0,h.zw)(t.text),1)],10,D)))),128))])}var U=__webpack_require__(5312),F=__webpack_require__(8757),B=(0,s.aZ)({name:"DefaultFooter",components:{FontIcon:F.Z},data(){return{btnGroup:[{text:"聊天",svg:"chat_bubble",path:U.z5.TALK_GROUPS.name},{text:"好友",svg:"people",path:U.z5.FRIEND_LISTS.name}]}},setup(){const e=e=>U.DV.value.includes(e);return{changePageName:U.p,routerName:U.DV,isActive:e}}});const H=(0,C.Z)(B,[["render",L],["__scopeId","data-v-020e6552"]]);var W=H,q={components:{AppLayout:E["default"],MainContent:k,MainHeaderWrap:N,Footer:W},data:{wrapClass:"flex bg-bgDark text-contentText flex-grow"}},V=(0,s.aZ)({name:"MessageObserver",props:{showRatio:{type:Number,default:()=>.5},threshold:{type:Number,default:()=>1}},emits:["visibleHandle","unvisibleHandle"],setup(e,t){const{slots:n,emit:o}=t,{showRatio:r,threshold:a}=(0,i.BK)(e),c=(0,i.iH)(!1),l=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>=r.value?(c.value=!0,o("visibleHandle",{dom:e.target,isVisible:!0})):(c.value=!1,o("visibleHandle",{dom:e.target,isVisible:!1}))}))}),{threshold:a.value}),u=()=>{l&&l.disconnect()};(0,s.Jd)(u);const p=(0,i.qj)({isVisible:c,io:l});return()=>n.default?n.default(p):""}}),z=__webpack_require__(1288);const G=(0,s.aZ)({name:"UseAvatarHeader",components:{Avatar:z.Z},props:{photoURL:{type:String,required:!0},displayName:{type:String,required:!0},goPersonalInfo:{type:Function,required:!0}},setup(e){const{photoURL:t,goPersonalInfo:n,displayName:o}=(0,i.BK)(e),r=(0,s.Fl)((()=>({displayName:o.value,photoURL:t.value})));return()=>(0,s.Wm)(s.HY,null,[(0,s.Wm)("div",{class:"flex",onClick:n.value},[(0,s.Wm)(z.Z,{class:"inline-block h-9 w-9 rounded-full bg-center bg-contain bg-grey-300 cursor-pointer",url:r.value.photoURL},null)]),(0,s.Wm)("div",null,[(0,s.Wm)("p",{class:"text-sm text-left font-medium"},[r.value.displayName])])])}});var $=__webpack_require__(6587),K=__webpack_require__(8001);const Y=(0,s.aZ)({name:"getUser",props:{userID:{type:String,required:!0,default:()=>""}},setup(e,{slots:t}){const{userID:n=(0,i.iH)("")}=(0,i.BK)(e),o=void 0===K.getUserInfo.value(n.value),r=async e=>{if(""!==e){const t=K.userMap.value.has(e);t||K.needGetInfoUsers.value.push(e)}};(0,s.YP)(n,r),(0,S.u7)((()=>r(n.value)));const a=(0,s.Fl)((()=>({info:K.getUserInfo.value(n.value)||{},isLoading:o})));return()=>{if(t.default)return t.default(a.value)}}}),Z=e=>((0,s.dD)("data-v-24b9fd70"),e=e(),(0,s.Cn)(),e),J={class:"flex relative rounded-full bg-grey-300"},X=["src"],Q={key:0,class:"text-sm text-left font-medium"},ee=["src"],te={key:1},ne=Z((()=>(0,s._)("div",{class:"flex-grow"},null,-1)));function oe(e,t,n,o,r,i){const a=(0,s.up)("isOfficial");return(0,s.wg)(),(0,s.iD)("div",{class:(0,h.C_)(["flex py-3 px-5 space-x-2 items-center",[e.hoverClass]])},[(0,s._)("div",J,[(0,s._)("div",{class:(0,h.C_)(["inline-block h-9 w-9 rounded-full bg-center bg-contain",[e.skeletonClass]]),style:(0,h.j5)({backgroundImage:`url('${e.imgUrl}')`})},null,6),(0,s._)("span",{class:(0,h.C_)(["point absolute w-1.5 h-1.5 rounded-full -right-1 -top-1",{active:e.active}])},null,2),e.isPin?((0,s.wg)(),(0,s.iD)("img",{key:0,src:`${e.gcpImStoragePath}/static/images/pin.svg`,class:"point absolute w-4 h-4 rounded-full right-[0.5px] bottom-[0px]"},null,8,X)):(0,s.kq)("",!0)]),(0,s._)("div",null,[""!==e.displayName?((0,s.wg)(),(0,s.iD)("p",Q,[(0,s._)("span",null,(0,h.zw)(e.displayName),1),(0,s.Wm)(a,{"user-id":e.uid},{default:(0,s.w5)((({isOfficial:t})=>[t.value?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"ml-1 inline-block",src:`${e.gcpImStoragePath}/static/images/official_account_icon.png`,width:"16",height:"16"},null,8,ee)):(0,s.kq)("",!0)])),_:1},8,["user-id"])])):((0,s.wg)(),(0,s.iD)("div",te,[(0,s._)("div",{class:(0,h.C_)(["rounded-full mb-1.5 h-3 w-32",[e.skeletonClass]])},null,2),(0,s._)("div",{class:(0,h.C_)(["rounded-full h-2.5 w-24",[e.skeletonClass]])},null,2)]))]),ne,(0,s.WI)(e.$slots,"button-side",{},void 0,!0)],2)}var re=__webpack_require__(3e3),ie=__webpack_require__.n(re),se=__webpack_require__(9079);const ae=(0,s.aZ)({name:"isOfficial",props:{userId:{type:String,required:!0}},setup(e,{slots:t}){const{userId:n=(0,i.iH)("")}=(0,i.BK)(e),o=(0,i.iH)(!1),r=async e=>{""!==e&&(o.value=-1!==se.JP.indexOf(e))};(0,s.YP)(n,r),(0,S.u7)((()=>r(n.value)));const a=(0,s.Fl)((()=>({isOfficial:o})));return()=>{if(t.default)return t.default(a.value)}}}),ce=(e="",t="",n="https://www.mymyuc.net/images/noavatar_middle.gif")=>{const o=(0,i.iH)(!0),r=(0,i.iH)(t),s=(e=t)=>{const i=new Image;o.value=!0,i.src=e,i.onerror=()=>{r.value=""!==t?t:n,o.value=!1},i.onload=()=>{r.value=e,o.value=!1}};return s(e),{load:s,imgUrl:r,isLoading:o}};var le=__webpack_require__(8936),ue=(0,s.aZ)({name:"FriendItem",props:{uid:{type:String,required:!0},index:{type:Number,required:!0},avatarUrl:{type:String,default:()=>"",required:!0},displayName:{type:String,default:()=>"",required:!0},active:{type:Boolean,default:()=>!1},isPin:{type:Boolean,default:()=>!1},disabledHover:{type:Boolean,default:()=>!1}},components:{isOfficial:ae},setup(e){const{avatarUrl:t,disabledHover:n,displayName:o}=(0,i.BK)(e),{load:a,imgUrl:c}=ce(t.value,le.FAKE_AVATAR),l=(0,s.Fl)((()=>ie()(""===o.value?["bg-skeletonMainColor"]:["bg-skeletonMainColorAlpah"]))),u=(0,s.Fl)((()=>ie()({"hover-and-active:bg-tertiary cursor-pointer":!n.value}))),p=(0,s.YP)(t,(e=>{a(e)}),{immediate:!0});return(0,s.Jd)((()=>{p()})),{imgUrl:c,skeletonClass:l,hoverClass:u,gcpImStoragePath:r.yq}}});const pe=(0,C.Z)(ue,[["render",oe],["__scopeId","data-v-24b9fd70"]]);var de=pe;const he={class:"flex bg-tertiary rounded-[0.6em] p-2 space-x-2"},fe={class:"text-purple-lighter flex"};function ge(e,t,n,o,r,i){const c=(0,s.up)("FontIcon");return(0,s.wg)(),(0,s.iD)("div",he,[(0,s._)("div",fe,[(0,s.Wm)(c,{name:"search"})]),(0,s.wy)((0,s._)("input",{type:"text",class:"flex-grow bg-transparent placeholder-white p-0 shadow-none border-0 focus:ring-transparent focus:border-transparent focus:outline-none focus:border-0",placeholder:"搜尋","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchText=t),onInput:t[1]||(t[1]=(...t)=>e.search&&e.search(...t))},null,544),[[a.nr,e.searchText,void 0,{trim:!0}]])])}var me=(0,s.aZ)({name:"default-search",props:{modelValue:{type:String}},emits:["update:modelValue"],components:{FontIcon:F.Z},setup(e,{emit:t}){const n=(0,i.iH)(""),o=()=>{t("update:modelValue",n.value)};return{searchText:n,search:o}}});const ye=(0,C.Z)(me,[["render",ge]]);var ve=ye,be=__webpack_require__(5254),_e=__webpack_require__(147),we=__webpack_require__(6772),Te=__webpack_require__(2781),xe=__webpack_require__(3540),Se=__webpack_require__(2814);const Ee=(0,i.iH)(!1),ke=(0,i.iH)(null),Ie=((0,s.Fl)((()=>null!==ke.value)),async()=>{const{useNotify:e}=await __webpack_require__.e(27).then(__webpack_require__.bind(__webpack_require__,5027)),{pushMessage:t}=e("").initNotify({isOpen:r.FJ});Ee.value=!0,Re(t)}),Ae=e=>{let t=We.value.get(e.topic);void 0===t&&(t=!0),Ee.value&&!r.FJ.value&&K.enableNotify.value&&t&&ke.value?.(e)},Re=e=>{ke.value=e},Oe=async e=>{try{const t=await Se.r5(K.userState.value?.uid||"",e);t.getInfoList().map((e=>{const t=e.toObject();We.value.set(t.roomId,t.enableNotify)}))}catch(ou){console.log(ou)}};var Ce=__webpack_require__(7432),je=__webpack_require__(3433),Ne=__webpack_require__(4688);class Pe{constructor(e){(0,o.Z)(this,"room_id",void 0),(0,o.Z)(this,"type",void 0),(0,o.Z)(this,"members",void 0),(0,o.Z)(this,"LastActiveTime",void 0),(0,o.Z)(this,"LastMessage",void 0),(0,o.Z)(this,"RoomAllCount",void 0),(0,o.Z)(this,"ReadCount",void 0),(0,o.Z)(this,"isDelete",void 0),(0,o.Z)(this,"isHide",void 0),(0,o.Z)(this,"deleteLastMsgRef",void 0),(0,o.Z)(this,"deleteRoomTime",void 0),this.room_id=e.room_id,this.type=e.type,this.members=e.members.map((e=>e)),this.LastActiveTime=e.LastActiveTime,this.LastMessage=e.LastMessage,this.RoomAllCount=e.RoomAllCount,this.ReadCount=e.ReadCount,this.isDelete=e.isDelete,this.isHide=e.isHide,this.deleteLastMsgRef=e.deleteLastMsgRef,this.deleteRoomTime=e.deleteRoomTime}get needToShow(){return!1===this.isHide&&!1===this.isDelete&&0!==this.LastActiveTime}}const De={mode:"dm",members:[]};let Me=null,Le=null;const Ue=30,Fe=()=>{Me&&Me(),Le=null},Be=(0,i.iH)(""),He=(0,i.iH)(new Map),We=(0,i.iH)(new Map),qe=(0,i.iH)([]),Ve=(0,i.qj)({mode:"dm",members:[]}),ze=(0,i.iH)(0),Ge=(0,i.iH)(0),$e=()=>new Pe({room_id:"NULL",type:"",members:[],LastActiveTime:0,LastMessage:(0,Ce.emptyOrNullMessageItem)({isNull:!1}),RoomAllCount:0,ReadCount:0,isHide:!0,isDelete:!0,deleteRoomTime:null,deleteLastMsgRef:null}),Ke=e=>{const t=He.value.get(e);return t||$e()},Ye=(e,t)=>{He.value.get(e)&&at(e,{ReadCount:t})};(0,S.B_)(He,(()=>{ze.value=Array.from(He.value,(([,e])=>e)).reduce(((e,t)=>{const n=t.RoomAllCount-t.ReadCount;if(n<0){const e=`ReadCount greater than RoomAllCount error: ${t.room_id}`;Ne.tO(new Error(e),!0),console.warn(e)}const o=n<0?0:n;return e+o}),0);const e=ze.value<0?0:ze.value;xe.N0.emit(xe.YM.NOT_READ_COUNT_UPDATE,e)}),{debounce:500,deep:!0});const Ze=()=>{ze.value=0,Be.value="",We.value.clear(),He.value.clear()},Je=(0,S.H)(qe.value,(e=>{const t=[...e.filter((e=>!We.value.has(e)))];0!==t.length&&(Oe(t),nt())}),{throttle:100,trailing:!0,leading:!1}),Xe=async e=>{try{let t=!0;const n=K.userState.value?.uid??"";if(!e||!K.userState.value?.uid)return t=!0,void Fe();if(Me=(0,we.cf)(be.du.getRoomListsSnapshot(n,K.loginedUserState.isOfficial||!1),(async e=>{t||e.docChanges().forEach((async e=>{const t=e.doc,o=t.data();if(["added","modified"].includes(e.type)){const{newRoom:e,LastMessage:r,RoomAllCount:i,isDelete:s,isHide:a,deleteLastMsgRef:c,deleteRoomTime:l,ReadCount:u}=await pt(t),p=it(t.id);if(r.SenderID!==(K.loginedUserState.uid||"")&&!a&&p&&p.id&&p.id!==r.id&&Promise.all([We.value.has(t.id)?Promise.resolve():Oe([t.id]),(0,Te.i)(r.SenderID)]).then((([,e])=>{Ae({topic:`${t.id}`,title:"新通知!",desc:r.hasImages?`${e.displayName}傳來一則[圖片]`:`${e.displayName}傳來一則訊息`,action:()=>{xe.N0.emit(xe.YM.OPEN_IM_DIALOG,!0),ot(t.id),(0,U.p)("TalkingRoom",{roomID:t.id})}})})),e.isHide||e.isDelete)return void ct(t.id);He.value.has(t.id)?at(t.id,{type:o.Mode,members:o.ParticipantAll.filter((e=>e!==n)),LastActiveTime:o.LastActiveTime?.toMillis()||0,LastMessage:r,RoomAllCount:i,isDelete:s,isHide:a,deleteLastMsgRef:c,deleteRoomTime:l,ReadCount:u}):(st(t.id,e),qe.value.push(t.id))}}))})),t){const e=[],o=await(0,we.PL)(be.du.getRoomListCreator(n,Ue,K.loginedUserState?.isOfficial||!1));o.empty||(Le=o.size>=Ue?o.docs[o.docs.length-1]:null);const r=o.docs.map((async t=>{const{newRoom:n,roomId:o}=await lt(t,K.loginedUserState.isOfficial||!1);qe.value.push(o),e.push([o,n])}));await Promise.all(r),He.value=new Map(e),t=!1}}catch(ou){console.error(ou)}},Qe=async e=>{try{if(""===e)return et();const t=await(0,we.QT)(be.du.getRoomInfo(e)),n=t.data();void 0!==n&&(Ve.mode=n.Mode,Ve.members.splice(0),Object.assign(Ve.members,n.ParticipantAll.filter((e=>e!==K.userState.value?.uid))))}catch(ou){console.log(ou)}},et=()=>{Ve.mode=De.mode,Ve.members.splice(0)},tt=e=>{const t=He.value.get(e),n=t?.RoomAllCount||t?.ReadCount||0;at(e,{ReadCount:n})},nt=()=>{qe.value.splice(0)},ot=e=>Be.value=e,rt=(e,t,n)=>{const o={};"HIDE"===t?o.isHide=n:"DELETE"===t&&(o.isDelete=n),at(e,{...o})},it=e=>{const t=He.value.get(e);return t?t.LastMessage:null},st=(e,t)=>{He.value.set(e,new Pe(t))},at=(e,t)=>{const n=He.value.get(e);void 0!==n&&He.value.set(e,Object.assign(n,{room_id:e,...t}))},ct=e=>{He.value.has(e)&&He.value.delete(e)},lt=async(e,t=!1)=>!0===t?pt(e):ut(e),ut=async e=>{const t=K.userState.value?.uid??"";if(!e.ref.parent.parent)throw new Error("沒有聊天室");const{isDelete:n,isHide:o,deleteLastMsgRef:r,deleteRoomTime:i,ReadCount:s}=(0,je.getUserRoomParticipantInfo)(e),a=await(0,we.QT)(e.ref.parent.parent),c=a.data(),[l,u]=await Promise.all([(0,je.getSnapshotMessageShardAllDocs)(a),(0,Ce.getAndCheckLastMessage)({group:c,key:"LastMessage"})]),p=new Pe(Object.assign({room_id:a.id,type:c.Mode,members:c.ParticipantAll.filter((e=>e!==t)),LastActiveTime:c.LastActiveTime?.toMillis()||0},{LastMessage:u,RoomAllCount:l,isDelete:n,isHide:o,deleteLastMsgRef:r,deleteRoomTime:i,ReadCount:s??0}));return{roomId:a.id,RoomAllCount:l,LastMessage:u,newRoom:p,isDelete:n,isHide:o,deleteLastMsgRef:r,deleteRoomTime:i,ReadCount:s}},pt=async e=>{const t=K.userState.value?.uid??"",n=e.data();if(!n)throw new Error("not has this room data");const[o,{isHide:r,isDelete:i,deleteRoomTime:s,deleteLastMsgRef:a,ReadCount:c},l]=await Promise.all([(0,je.getSnapshotMessageShardAllDocs)(e),(0,je.getSnapshotRoomParticipantDoc)(e,t),(0,Ce.getAndCheckLastMessage)({group:n,key:"LastMessage"})]),u=new Pe(Object.assign({room_id:e.id,type:n.Mode,members:n.ParticipantAll.filter((e=>e!==t)),LastActiveTime:n.LastActiveTime?.toMillis()||0},{LastMessage:l,RoomAllCount:o,isDelete:i,isHide:r,deleteLastMsgRef:a,deleteRoomTime:s,ReadCount:c}));return{roomId:e.id,RoomAllCount:o,isHide:r,isDelete:i,deleteRoomTime:s,deleteLastMsgRef:a,ReadCount:c,LastMessage:l,newRoom:u}},dt=async()=>{const e=K.userState.value?.uid??"";try{if(null!==Le){const t=await(0,we.PL)((0,we.IO)(be.du.getRoomListCreator(e,Ue,K.loginedUserState.isOfficial||!1),(0,we.TQ)(Le)));if(!t.empty){Le=t.size>=Ue?t.docs[t.docs.length-1]:null;const e=t.docs.map((async e=>{const{newRoom:t,roomId:n}=await lt(e,K.loginedUserState.isOfficial||!1);qe.value.push(n),st(n,t)}));await Promise.all(e)}}}catch(ou){console.error(`loading room error: ${ou}`)}};var ht=__webpack_require__(3901);const ft={key:0};function gt(e,t,n,o,r,i){return e.disable?((0,s.wg)(),(0,s.iD)("div",ft,[(0,s.WI)(e.$slots,"default",{},void 0,!0)])):((0,s.wg)(),(0,s.j4)(a.W3,(0,s.dG)({key:1},(0,s.mx)(e.disableTransition),{css:!e.disable}),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default",{},void 0,!0)])),_:3},16,["css"]))}var mt=(0,s.aZ)({name:"CollapseGroupWrap",props:{duration:{type:Number,default:.3},disable:{type:Boolean,default:!1}},setup(e){const t={beforeEnter(t){t.dataset||(t.dataset={}),t.classList.add("collapseGroup-transition"),t.style.transitionDuration=`${e.duration}s`,t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},enter(e){if(e.dataset.oldOverflow=e.style.overflow,e.style.overflow="hidden",0!==e.scrollHeight){const t=e.scrollHeight;e.style.height=`${t}px`,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}else e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},afterEnter(e){e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.transitionDuration="",e.classList.remove("collapseGroup-transition")},beforeLeave(t){t.dataset||(t.dataset={}),t.classList.add("collapseGroup-transition"),t.style.transitionDuration=`${e.duration}s`,t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.opacity=0,e.style.transform="translateX(-10px)")},afterLeave(e){e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.transitionDuration="",e.style.opacity="",e.style.transform="",e.classList.remove("collapseGroup-transition")}},{disable:n}=(0,i.BK)(e),o=(0,s.Fl)((()=>n.value?{}:t));return{disableTransition:o}}});const yt=(0,C.Z)(mt,[["render",gt],["__scopeId","data-v-66fb3ce0"]]);var vt=yt,bt=vt;function _t(e,t,n,o,r,i){const a=(0,s.up)("Slide"),c=(0,s.up)("room-operation");return(0,s.wg)(),(0,s.j4)(c,{class:"absolute top-[4rem] left-0 mx-0",isShow:e.openHeaderOperation,onClose:e.controlHeaderOperation},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{animationName:e.componentAnimation},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.componentName),{nextStep:e.nextStep,prevStep:e.prevStep,key:e.componentName},null,8,["nextStep","prevStep"]))])),_:1},8,["animationName"])])),_:1},8,["isShow","onClose"])}var wt=__webpack_require__(7239);const Tt=(0,s._)("span",{class:"ml-5 text-sm"}," 釘選好友 ",-1),xt=(0,s._)("span",{class:"ml-5 text-sm"}," 隱藏好友 ",-1),St=(0,s._)("span",{class:"ml-5 text-sm"}," 好友設定 ",-1);function Et(e,t,n,o,r,i){const a=(0,s.up)("FontIcon"),c=(0,s.up)("room-operation-list");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{class:"flex py-3 px-6 pt-5 cursor-pointer",onClick:t[0]||(t[0]=t=>(e.controlHeaderOperation(),e.showRadio("PIN")))},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{name:"push_pin",type:"outlined"}),Tt])),_:1}),(0,s.Wm)(c,{class:"flex py-3 px-6 pt-5 cursor-pointer",onClick:t[1]||(t[1]=t=>(e.controlHeaderOperation(),e.showRadio("HIDE")))},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{name:"visibility_off",type:"outlined"}),xt])),_:1}),(0,s.Wm)(c,{class:"flex py-3 px-6 pb-5 cursor-pointer",onClick:t[2]||(t[2]=t=>e.nextStep("UnPinOrCheckHiddenFriend"))},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{name:"settings",type:"outlined"}),St])),_:1})])}const kt={class:"flex py-3 px-6 pt-5 cursor-pointer hover-and-active:bg-tertiary"},It=(0,s._)("div",{class:"flex-grow"},null,-1);function At(e,t,n,o,r,i){const a=(0,s.up)("FontIcon");return(0,s.wg)(),(0,s.iD)("div",kt,[(0,s.WI)(e.$slots,"default"),It,(0,s.Wm)(a,{name:"chevron_right"})])}var Rt=(0,s.aZ)({name:"HeaderOperationList",components:{FontIcon:F.Z},setup(){return{}}});const Ot=(0,C.Z)(Rt,[["render",At]]);var Ct=Ot,jt=(0,s.aZ)({name:"PinOrHideFriend",props:{nextStep:{type:Function,required:!0},prevStep:{type:Function,required:!0}},components:{RoomOperationList:Ct,FontIcon:F.Z},setup(){const e=(0,le.injectStrict)(le.CONTROL_HEADER_OPERATION),t=(0,le.injectStrict)(le.SHOW_RADIO_BUTTON);return{controlHeaderOperation:e,showRadio:t}}});const Nt=(0,C.Z)(jt,[["render",Et]]);var Pt=Nt;const Dt={class:"flex items-center my-3 relative justify-center h-[24px]"},Mt=(0,s._)("span",null," 好友設定 ",-1),Lt=(0,s._)("span",{class:"ml-5 text-sm"}," 隱藏名單 ",-1),Ut=(0,s._)("span",{class:"ml-5 text-sm"}," 解除釘選好友 ",-1);function Ft(e,t,n,o,r,i){const a=(0,s.up)("FontIcon"),c=(0,s.up)("room-operation-list");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Dt,[(0,s._)("div",{class:"cursor-pointer left-2 absolute w-[50px]",onClick:t[0]||(t[0]=t=>e.prevStep("PinOrHideFriend"))},[(0,s.Wm)(a,{class:"text-4xl",name:"chevron_left"})]),Mt]),(0,s.Wm)(c,{class:"flex py-3 px-6 pb-5 cursor-pointer",onClick:e.checkHasHiddenFriends},{default:(0,s.w5)((()=>[Lt])),_:1},8,["onClick"]),(0,s.Wm)(c,{class:"flex py-3 px-6 pb-5 cursor-pointer",onClick:t[1]||(t[1]=t=>(e.controlHeaderOperation(),e.showUnPinRadio()))},{default:(0,s.w5)((()=>[Ut])),_:1})])}var Bt=__webpack_require__(4184),Ht=(0,s.aZ)({name:"UnPinOrCheckHiddenFriend",props:{nextStep:{type:Function,required:!0},prevStep:{type:Function,required:!0}},components:{RoomOperationList:Ct,FontIcon:F.Z},setup(e){const t=(0,le.injectStrict)(le.CONTROL_HEADER_OPERATION),n=(0,le.injectStrict)(le.SHOW_UNPIN_RADIO_BUTTON),{openModal:o}=(0,Bt.d)("im-app-main"),r=()=>{if(K.hiddenFriends.length<=0)return t(),void o("alertModal",{message:"並無隱藏好友",icon:"default"});e.nextStep("UnHiddenFriendList")};return{controlHeaderOperation:t,showUnPinRadio:n,checkHasHiddenFriends:r}}});const Wt=(0,C.Z)(Ht,[["render",Ft]]);var qt=Wt;const Vt=e=>((0,s.dD)("data-v-3f8b5e6d"),e=e(),(0,s.Cn)(),e),zt={class:"flex items-center my-3 relative justify-center h-[24px]"},Gt=Vt((()=>(0,s._)("span",null," 隱藏名單 ",-1))),$t=["onClick"];function Kt(e,t,n,o,r,i){const a=(0,s.up)("FontIcon"),c=(0,s.up)("friend-item"),l=(0,s.up)("item-scroll-wrap");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",zt,[(0,s._)("div",{class:"cursor-pointer left-2 absolute w-[50px]",onClick:t[0]||(t[0]=t=>e.prevStep("UnPinOrCheckHiddenFriend"))},[(0,s.Wm)(a,{class:"text-4xl",name:"chevron_left"})]),Gt]),(0,s.Wm)(l,{class:"hidden-list",ref:"hiddenFriendsScrollIWrap","load-data-distance-px":100},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.hiddenFriends,((t,n)=>((0,s.wg)(),(0,s.j4)(c,{key:t,uid:t,index:n,avatarUrl:e.getUserInfo(t)?.photoURL||"",displayName:e.getUserInfo(t)?.displayName||"",active:!1,disabledHover:!0},{"button-side":(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("button",{class:"bg-mainGreen text-black px-2 rounded-md text-[12px] py-1",onClick:n=>e.showUnHideFriendConfirmModal(t)},"解除",8,$t)])])),_:2},1032,["uid","index","avatarUrl","displayName"])))),128))])),_:1},512)])}var Yt=(0,s.aZ)({name:"UnHiddenFriendList",components:{FontIcon:F.Z,FriendItem:de,ItemScrollWrap:$["default"]},props:{nextStep:{type:Function,required:!0},prevStep:{type:Function,required:!0}},setup(){const e=(0,le.injectStrict)(le.SHOW_UNHIDE_FRIEND_MODAL),t=(0,i.iH)(),n=()=>{(0,K.loadHiddenFriendByPagination)()},o=(0,s.YP)(t,(async()=>{t.value&&(t.value?.emitter.on(t.value?.eventMap.NEED_LOAD_DATA,n),o())}));return{getUserInfo:K.getUserInfo,hiddenFriends:K.hiddenFriends,hiddenFriendsScrollIWrap:t,showUnHideFriendConfirmModal:e}}});const Zt=(0,C.Z)(Yt,[["render",Kt],["__scopeId","data-v-3f8b5e6d"]]);var Jt=Zt;const Xt={key:0,class:"w-full reset-margin z-1"},Qt={key:0,class:"w-full bg-[#272B36] z-10 overflow-x-hidden"};function en(e,t,n,o,r,i){const a=(0,s.up)("collapse");return e.isShowDelay?((0,s.wg)(),(0,s.iD)("div",Xt,[(0,s._)("div",{class:(0,h.C_)(["mask z-1",e.maskClass]),onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t)),ref:"maskRef"},[(0,s.Wm)(a,{duration:.1},{default:(0,s.w5)((()=>[e.collapse?((0,s.wg)(),(0,s.iD)("div",Qt,[(0,s.WI)(e.$slots,"default",{},void 0,!0)])):(0,s.kq)("",!0)])),_:3},8,["duration"])],2)])):(0,s.kq)("",!0)}var tn=__webpack_require__(4848),nn=(0,s.aZ)({name:"roomOperation",props:{isShow:{type:Boolean,required:!0}},components:{Collapse:tn.Z},emits:["close"],setup(e,{emit:t}){const{isShow:n}=(0,i.BK)(e),o=(0,i.qj)([]),r=(0,i.iH)(!1),a=(0,i.iH)(!1),l=(0,i.iH)(null),u=e=>{(0,c.NXq)(l.value)===e.target&&t("close")},p=(0,s.YP)(n,(e=>{if(!0===e){r.value=!0;const e=setTimeout((()=>{o.push("mask-bg"),a.value=!0,clearTimeout(e)}),10)}else{o.splice(0,o.length),a.value=!1;const e=setTimeout((()=>{r.value=!1,clearTimeout(e)}),300)}}),{immediate:!0});return(0,s.Jd)((()=>{p()})),{maskClass:o,close:u,collapse:a,isShowDelay:r,maskRef:l}}});const on=(0,C.Z)(nn,[["render",en],["__scopeId","data-v-e672c154"]]);var rn=on,sn=(0,s.aZ)({name:"TalkGroupsOperation",components:{Slide:wt.Z,PinOrHideFriend:Pt,UnPinOrCheckHiddenFriend:qt,UnHiddenFriendList:Jt,RoomOperation:rn},setup(){const e=(0,le.injectStrict)(le.CONTROL_HEADER_OPERATION),t=(0,le.injectStrict)(le.OPEN_HEADER_OPERATION),n=(0,i.iH)("PinOrHideFriend"),o=(0,i.iH)("slideRight"),r=e=>{o.value=e},a=e=>{r("slideRight"),n.value=e},c=()=>{r("slideRight"),n.value="PinOrHideFriend"},l=e=>{r("slideLeft"),n.value=e},u=(0,s.YP)(t,(()=>{!1===t.value&&c()}));return(0,s.Jd)((()=>{u()})),{componentAnimation:o,componentName:n,nextStep:a,prevStep:l,controlHeaderOperation:e,openHeaderOperation:t}}});const an=(0,C.Z)(sn,[["render",_t]]);var cn=an;const ln={class:"overflow-x-hidden display-webkit-box hover-and-active:bg-tertiary"},un={key:0,class:"w-[50px] overflow-hidden flex justify-center items-center"},pn=["for"];function dn(e,t,n,o,r,i){const a=(0,s.up)("RadioButton"),c=(0,s.up)("FadeInLeft");return(0,s.wg)(),(0,s.iD)("div",ln,[(0,s.Wm)(c,{duration:.2},{default:(0,s.w5)((()=>[e.isShowRadio?((0,s.wg)(),(0,s.iD)("div",un,[(0,s.Wm)(a,{modelValue:e.wrapModelValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.wrapModelValue=t),value:e.radioValue,for:e.forTag},null,8,["modelValue","value","for"])])):(0,s.kq)("",!0)])),_:1},8,["duration"]),(0,s._)("label",{class:"w-full label-block",for:e.forTag},[(0,s.WI)(e.$slots,"default",{},void 0,!0)],8,pn)])}function hn(e,t,n,o,r,i){return(0,s.wg)(),(0,s.j4)(a.uT,(0,s.mx)(e.transition),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16)}var fn=(0,s.aZ)({name:"FadeInLeftTransition",props:{duration:{type:Number,default:.3}},setup(e){const t={beforeEnter(t){t.classList.add("fadeInLeft-transition"),t.dataset||(t.dataset={}),t.style.transitionDuration=`${e.duration}s`,t.dataset.oldWidth=t.style.width,t.style.width="0"},enter(e){e.dataset.oldOverflow=e.style.overflow},afterEnter(e){e.style.width=e.dataset.oldWidth,e.style.overflow=e.dataset.oldOverflow,e.style.transitionDuration=""},beforeLeave(t){t.classList.contains("fadeInLeft-transition")||t.classList.add("fadeInLeft-transition"),t.dataset||(t.dataset={}),t.style.transitionDuration=`${e.duration}s`,t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.width=`${t.dataset.oldWidth}px`,t.style.overflow="hidden"},leave(e){0!==e.style.width&&(e.style.width=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){e.style.width="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.transitionDuration="",e.classList.remove("fadeInLeft-transition")}};return{transition:t}}});const gn=(0,C.Z)(fn,[["render",hn]]);var mn=gn,yn=mn;const vn=["id"];function bn(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",{class:"relative w-[25px] h-[25px] flex justify-center items-center",onClick:t[1]||(t[1]=(...t)=>e.changeValue&&e.changeValue(...t))},[(0,s.wy)((0,s._)("input",{type:"radio",class:"radio",id:e.for,"onUpdate:modelValue":t[0]||(t[0]=t=>e.mockValue=t)},null,8,vn),[[a.G2,e.mockValue]]),(0,s._)("div",{class:(0,h.C_)(["radio-btn",e.radioClass])},null,2)])}var _n=(0,s.aZ)({name:"RadioButton",props:{modelValue:{type:String,required:!0},value:{type:String,required:!0},for:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n,value:o}=(0,i.BK)(e),r=(0,i.iH)(n.value),a=(0,s.Fl)((()=>n.value===o.value?["check"]:[""])),c=()=>{t("update:modelValue",o.value)},l=(0,s.YP)(n,(()=>{r.value=n.value}));return(0,s.wF)((()=>{l()})),{radioClass:a,changeValue:c,mockValue:r}}});const wn=(0,C.Z)(_n,[["render",bn],["__scopeId","data-v-94302120"]]);var Tn=wn,xn=Tn,Sn=(0,s.aZ)({name:"WrapRadio",components:{FadeInLeft:yn,RadioButton:xn},props:{isShowRadio:{type:Boolean,required:!0},modelValue:{type:String,required:!0},radioValue:{type:String,required:!0},forTag:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n}=(0,i.BK)(e),o=(0,s.Fl)({get:()=>n.value,set:e=>{t("update:modelValue",e)}});return{wrapModelValue:o}}});const En=(0,C.Z)(Sn,[["render",dn],["__scopeId","data-v-5ed03d15"]]);var kn=En;function In(){const e=(0,i.iH)(!1),t=(0,S.OT)(e),n=(0,i.iH)(""),o=(0,i.iH)(!1),r=(0,i.iH)(!1),s=()=>{t(!1),o.value=!1},a=()=>{t(!1),n.value="",o.value=!1};return{isShowRadio:(0,i.OT)(e),toggleShowRadio:t,radioValue:n,isShowRadioOperation:o,openHeaderOperation:r,cancelRadioOperation:s,resetRadioValue:a}}function An(){const{openModal:e}=(0,Bt.d)("im-app-main"),{isShowRadio:t,toggleShowRadio:n,radioValue:o,isShowRadioOperation:r,cancelRadioOperation:a,openHeaderOperation:c,resetRadioValue:l}=In(),u=(0,i.iH)(!1),p=(0,S.OT)(u),d=(0,i.iH)(""),h=(0,i.iH)("PIN"),f=(0,s.Fl)((()=>{const e=(0,i.SU)(h.value),t={PIN:ie()(o.value?["bg-mainGreen"]:["bg-btnDisabled"]),HIDE:ie()(o.value?["bg-mainGreen"]:["bg-btnDisabled"]),UNPIN:ie()(d.value?["bg-mainGreen"]:["bg-btnDisabled"])};return t[e]})),g=(0,s.Fl)((()=>{const e=(0,i.SU)(h.value),t={PIN:!o.value,HIDE:!o.value,UNPIN:!d.value};return t[e]})),m=(0,s.Fl)((()=>{const e=(0,i.SU)(h.value),t={PIN:"釘選好友",HIDE:"隱藏好友",UNPIN:"解除釘選好友"};return t[e]})),y=(0,s.Fl)((()=>{const e=(0,i.SU)(h.value),t={PIN:E,HIDE:R,UNPIN:E};return t[e]})),v=()=>{c.value=!c.value,n(!1),p(!1),r.value=!1},b=e=>{h.value=e},_=e=>{n(!0),o.value="",b(e);const t=setTimeout((()=>{r.value=!0,clearTimeout(t)}),400)},w=()=>{if(K.pinnedFriends.length<=0)return void e("alertModal",{icon:"default",message:"並無釘選好友"});b("UNPIN"),p(!0),d.value="";const t=setTimeout((()=>{r.value=!0,clearTimeout(t)}),400)},T=()=>{const e=o.value;l();const t=setTimeout((()=>{(0,_e._B)([e]),clearTimeout(t)}),100)},x=()=>{const e=d.value;d.value="",p(!1),l();const t=setTimeout((()=>{(0,_e.gK)([e]),clearTimeout(t)}),100)},E=()=>{"PIN"===h.value?T():x()},k=()=>{const e=o.value;l(),(0,_e.$I)([e])},I=e=>{l(),(0,_e.HK)([e])};let A=!1;const R=()=>{const{closeModal:t}=e("confirmModal",{buttonText:"確定隱藏",title:"確定隱藏好友？",desc:"該好友會隱藏於聊天列表及好友名單，並接收不到任何關於此好友的新訊息。",confirmFunction:()=>{if(!A)try{A=!0,k(),t()}catch(ou){console.error(ou)}finally{A=!1}}})},O=t=>{const{closeModal:n}=e("confirmModal",{buttonText:"解除隱藏",title:"解除隱藏",desc:"該好友會再次出現在聊天列表及好友名單，並可看見與該好友的歷史訊息記錄",confirmBtnColor:"bg-mainGreen",confirmFunction:()=>{if(!A)try{if(A=!0,I(t),K.hiddenFriends.length<=0){const e=setTimeout((()=>{v(),clearTimeout(e)}),500)}n()}catch(ou){console.error(ou)}finally{A=!1}}})},C=()=>{p(!1),d.value="",a()},j=(0,s.Fl)((()=>({confirmBtnClass:f.value,disabledBtn:g.value,btnText:m.value,confirmBtnAction:y.value})));return{isShowRadio:t,radioValue:o,isShowRadioOperation:r,friendListCancelRadioOperation:C,controlHeaderOperation:v,openHeaderOperation:c,showRadio:_,pinOrUnPinFriend:E,isShowUnPinRadio:(0,i.OT)(u),unPinRadioValue:d,showUnPinRadio:w,dependTypeAction:j,showHideFriendConfirmModal:R,hideFriend:k,showUnHideFriendConfirmModal:O}}var Rn=(0,s.aZ)({name:"FriendLists",directives:{bindObserver:{mounted(e,t){const{io:n}=t.value;n.observe(e)}}},components:{VisibleObserver:V,ItemScrollWrap:$["default"],SearchInput:ve,FontIcon:F.Z,FriendItem:de,FriendListOperation:cn,useAvatarHeader:G,UserData:Y,CollapseGroup:bt,WrapWithRadio:kn,Collapse:tn.Z,...q.components},data:()=>({...q.data}),setup(){const e=(0,i.iH)(!0),t=t=>{e.value=t},n=(0,i.iH)(),o=(0,i.iH)(""),r=K.userState.value?.uid,a=(0,S.Dp)(o,300),l=(0,s.Fl)((()=>0!==o.value.replace(/\s/g,"").length)),u=(0,i.qj)(new Map),p=(0,s.Fl)((()=>a.value?[]:K.pinnedFriends)),d=(0,s.Fl)((()=>a.value?(0,K.filterNotVisibleFriends)(C.value?.friendLists):[...p.value,...(0,K.filterNotVisibleFriends)(K.friends)])),{list:h,containerProps:f,wrapperProps:g,scrollTo:m}=(0,c.XdG)(d,{itemHeight:60,overscan:5}),y=e=>{e&&(n.value=e,f.ref.value=e.$el)},{isShowRadio:v,radioValue:b,isShowRadioOperation:_,friendListCancelRadioOperation:w,controlHeaderOperation:T,openHeaderOperation:x,showRadio:E,isShowUnPinRadio:k,unPinRadioValue:I,showUnPinRadio:A,dependTypeAction:R,showUnHideFriendConfirmModal:O}=An();(0,s.JJ)(le.CONTROL_HEADER_OPERATION,T),(0,s.JJ)(le.OPEN_HEADER_OPERATION,x),(0,s.JJ)(le.SHOW_RADIO_BUTTON,E),(0,s.JJ)(le.SHOW_UNPIN_RADIO_BUTTON,A),(0,s.JJ)(le.SHOW_UNHIDE_FRIEND_MODAL,O);let C=(0,i.iH)(null);const j=async e=>{try{if(v.value||k.value)return;K.needGetInfoUsers.value.push(e);const t=await be.du.getRoom(e);ot(t.getRoomId()),(0,U.p)("TalkingRoom",{roomID:t.getRoomId()})}catch(ou){console.log(ou)}},N=()=>{l.value&&null!==C.value?C.value?.getList():(0,K.getUserAndUpdateFriendLists)(r)};(0,S.f8)(n,(()=>{n.value&&n.value?.emitter.on(n.value?.eventMap.NEED_LOAD_DATA,N)})),(0,s.YP)(a,(async e=>{t(!0),C.value=null,C.value=new _e.Z(r,e),C.value.getList(),m(1)})),_e.XB().then(K.updateAllFriendsCount).catch((e=>console.log(e)));const P=e=>{be.qb.getOnlineStatus(e)},D=({dom:e,isVisible:t})=>{const n=e.getAttribute("data-friend-id");t?u.set(n,t):u.delete(n)},M=(0,S.B_)(u,(()=>{u.forEach(((e,t)=>{P(t)}))}),{debounce:300});return(0,s.Jd)((()=>{M()})),{onlineUserMap:ht.T,userId:r,toFriend:j,scrollIWrap:n,getUserInfo:K.getUserInfo,showFriendList:d,vShowLists:h,containerProps:f,wrapperProps:g,showPinnedFriendList:p,allFriendsCount:K.allFriendsCount,searchText:o,goPersonalInfo:U.aB,elementIsVisible:D,isShowRadio:v,radioValue:b,isShowUnPinRadio:k,unPinRadioValue:I,dependTypeAction:R,controlHeaderOperation:T,isShowRadioOperation:_,friendListCancelRadioOperation:w,showRadio:E,disabledAnimation:e,updateDisabledAnimation:t,matchRef:y}}});const On=(0,C.Z)(Rn,[["render",x]]);var Cn=On;const jn=(0,s._)("div",{class:"flex-grow"},null,-1),Nn={key:0},Pn={class:"flex space-x-3"},Dn={class:"focus:outline-none"},Mn={class:"flex flex-col w-full justify-start"},Ln={class:"flex justify-between text-left py-3 px-5 text-xl cursor-pointer"},Un=(0,s._)("span",null,"聊天",-1),Fn={key:0,class:"flex"},Bn=["disabled"],Hn={class:"flex flex-col friend-lists flex-grow"};function Wn(e,t,n,o,r,i){const a=(0,s.up)("useAvatarHeader"),c=(0,s.up)("NotifySwitch"),l=(0,s.up)("FontIcon"),u=(0,s.up)("user-data"),p=(0,s.up)("talk-groups-operation"),d=(0,s.up)("MainHeaderWrap"),f=(0,s.up)("Footer"),g=(0,s.up)("collapse"),m=(0,s.up)("item"),y=(0,s.up)("wrapWithRadio"),v=(0,s.up)("item-scroll-wrap"),b=(0,s.up)("MainContent"),_=(0,s.up)("AppLayout");return(0,s.wg)(),(0,s.j4)(_,null,{header:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"user-i-d":e.userInfo.userId||""},{default:(0,s.w5)((({info:t})=>[(0,s.Wm)(a,{photoURL:t.photoURL||"",displayName:t.displayName||"",goPersonalInfo:e.userInfo.goPersonalInfo},null,8,["photoURL","displayName","goPersonalInfo"]),jn,e.enableNotifyPlugin?((0,s.wg)(),(0,s.iD)("div",Nn,[(0,s.Wm)(c)])):(0,s.kq)("",!0),(0,s._)("div",Pn,[(0,s._)("button",Dn,[(0,s.Wm)(l,{name:"more_horiz",onClick:e.controlHeaderOperation},null,8,["onClick"])])])])),_:1},8,["user-i-d"]),(0,s.Wm)(p)])),_:1})])),footer:(0,s.w5)((()=>[(0,s.Wm)(f)])),default:(0,s.w5)((()=>[(0,s.Wm)(b,{wrapClass:e.wrapClass},{default:(0,s.w5)((()=>[(0,s._)("div",Mn,[(0,s._)("div",Ln,[Un,(0,s.Wm)(g,{duration:.1},{default:(0,s.w5)((()=>[e.isShowRadioOperation?((0,s.wg)(),(0,s.iD)("div",Fn,[(0,s._)("button",{class:"mr-2 text-xs border py-1 px-4 rounded-md",onClick:t[0]||(t[0]=(...t)=>e.cancelRadioOperation&&e.cancelRadioOperation(...t))},"取消"),(0,s._)("button",{class:(0,h.C_)(["text-xs py-1 px-4 rounded-md",[e.confirmBtnClass]]),disabled:""===e.radioValue,onClick:t[1]||(t[1]=(...t)=>e.showConfirm&&e.showConfirm(...t))},(0,h.zw)(e.operationBtnText),11,Bn)])):(0,s.kq)("",!0)])),_:1},8,["duration"])]),(0,s._)("div",Hn,[(0,s.Wm)(v,{ref:e.matchRef,onScroll:t[3]||(t[3]=t=>e.containerProps.onScroll())},{default:(0,s.w5)((()=>[(0,s._)("div",(0,h.vs)((0,s.F4)(e.wrapperProps)),[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.vShowRooms,(({data:n,index:o})=>((0,s.wg)(),(0,s.j4)(y,{key:`${n.room_id}_${o}`,isShowRadio:e.isShowRadio,modelValue:e.radioValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.radioValue=t),forTag:`radio-${n.room_id}`,radioValue:n.room_id},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"w-full",index:o,roomId:n.room_id,uid:e.userStore.userMap.value.get(n.members[0])?.uid||"",roomType:n.type,displayName:e.userStore.userMap.value.get(n.members[0])?.displayName||"",time:e.formatTime(n.LastActiveTime),members:n.members,avatarUrl:e.userStore.userMap.value.get(n.members[0])?.photoURL||"",recentMsg:n.LastMessage.lastMessage,notReadCount:n.RoomAllCount-n.ReadCount,active:!1,onClick:t=>(e.toRoom(n.room_id),e.saveIndex(o))},null,8,["index","roomId","uid","roomType","displayName","time","members","avatarUrl","recentMsg","notReadCount","onClick"])])),_:2},1032,["isShowRadio","modelValue","forTag","radioValue"])))),128))],16)])),_:1},512)])])])),_:1},8,["wrapClass"])])),_:1})}const qn={class:"tip-wrap cursor-pointer relative"},Vn={key:2,class:"tip bg-modalDefault rounded-md text-xs"};function zn(e,t,n,o,r,i){const a=(0,s.up)("FontIcon");return(0,s.wg)(),(0,s.iD)("div",qn,[e.enableNotify?((0,s.wg)(),(0,s.j4)(a,{key:0,class:"self-center",name:"notifications",type:"outlined",onClick:t[0]||(t[0]=t=>e.setNotifyEnable(!1))})):((0,s.wg)(),(0,s.j4)(a,{key:1,class:"self-center text-talkDeleteRed",name:"notifications_off",onClick:t[1]||(t[1]=t=>e.setNotifyEnable(!0))})),e.isMobile?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Vn,(0,h.zw)(e.tipText),1))])}const Gn=()=>{const e=(0,c.kCD)(c.f25),t=e.smaller("md"),n=e.isSmaller("sm");return{isSmallerMd:t,isMobile:n}};var $n=(0,s.aZ)({name:"NotifySwitch",components:{FontIcon:F.Z},setup(){const{isMobile:e}=Gn(),t=async e=>{try{await Se.ky(e),K.updateEnableNotifyStatus(e)}catch(ou){console.log(ou)}},n=(0,s.Fl)((()=>`再次點擊${K.enableNotify.value?"關閉":"開啟"}所有通知`));return{isMobile:e,setNotifyEnable:t,tipText:n,enableNotify:K.enableNotify}}});const Kn=(0,C.Z)($n,[["render",zn],["__scopeId","data-v-2661cccc"]]);var Yn=Kn;const Zn={class:"flex py-3 px-5 space-x-3 items-center cursor-pointer hover-and-active:bg-tertiary"},Jn={class:"flex relative rounded-full bg-grey-300"},Xn={class:"flex-grow"},Qn={class:"text-sm text-left font-medium flex items-center"},eo={key:0,class:"rounded-full mb-1.5 h-3 w-16 bg-skeletonMainColor"},to={key:1},no={key:2,class:"flex-inline ml-1"},oo=["src"],ro=["textContent"],io={class:"flex flex-col min-w-[4em]"},so={class:"text-xs text-gray-400 text-right"},ao={class:"text-right"};function co(e,t,n,o,r,i){const c=(0,s.up)("FontIcon"),l=(0,s.up)("isOfficial");return(0,s.wg)(),(0,s.iD)("div",Zn,[(0,s._)("div",Jn,[(0,s._)("div",{class:"inline-block h-9 w-9 rounded-full bg-center bg-contain",style:(0,h.j5)({backgroundImage:`url('${e.imgUrl}')`})},null,4),(0,s._)("span",{class:(0,h.C_)(["point absolute w-1.5 h-1.5 rounded-full -right-1 -top-1",{active:e.active}])},null,2)]),(0,s._)("div",Xn,[(0,s._)("div",Qn,[""===e.displayName?((0,s.wg)(),(0,s.iD)("div",eo)):((0,s.wg)(),(0,s.iD)("span",to,(0,h.zw)(e.displayName),1)),e.showDisableIcon===e.NotifyStatus.ROOM_DISENABLE?((0,s.wg)(),(0,s.iD)("span",no,[(0,s.Wm)(c,{class:"text-sm text-gray-500",name:"notifications_off"})])):(0,s.kq)("",!0),(0,s.Wm)(l,{"user-id":e.uid},{default:(0,s.w5)((({isOfficial:t})=>[t.value?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"ml-1 inline-block",src:`${e.gcpImStoragePath}/static/images/official_account_icon.png`,width:"16",height:"16"},null,8,oo)):(0,s.kq)("",!0)])),_:1},8,["user-id"])]),(0,s._)("p",{class:"text-itme-wrap text-sm text-gray-400 text-left font-medium whitespace-pre-line max-h-[3em] break-all",textContent:(0,h.zw)(e.getRecentMsg)},null,8,ro)]),(0,s._)("div",io,[(0,s._)("div",so,(0,h.zw)(e.time),1),(0,s._)("div",ao,[(0,s.wy)((0,s._)("span",{class:(0,h.C_)(["inline-block text-sm leading-normal font-bold rounded-full text-center bg-mainGreen min-w-[1.5em] min-h-[1.5em]",[e.countStyle]])},(0,h.zw)(e.filterNotReadCount),3),[[a.F8,e.notReadCount>0]])])])])}var lo;(function(e){e[e["NOTIFY_PLUGIN_ENABLE"]=0]="NOTIFY_PLUGIN_ENABLE",e[e["ROOM_ENABLE"]=1]="ROOM_ENABLE",e[e["ROOM_DISENABLE"]=2]="ROOM_DISENABLE"})(lo||(lo={}));var uo=(0,s.aZ)({name:"TalkItem",props:{index:{type:Number},roomId:{type:String,required:!0},uid:{type:String,required:!0},members:{type:Array,required:!0},notReadCount:{type:Number,default:()=>0},roomType:{type:String,required:!0},displayName:{type:String,required:!0},time:{type:String},active:{type:Boolean,default:()=>!1},avatarUrl:{type:String,required:!0},recentMsg:{type:String,required:!0}},components:{FontIcon:F.Z,isOfficial:ae},setup(e){const{avatarUrl:t,notReadCount:n,recentMsg:o,roomId:r}=(0,i.BK)(e),{load:a,imgUrl:c}=ce(t.value,le.FAKE_AVATAR),l=e.members[0]||"",u=(0,s.Fl)((()=>Ee.value?We.value.has(r.value)&&!1===We.value.get(r.value)?lo.ROOM_DISENABLE:lo.ROOM_ENABLE:lo.NOTIFY_PLUGIN_ENABLE));""!==l&&K.needGetInfoUsers.value.push(l);const p=(0,s.Fl)((()=>n.value>99?"99+":n.value<0?0:n.value)),d=(0,s.Fl)((()=>""===o.value?" ":o.value)),h=(0,s.Fl)((()=>ie()(n.value<10?["min-w-[1.5em] min-h-[1.5em]"]:["px-2"]))),f=(0,s.YP)(t,(e=>{a(e)}),{immediate:!0});return(0,s.Jd)((()=>{f()})),{NotifyStatus:lo,imgUrl:c,showDisableIcon:u,filterNotReadCount:p,getRecentMsg:d,countStyle:h,gcpImStoragePath:(0,le.getConfig)().GCP_IM_STORAGE_URL}}});const po=(0,C.Z)(uo,[["render",co],["__scopeId","data-v-667d9094"]]);var ho=po;function fo(e,t,n,o,r,i){const a=(0,s.up)("hide-or-delete-room"),c=(0,s.up)("room-operation");return(0,s.wg)(),(0,s.j4)(c,{class:"absolute top-[4rem] left-0 mx-0",isShow:e.openHeaderOperation,onClose:e.controlHeaderOperation},{default:(0,s.w5)((()=>[(0,s.Wm)(a)])),_:1},8,["isShow","onClose"])}const go=(0,s._)("span",{class:"ml-5 text-sm"},"隱藏對話",-1),mo=(0,s._)("span",{class:"ml-5 text-sm"},"刪除對話",-1);function yo(e,t,n,o,r,i){const a=(0,s.up)("FontIcon"),c=(0,s.up)("room-operation-list");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c,{class:"flex py-3 px-6 pt-5 cursor-pointer",onClick:t[0]||(t[0]=t=>(e.controlHeaderOperation(),e.showRadioBtn("HIDE")))},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{name:"visibility_off"}),go])),_:1}),(0,s.Wm)(c,{class:"flex py-3 px-6 pb-5 cursor-pointer",onClick:t[1]||(t[1]=t=>(e.controlHeaderOperation(),e.showRadioBtn("DELETE")))},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{name:"delete_outline"}),mo])),_:1})],64)}var vo=(0,s.aZ)({name:"HideOrDeleteRoom",components:{RoomOperationList:Ct,FontIcon:F.Z},setup(){const e=(0,le.injectStrict)(le.CONTROL_HEADER_OPERATION),t=(0,le.injectStrict)(le.SHOW_RADIO_BUTTON),n=(0,le.injectStrict)(le.OPEN_HEADER_OPERATION);return{openHeaderOperation:n,controlHeaderOperation:e,showRadioBtn:t}}});const bo=(0,C.Z)(vo,[["render",yo]]);var _o=bo,wo=(0,s.aZ)({name:"FriendListOperation",components:{RoomOperation:rn,HideOrDeleteRoom:_o},setup(){const e=(0,le.injectStrict)(le.CONTROL_HEADER_OPERATION),t=(0,le.injectStrict)(le.OPEN_HEADER_OPERATION);return{controlHeaderOperation:e,openHeaderOperation:t}}});const To=(0,C.Z)(wo,[["render",fo]]);var xo=To;const So=async(e,{roomIds:t})=>{try{const n=await window.dog.imRoomCommand.api.hideRoom({panAccessToken:e,roomIds:t});return t.map((e=>Ne.NU(e,Ne.p2.HIDE))),Promise.resolve(n)}catch(ou){return Promise.reject(ou)}},Eo=async(e,{roomIds:t})=>{try{const n=await window.dog.imRoomCommand.api.deleteRoom({panAccessToken:e,roomIds:t});return t.map((e=>Ne.NU(e,Ne.p2.DELETE))),Promise.resolve(n)}catch(ou){return Promise.reject(ou)}};var ko=__webpack_require__(3721);const Io=async e=>{try{const t=await So(K.panToken.value,{roomIds:e.map((e=>e))});return Promise.resolve(t)}catch(ou){return Promise.reject(ou)}},Ao=async e=>{try{const t=await Eo(K.panToken.value,{roomIds:e.map((e=>e))});return Promise.resolve(t)}catch(ou){return Promise.reject(ou)}},Ro=async e=>{try{e.forEach((e=>tt(e))),await ko.Y(K.panToken.value,{roomId:e})}catch(ou){return Promise.reject(ou)}};function Oo(){const{isShowRadio:e,toggleShowRadio:t,radioValue:n,isShowRadioOperation:o,cancelRadioOperation:r,resetRadioValue:a,openHeaderOperation:c}=In(),{openModal:l}=(0,Bt.d)("im-app-main");let u="";const p=(0,i.iH)("HIDE"),d=(0,s.Fl)((()=>ie()(n.value?["bg-headerOperationRed"]:["bg-btnDisabled"]))),h=(0,s.Fl)((()=>"HIDE"===p.value?"隱藏對話":"刪除對話")),f=(0,s.Fl)((()=>({buttonText:"HIDE"===p.value?"確認隱藏":"確認刪除",title:"HIDE"===p.value?"確定隱藏對話？":"確定刪除對話?",desc:"HIDE"===p.value?"聊天訊息紀錄不會被刪除，若被隱藏的對話有新訊息，將會再次出現。":"若刪除選擇的對話。將不會保留聊天記錄，且無法恢復，請再次確認。",confirmFunction:async()=>{"HIDE"===p.value?await Io([u]):"DELETE"===p.value&&(await Ao([u]),Ro([u]),u="")}}))),g=e=>{p.value=e,t(!0),n.value="";const r=setTimeout((()=>{o.value=!0,clearTimeout(r)}),400)};let m=!1;const y=()=>{const e=(0,i.SU)(f),{closeModal:t}=l("confirmModal",{buttonText:e.buttonText,title:e.title,desc:e.desc,confirmFunction:async()=>{if(!m)try{m=!0,u=n.value,rt(u,p.value,!0),a(),t(),await e.confirmFunction(),m=!1}catch(ou){console.error(ou)}}})};let v=!1;const b=()=>{if(v)return;v=!0,c.value=!c.value,t(!1);const e=setTimeout((()=>{v=!1,clearTimeout(e)}),300)};return{isShowRadio:e,radioValue:n,isShowRadioOperation:o,showRadioBtn:g,operationBtnText:h,cancelRadioOperation:r,showConfirm:y,confirmModalProperty:f,operationType:p,confirmBtnClass:d,controlHeaderOperation:b,openHeaderOperation:c}}var Co=(0,s.aZ)({name:"TalkGroups",components:{ItemScrollWrap:$["default"],FontIcon:F.Z,useAvatarHeader:G,NotifySwitch:Yn,Item:ho,UserData:Y,TalkGroupsOperation:xo,Collapse:tn.Z,WrapWithRadio:kn,...q.components},data:()=>({...q.data}),setup(){const{isShowRadio:e,radioValue:t,isShowRadioOperation:n,showRadioBtn:o,cancelRadioOperation:r,operationBtnText:i,showConfirm:a,confirmBtnClass:l,controlHeaderOperation:u,openHeaderOperation:p}=Oo();(0,s.JJ)(le.OPEN_HEADER_OPERATION,p),(0,s.JJ)(le.CONTROL_HEADER_OPERATION,u),(0,s.JJ)(le.SHOW_RADIO_BUTTON,o);const d=(0,s.Fl)((()=>{const e=K.userState.value?.uid;return{userId:e,goPersonalInfo:()=>(0,U.aB)(e)}})),h=(0,s.Fl)((()=>Array.from(He.value,(([,e])=>e)).filter((e=>e.needToShow)).sort(((e,t)=>t.LastActiveTime-e.LastActiveTime)))),{list:f,containerProps:g,wrapperProps:m,scrollTo:y}=(0,c.XdG)(h,{itemHeight:60,overscan:5}),v=e=>{e&&(e.emitter.on(e.eventMap.NEED_LOAD_DATA,(()=>{dt()})),g.ref.value=e.$el)},b=e=>le.TimeFormatDistance(e),_=t=>{e.value||(ot(t),(0,U.p)("TalkingRoom",{roomID:t}))},w=e=>{Ge.value=e};return(0,s.bv)((()=>{Ge.value>1&&setTimeout((()=>{y(Ge.value),Ge.value=0}),0)})),{operationBtnText:i,isShowRadio:e,isShowRadioOperation:n,cancelRadioOperation:r,controlHeaderOperation:u,userStore:K,rooms:h,vShowRooms:f,containerProps:g,wrapperProps:m,matchRef:v,userInfo:d,formatTime:b,toRoom:_,radioValue:t,showConfirm:a,confirmBtnClass:l,enableNotifyPlugin:Ee,saveIndex:w}}});const jo=(0,C.Z)(Co,[["render",Wn]]);var No=jo;const Po=e=>((0,s.dD)("data-v-780b2e93"),e=e(),(0,s.Cn)(),e),Do={class:"text-contentText px-4 py-3.5 pl-2 pr-14 border-b border-mainBodColor bg-bgDark min-h-[3.5em]"},Mo={class:"flex items-center"},Lo={class:"flex"},Uo={class:"ml-1 flex justify-center"},Fo={class:"displayname ml-2"},Bo={class:"text-sm text-left font-medium"},Ho=["src"],Wo=Po((()=>(0,s._)("div",{class:"flex-grow"},null,-1))),qo={class:"flex space-x-3"},Vo={class:"relative flex flex-col friend-lists flex-grow text-white bg-bgDark overflow-hidden"},zo={class:"absolute bottom-0 w-full text-center py-1 text-xs bg-bgLight text-bgDark z-[1] opacity-80"},Go=["data-stickyId"],$o={class:"rounded-md text-center inline-block relative timestamp py-[2px] px-[10px]"},Ko=["src"],Yo={key:1,class:"w-full text-center p-1 text-sm bg-red-600 opacity-70"};function Zo(e,t,n,o,r,i){const c=(0,s.up)("FontIcon"),l=(0,s.up)("avatar"),u=(0,s.up)("isOfficial"),p=(0,s.up)("user-data"),d=(0,s.up)("not-friend-modal"),f=(0,s.up)("is-friend"),g=(0,s.up)("MessageSendList"),m=(0,s.up)("gaUploadImage"),y=(0,s.up)("gaVisibilityAnnou"),v=(0,s.up)("Linkify"),b=(0,s.up)("gaLinkClickBubble"),_=(0,s.up)("MainContent"),w=((0,s.up)("LinkPreview"),(0,s.up)("LoadingIcon")),T=(0,s.up)("transfer-bubble"),x=(0,s.up)("tidy-black-bubble"),S=(0,s.up)("message-bubble"),E=(0,s.up)("VisibleObserver"),k=(0,s.up)("item-scroll-wrap"),I=(0,s.up)("Reply"),A=(0,s.up)("AppLayout"),R=(0,s.Q2)("sticky");return(0,s.wg)(),(0,s.j4)(A,null,{header:(0,s.w5)((()=>[(0,s._)("div",Do,[(0,s._)("div",Mo,[(0,s.Wm)(p,{"user-i-d":e.roomInfo.members[0]||""},{default:(0,s.w5)((({info:n})=>[(0,s._)("div",Lo,[(0,s._)("button",{class:"focus:outline-none flex",onClick:t[0]||(t[0]=(...t)=>e.backFriend&&e.backFriend(...t))},[(0,s.Wm)(c,{class:"text-3xl leading-6",name:"chevron_left"})])]),(0,s._)("div",Uo,[(0,s.Wm)(l,{url:n.photoURL,onClick:t[1]||(t[1]=t=>e.goPersonalInfo(e.roomInfo.members[0]))},null,8,["url"])]),(0,s._)("div",Fo,[(0,s._)("p",Bo,[(0,s.Uk)((0,h.zw)(n.displayName)+" ",1),(0,s.Wm)(u,{"user-id":n.uid||""},{default:(0,s.w5)((({isOfficial:t})=>[t.value?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"ml-1 inline-block mb-[1px]",src:`${e.gcpImStoragePath}/static/images/official_account_icon.png`,width:"16",height:"16"},null,8,Ho)):(0,s.kq)("",!0)])),_:2},1032,["user-id"])])]),Wo,(0,s._)("div",qo,[(0,s._)("button",{class:"focus:outline-none",onClick:t[2]||(t[2]=(...t)=>e.goRoomInfo&&e.goRoomInfo(...t))},[(0,s.Wm)(c,{name:"menu"})])])])),_:1},8,["user-i-d"])])]),(0,s.Wm)(f,{"friend-id":e.roomInfo.members[0]||""},{default:(0,s.w5)((({isFriend:t,status:n,friendNumberId:o,friendHashId:r})=>[t?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{key:0,initStatus:n,friendHashId:r,friendNumberId:o,scrollToBottom:e.scrollIWrap?.scrollToBottom},null,8,["initStatus","friendHashId","friendNumberId","scrollToBottom"]))])),_:1},8,["friend-id"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(m,{"to-user":e.userID},{default:(0,s.w5)((({action:t})=>[(0,s.Wm)(g,{roomID:e.roomID,reply:e.replyMsg,onSendMessage:e.sendMessage,onSendSuccess:e.clearReplyMsg,onFileUploadError:e.handleFileUploadError,onToGa:t},null,8,["roomID","reply","onSendMessage","onSendSuccess","onFileUploadError","onToGa"])])),_:1},8,["to-user"])])),default:(0,s.w5)((()=>[(0,s.Wm)(_,{wrapClass:e.wrapClass,id:e.talkingRoomID,class:"relative"},{default:(0,s.w5)((()=>[(0,s._)("div",Vo,[(0,s.wy)((0,s._)("div",zo,"讀取中...",512),[[a.F8,e.isLoadData]]),(0,s.Wm)(k,{ref:"scrollIWrap",loadPosation:"top","load-data-distance-px":100,class:"flex p-3",style:(0,h.j5)(e.scrollWrapStyle)},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{showRatio:1},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.groupMessages,((n,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o,class:"flex flex-col"},[(0,s.wy)((0,s._)("div",{class:"h-[1px]","data-stickyId":e.getTimestamp(n[0].Created)},null,8,Go),[[R,e.stickyOberver]]),n.length>0?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,h.C_)(["text-center mt-3 text-sm sticky z-75 my-transition",[e.hasAnnouceData?"top-4":"top-0"]])},[(0,s._)("span",$o,(0,h.zw)(e.getTimestamp(n[0].Created)),1)],2)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n,((o,r)=>((0,s.wg)(),(0,s.j4)(S,{key:`${r}-${o.id}`,class:(0,h.C_)([0===r?"mt-3":""]),messageId:o.id,isTidyBlackType:o.isTidyBlackType,isDynamicContent:o.isAnnouncementType,isMe:o.isMe(e.userID),status:o.Status,time:o.createTime,isMsgProcess:o.Process,hasActions:o.isTextType,nextIsMe:e.hasNextMessage(n,o.SenderID,r+1),avatarUrl:e.userStore.userMap.value.get(o?.SenderID)?.photoURL||"",reply:o?.ReplyTo?.id,imageAll:o.ImageAll,notPadding:o.hasImages||!o.isAnnouncementType&&!o.isTextType,responseStatus:o.responseStatus,onTakeBackMessage:e.callTakeBackMessage,onReplyMessage:e.callReplyMessage,onGoPersonalInfo:e.goPersonalInfo,onScrollToMessage:e.scrollToEle,onResendMessage:e.resendMessage,onScrollAddPx:t[3]||(t[3]=t=>e.scrollIWrap&&e.scrollIWrap.posYaddPx(t))},(0,s.Nv)({messages:(0,s.w5)((()=>[o.isTextType||o.isAnnouncementType?((0,s.wg)(),(0,s.j4)(_,{key:0,wrapClass:"whitespace-pre-wrap leading-5"},{default:(0,s.w5)((()=>[o.isAnnouncementType&&""!==o.AnnouncementId?((0,s.wg)(),(0,s.j4)(y,{key:0,annouId:o.AnnouncementId,toUser:e.userID,businessUser:o.SenderID},null,8,["annouId","toUser","businessUser"])):(0,s.kq)("",!0),(0,s.Wm)(b,{type:o.isAnnouncementType?e.gaMessageType.ANNOU:e.gaMessageType.TEXT,"sender-user":o.SenderID},{default:(0,s.w5)((({action:e})=>[(0,s.Wm)(v,{messageText:o.Text,onLinkClick:e},null,8,["messageText","onLinkClick"])])),_:2},1032,["type","sender-user"])])),_:2},1024)):(0,s.kq)("",!0)])),images:(0,s.w5)((()=>[o.Process?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(o.ImageAll,(t=>((0,s.wg)(),(0,s.iD)("img",{key:t,src:`${e.imageUrlPrefix}/${e.replaceImgUrl(t)}`,"data-action":"zoom",class:"max-w-[10rem]"},null,8,Ko)))),128)):((0,s.wg)(),(0,s.j4)(w,{key:0,scale:.35,bgColor:e.userID===o?.SenderID?"#242424":"#fff"},null,8,["scale","bgColor"]))])),transfer:(0,s.w5)((()=>[o.isTransferType?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,h.j5)(e.transferBubbleSkelton(o.isMe(e.userID))),class:"bg-bgDark"},[o.isTransferType?((0,s.wg)(),(0,s.j4)(p,{key:0,"user-i-d":o.otherUserId(e.userID)},{default:(0,s.w5)((({info:t})=>[(0,s.Wm)(T,{transferData:o,isMe:o.isMe(e.userID),avatar:t.photoURL,toDisplayName:t.displayName},null,8,["transferData","isMe","avatar","toDisplayName"])])),_:2},1032,["user-i-d"])):(0,s.kq)("",!0)],4)):(0,s.kq)("",!0)])),public:(0,s.w5)((()=>[o.isTidyBlackType?((0,s.wg)(),(0,s.j4)(x,{key:0,publicData:o,text:o.PubText,action:o.PubAction},null,8,["publicData","text","action"])):(0,s.kq)("",!0)])),_:2},[void 0]),1032,["class","messageId","isTidyBlackType","isDynamicContent","isMe","status","time","isMsgProcess","hasActions","nextIsMe","avatarUrl","reply","imageAll","notPadding","responseStatus","onTakeBackMessage","onReplyMessage","onGoPersonalInfo","onScrollToMessage","onResendMessage"])))),128))])))),128))])),_:1})])),_:1},8,["style"]),null!==e.replyMsg?((0,s.wg)(),(0,s.j4)(I,{key:0,msgInfo:e.replyMsg,onClear:e.clearReplyMsg},null,8,["msgInfo","onClear"])):(0,s.kq)("",!0),e.isShowError?((0,s.wg)(),(0,s.iD)("div",Yo,"上傳檔案過大(不可超過 30 MB)")):(0,s.kq)("",!0)])])),_:1},8,["wrapClass","id"])])),_:1})}__webpack_require__(1951);var Jo=__webpack_require__(1267),Xo=__webpack_require__(5816);const Qo=["id"],er={key:0,class:"flex flex-shrink-0 items-start pr-2 w-8 mt-1"},tr={key:0,class:"flex"},nr={class:"flex flex-col max-w-[20em]",ref:"elOption"},or={key:0,class:"flex-grow"},rr={key:2,class:"mx-2"},ir={key:2,class:"text-[#D37B7B] flex items-center justify-end"};function sr(e,t,n,o,r,i){const c=(0,s.up)("avatar"),l=(0,s.up)("ReplyMessage"),u=(0,s.up)("circle-loading"),p=(0,s.up)("FontIcon"),d=(0,s.Q2)("hover");return(0,s.wg)(),(0,s.iD)("div",{class:(0,h.C_)(["flex text-white text-sm mb-1",e.messagePosition]),id:e.getId},[e.isMe||e.isTidyBlackType?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",er,[e.nextIsMe?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",tr,[(0,s.Wm)(c,{class:"h-6 w-6",url:e.avatarUrl},null,8,["url"])]))])),(0,s._)("div",nr,[e.status==e.MessageAllStatus.OK?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:0,ref:"elMsgText",class:(0,h.C_)(["flex items-center",{"justify-end":e.isMe,"cursor-pointer":e.hasActions}])},[(0,s._)("div",{class:(0,h.C_)(["rounded-t-lg break-words leading-snug overflow-hidden",{"p-2":!e.notPadding,pressed:(e.pressed||e.showOptions)&&e.isMe&&"OK"===e.responseStatus,[e.isMeClass]:!0,"order-last":e.isMe,"flex-shrink-0":e.isOfficial}]),ref:"elMsgContent",onClick:t[0]||(t[0]=(...t)=>e.scrollToEle&&e.scrollToEle(...t))},[null!==e.reply?((0,s.wg)(),(0,s.j4)(l,{key:0,info:e.replyEle,isMe:e.isMe},null,8,["info","isMe"])):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"messages",{},void 0,!0),(0,s.WI)(e.$slots,"images",{},void 0,!0),(0,s.WI)(e.$slots,"transfer",{},void 0,!0),(0,s.WI)(e.$slots,"public",{},void 0,!0),(0,s.WI)(e.$slots,"videos",{},void 0,!0)],2),e.isTidyBlackType?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",or)),e.isTidyBlackType?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,h.C_)(["flex text-right mx-2",{invisible:!e.showOptions}])},[e.isMe?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("a",{key:0,class:"options-item",href:"#",onClick:t[1]||(t[1]=(0,a.iM)((t=>e.replyMsg(e.messageId)),["prevent"]))},"回覆")),e.isMe?((0,s.wg)(),(0,s.iD)("a",{key:1,class:"options-item",href:"#",onClick:t[2]||(t[2]=(0,a.iM)((t=>e.takeBackMsg(e.messageId)),["prevent"]))},"撤回訊息")):(0,s.kq)("",!0),e.isMe&&e.isOfficial&&e.imageAll.length<=0?((0,s.wg)(),(0,s.iD)("a",{key:2,class:"options-item",href:"#",onClick:t[3]||(t[3]=(0,a.iM)((t=>e.createQuickReply(e.messageId)),["prevent"]))},"儲存為回訊範本")):(0,s.kq)("",!0)],2)),"LOADING"===e.responseStatus||"ERROR_RESEND"===e.responseStatus?((0,s.wg)(),(0,s.iD)("div",rr,[(0,s.Wm)(u)])):(0,s.kq)("",!0)],2)),[[d,e.eleHover]]):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"messages-link",{},void 0,!0),e.status==e.MessageAllStatus.TAKE_BACK?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,h.C_)(["rounded-lg bg-bgLight2 p-2 text-[#868686]",[e.isMe?"pr-20":"pl-20"]])}," 訊息已經撤回 ",2)):(0,s.kq)("",!0),"ERROR"===e.responseStatus||"ERROR_RESEND"===e.responseStatus?((0,s.wg)(),(0,s.iD)("div",ir,[(0,s.Wm)(p,{class:"text-lg mr-1",name:"error_outline"}),(0,s.Uk)(" 訊息無法正常送出，點擊重送 ")])):(0,s.kq)("",!0),e.nextIsMe||e.isTidyBlackType?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:3,class:(0,h.C_)(["time text-xs mt-1 text-gray-500",[e.isMe?"text-right":"text-left"]])},(0,h.zw)(e.time),3))],512)],10,Qo)}function ar(e,t,n,o,r,i){const a=(0,s.up)("avatar");return(0,s.wg)(),(0,s.iD)("div",{class:(0,h.C_)(["flex border-b pb-1 mb-1 space-x-1",{"border-[#19a58d]":e.isMe,"border-[#696969]":!e.isMe}])},[(0,s.Wm)(a,{url:e.photoURL,class:"avatar-wrap inline-block h-6 w-6 rounded-full bg-center bg-contain"},null,8,["url"]),(0,s._)("div",{class:(0,h.C_)(["flex items-center truncate max-w-[8em] pr-2 whitespace-pre-wrap line-clamp-2",{"text-[#24242499]":e.isMe,"text-[#808080]":!e.isMe}])},(0,h.zw)(e.isTextOrImg),3)],2)}var cr=(0,s.aZ)({props:{info:{type:Object,required:!0},isMe:{type:Boolean,required:!0,default:()=>!1}},name:"ReplyMessage",components:{Avatar:z.Z},setup(e){const{info:t}=(0,i.BK)(e),n=(0,s.Fl)((()=>t.value.SenderID?K.getUserInfo.value(t.value.SenderID)?.photoURL:"")),o=(0,s.Fl)((()=>t.value.ImageAll.length>0?"[圖片]":t.value.Text));return{isTextOrImg:o,photoURL:n}}});const lr=(0,C.Z)(cr,[["render",ar]]);var ur=lr;__webpack_require__(103);function pr(){try{return"constructor"in GestureEvent}catch(ou){return!1}}function dr(){return"undefined"!==typeof window&&"ontouchstart"in window}function hr(e){return"pointerId"in e?null:"touchend"===e.type?e.changedTouches:e.targetTouches}function fr(e){const t="buttons"in e?e.buttons:0,{shiftKey:n,altKey:o,metaKey:r,ctrlKey:i}=e;return{buttons:t,shiftKey:n,altKey:o,metaKey:r,ctrlKey:i}}const gr=e=>e;function mr(e,t=gr){const n=hr(e),{clientX:o,clientY:r}=n?n[0]:e;return t([o,r])}function yr(){}function vr(...e){return 0===e.length?yr:1===e.length?e[0]:function(){var t;for(let n of e)t=n.apply(this,arguments)||t;return t}}function br(e,t){if(void 0===e){if(void 0===t)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function _r(e,t){return Object.assign({},t,e||{})}function wr(e,...t){return"function"===typeof e?e(...t):e}function Tr(e){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:yr,canceled:!1,memo:void 0,args:void 0,...e}}function xr(){const e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=Tr({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=Tr({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),o=Tr({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=Tr({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=Tr({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:n,wheel:o,move:r,scroll:i}}class Sr{constructor(e){this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=dr(),this.supportsGestureEvents=pr(),this.bind=(...e)=>{const t={};for(let n of this.classes)new n(this,e).addBindings(t);for(let n in this.nativeRefs)Rr(t,n,(t=>this.nativeRefs[n]({...this.state.shared,event:t,args:e})));return this.config.domTarget?kr(this,t):Ir(this,t)},this.clean=()=>{const{eventOptions:e,domTarget:t}=this.config,n=(0,i.SU)(t);n&&Cr(n,Ar(this.domListeners),e),Object.values(this.timeouts).forEach(clearTimeout),Er(this)},this.classes=e,this.state=xr(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function Er(e){const{config:{window:t,eventOptions:n},windowListeners:o}=e,r=(0,i.SU)(t);if(r){for(let e in o){const t=o[e];Cr(r,t,n)}e.windowListeners={}}}function kr({config:e,domListeners:t},n){const{eventOptions:o,domTarget:r}=e,s=(0,i.SU)(r);if(!s)throw new Error("domTarget must be defined");Cr(s,Ar(t),o);for(let[i,a]of Object.entries(n)){const e=i.slice(2).toLowerCase();t.push([e,vr(...a)])}Or(s,t,o)}function Ir({config:e},t){const n={},o=e.eventOptions.capture?"Capture":"";for(let[r,i]of Object.entries(t)){const e=Array.isArray(i)?i:[i],t=r+o;n[t]=vr(...e)}return n}function Ar(e=[]){return e.splice(0,e.length)}function Rr(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function Or(e,t=[],n={}){if(e)for(let[o,r]of t)e.addEventListener(o,r,n)}function Cr(e,t=[],n={}){if(e)for(let[o,r]of t)e.removeEventListener(o,r,n)}function jr(e,t){return e.map(((e,n)=>e+t[n]))}function Nr(e,t){return e.map(((e,n)=>e-t[n]))}function Pr(e){return Math.hypot(...e)}function Dr(e,t,n){const o=Pr(t),r=0===o?0:1/o,i=0===n?0:1/n,s=i*o,a=t.map((e=>i*e)),c=t.map((e=>r*e)),l=Pr(e);return{velocities:a,velocity:s,distance:l,direction:c}}function Mr(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function Lr(e,t,n){return Math.max(t,Math.min(e,n))}function Ur(e,t){return Math.pow(e,5*t)}function Fr(e,t,n){return 0===t||Math.abs(t)===1/0?Ur(e,n):e*t*n/(t+n*e)}function Br(e,t,n,o=.15){return 0===o?Lr(e,t,n):e<t?-Fr(t-e,n-t,o)+t:e>n?+Fr(e-n,n-t,o)+n:e}const Hr=new Map,Wr=e=>e;class qr{constructor(e,t=[]){this.controller=e,this.args=t,this.debounced=!0,this.setTimeout=(e,t=140,...n)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(e,t,...n)},this.clearTimeout=()=>{clearTimeout(this.controller.timeouts[this.stateKey])},this.fireGestureHandler=(e=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!e&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const e=this.state.active,t=this.state._active;this.state.active=t,this.state.first=t&&!e,this.state.last=e&&!t,this.controller.state.shared[this.ingKey]=t}const t=this.controller.pointerIds.size||this.controller.touchIds.size,n=this.controller.state.shared.buttons>0||t>0,o={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:t,down:n},r=this.handler(o);return this.state.memo=void 0!==r?r:this.state.memo,o},this.controller=e,this.args=t}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||Wr}updateSharedState(e){Object.assign(this.controller.state.shared,e)}updateGestureState(e){Object.assign(this.state,e)}checkIntentionality(e,t){return{_intentional:e,_blocked:!1}}getMovement(e){const{rubberband:t,threshold:n}=this.config,{_bounds:o,_initial:r,_active:i,_intentional:s,lastOffset:a,movement:c}=this.state,l=this.getInternalMovement(e,this.state),u=this.transform(n).map(Math.abs),p=!1===s[0]?Vr(l[0],u[0]):s[0],d=!1===s[1]?Vr(l[1],u[1]):s[1],h=this.checkIntentionality([p,d],l);if(h._blocked)return{...h,_movement:l,delta:[0,0]};const f=h._intentional,g=l;let m=[!1!==f[0]?l[0]-f[0]:0,!1!==f[1]?l[1]-f[1]:0];const y=jr(m,a),v=i?t:[0,0];return m=zr(o,jr(m,r),v),{...h,intentional:!1!==f[0]||!1!==f[1],_initial:r,_movement:g,movement:m,values:e,offset:zr(o,y,v),delta:Nr(m,c)}}clean(){this.clearTimeout()}}function Vr(e,t){return Math.abs(e)>=t&&Mr(e)*t}function zr(e,[t,n],[o,r]){const[[i,s],[a,c]]=e;return[Br(t,i,s,o),Br(n,a,c,r)]}function Gr({state:e},t,n){const{timeStamp:o,type:r}=t,i=e.values,s=n?0:o-e.startTime;return{_lastEventType:r,event:t,timeStamp:o,elapsedTime:s,previous:i}}function $r({state:e,config:t,stateKey:n,args:o},r,i){const s=e.offset,a=i.timeStamp,{initial:c,bounds:l}=t,u={...xr()[n],_active:!0,args:o,values:r,initial:r,offset:s,lastOffset:s,startTime:a};return{...u,_initial:wr(c,u),_bounds:wr(l,u)}}class Kr extends qr{getInternalMovement(e,t){return Nr(e,t.initial)}checkIntentionality(e,t){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};const[n,o]=t.map(Math.abs),r=this.state.axis||(n>o?"x":n<o?"y":void 0);return this.config.axis||this.config.lockDirection?r?this.config.axis&&r!==this.config.axis?{_intentional:e,_blocked:!0,axis:r}:(e["x"===r?1:0]=!1,{_intentional:e,_blocked:!1,axis:r}):{_intentional:[!1,!1],_blocked:!1,axis:r}:{_intentional:e,_blocked:!1,axis:r}}getKinematics(e,t){const n=this.getMovement(e);if(!n._blocked){const e=t.timeStamp-this.state.timeStamp;Object.assign(n,Dr(n.movement,n.delta,e))}return n}mapStateValues(e){return{xy:e.values,vxvy:e.velocities}}}function Yr(e,t){let n,o,r=[],i=!1;function s(...s){return i&&n===this&&t(s,r)||(o=e.apply(this,s),i=!0,n=this,r=s),o}return s}function Zr(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;let n,o,r,i;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;0!==o--;)if(!Zr(e[o],t[o]))return!1;return!0}if("function"===typeof Map&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;i=e.entries();while(!(o=i.next()).done)if(!t.has(o.value[0]))return!1;i=e.entries();while(!(o=i.next()).done)if(!Zr(o.value[1],t.get(o.value[0])))return!1;return!0}if("function"===typeof Set&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;i=e.entries();while(!(o=i.next()).done)if(!t.has(o.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;0!==o--;)if(!Object.prototype.hasOwnProperty.call(t,r[o]))return!1;if("undefined"!==typeof Element&&e instanceof Element)return!1;for(o=n;0!==o--;)if(("_owner"!==r[o]||!e.$$typeof)&&!Zr(e[r[o]],t[r[o]]))return!1;return!0}return e!==e&&t!==t}function Jr(e,t){try{return Zr(e,t)}catch(Af){if((Af.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw Af}}function Xr(e={},t){const n={};for(const[o,r]of Object.entries(t))switch(typeof r){case"function":n[o]=r.call(n,e[o],o,e);break;case"object":n[o]=Xr(e[o],r);break;case"boolean":r&&(n[o]=e[o]);break}return n}const Qr=180,ei=.15,ti=.5,ni=50,oi=250,ri={threshold(e=0){return br(e)},rubberband(e=0){switch(e){case!0:return br(ei);case!1:return br(0);default:return br(e)}},enabled(e=!0){return e},triggerAllEvents(e=!1){return e},initial(e=0){return"function"===typeof e?e:br(e)},transform:!0},ii={...ri,axis:!0,lockDirection(e=!1){return e},bounds(e={}){if("function"===typeof e)return t=>ii.bounds(e(t));const{left:t=-1/0,right:n=1/0,top:o=-1/0,bottom:r=1/0}=e;return[[t,n],[o,r]]}},si="undefined"!==typeof window&&window.document&&window.document.createElement,ai={enabled(e=!0){return e},domTarget:!0,window(e=(si?window:void 0)){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform:!0};function ci(e){return Xr(e,ai)}function li({domTarget:e,eventOptions:t,window:n,enabled:o,...r}){const i=ci({domTarget:e,eventOptions:t,window:n,enabled:o});return i.hover={enabled:!0,...r},i}function ui(e,t,n={}){const o=pi(e),r=new Sr(o);return r.config=t,r.handlers=e,r.nativeRefs=n,(0,s.FN)()&&!t.manual&&((0,s.bv)(r.bind),(0,s.Ah)(r.clean)),r}function pi(e){const t=new Set;return e.drag&&t.add(Hr.get("drag")),e.wheel&&t.add(Hr.get("wheel")),e.scroll&&t.add(Hr.get("scroll")),e.move&&t.add(Hr.get("move")),e.pinch&&t.add(Hr.get("pinch")),e.hover&&t.add(Hr.get("hover")),t}class di extends Kr{constructor(){super(...arguments),this.ingKey="moving",this.stateKey="move",this.debounced=!0,this.onMove=e=>{this.enabled&&(this.setTimeout(this.onMoveEnd),this.state._active?this.onMoveChange(e):this.onMoveStart(e))},this.onMoveStart=e=>{this.updateSharedState(fr(e));const t=mr(e,this.transform);this.updateGestureState({...$r(this,t,e),...Gr(this,e,!0)}),this.updateGestureState(this.getMovement(t)),this.fireGestureHandler()},this.onMoveChange=e=>{this.updateSharedState(fr(e));const t=mr(e,this.transform);this.updateGestureState({...Gr(this,e),...this.getKinematics(t,e)}),this.fireGestureHandler()},this.onMoveEnd=()=>{if(this.clean(),!this.state._active)return;const e=this.state.values;this.updateGestureState(this.getMovement(e)),this.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),this.fireGestureHandler()},this.hoverTransform=()=>this.controller.config.hover.transform||this.controller.config.transform,this.onPointerEnter=e=>{if(this.controller.state.shared.hovering=!0,this.controller.config.enabled){if(this.controller.config.hover.enabled){const t=mr(e,this.hoverTransform()),n={...this.controller.state.shared,...this.state,...Gr(this,e,!0),args:this.args,values:t,active:!0,hovering:!0};this.controller.handlers.hover({...n,...this.mapStateValues(n)})}"move"in this.controller.handlers&&this.onMoveStart(e)}},this.onPointerLeave=e=>{if(this.controller.state.shared.hovering=!1,"move"in this.controller.handlers&&this.onMoveEnd(),!this.controller.config.hover.enabled)return;const t=mr(e,this.hoverTransform()),n={...this.controller.state.shared,...this.state,...Gr(this,e),args:this.args,values:t,active:!1};this.controller.handlers.hover({...n,...this.mapStateValues(n)})}}addBindings(e){"move"in this.controller.handlers&&Rr(e,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(Rr(e,"onPointerEnter",this.onPointerEnter),Rr(e,"onPointerLeave",this.onPointerLeave))}}function hi(e,t={}){Hr.set("hover",di);const n=(0,i.iH)();return n.value||(n.value=Yr(li,Jr)),ui({hover:e},n.value(t))}const fi=(e,t)=>({created:e,unmounted:t,bind:e,unbind:t}),gi=e=>`Your v-${e} directive must have a handler specified as a value`,mi=()=>{const e=(e,t,n)=>{if(!t.value)throw new Error(gi("hover"));e.gestures||(e.gestures={});const o=hi(t.value,{domTarget:e,manual:!0});o.bind(),e.gestures.hover=o},t=(e,t,n)=>{e.gestures&&e.gestures.hover&&e.gestures.hover.clean()};return fi(e,t)},yi={class:"circle-loading"};function vi(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",yi)}var bi=(0,s.aZ)({});const _i=(0,C.Z)(bi,[["render",vi],["__scopeId","data-v-a37131a2"]]);var wi=_i,Ti=(0,s.aZ)({name:"MessageText",components:{ReplyMessage:ur,FontIcon:F.Z,CircleLoading:wi,Avatar:z.Z},props:{isMsgProcess:{type:Boolean,required:!0},messageId:{type:String,required:!0},isTidyBlackType:{type:Boolean,required:!0},isDynamicContent:{type:Boolean,required:!0,default:()=>!1},time:{type:String},reply:{type:[String,null],default:()=>null},status:{type:String,required:!0,default:()=>Jo.N.OK},imageAll:{type:Array,default:()=>[]},avatarUrl:{type:String,required:!0},nextIsMe:{type:Boolean,default:()=>!1},isMe:{type:Boolean,default:()=>!1},notPadding:{type:Boolean,default:()=>!1},hasActions:{type:Boolean,default:()=>!1},responseStatus:{type:String,required:!0},isOfficial:{type:Boolean,default:!1}},directives:{hover:mi()},emits:["takeBackMessage","goPersonalInfo","replyMessage","scrollToMessage","resendMessage","createQuickReply","scrollAddPx"],setup(t,{emit:n}){const{reply:o,isMe:r,messageId:a,responseStatus:l,hasActions:u,isTidyBlackType:p,isOfficial:d,isDynamicContent:h}=(0,i.BK)(t),f=600,g=(0,i.iH)(null),m=(0,i.iH)(null),y=(0,i.iH)(null),v=(0,i.iH)(!1),{isMobile:b}=Gn();let _=(0,i.iH)(be.v0.emptyOrNullMessageItem({isNull:!0}));const{pressed:w}=(0,c.B78)({target:g}),T=(0,S.eM)((()=>{v.value=!0}),f,{immediate:!1}),x=(0,s.Fl)((()=>!0===p.value?["justify-center","max-w-[100%]"]:{"justify-end self-end":r.value,"max-w-[80%]":!0})),E=(0,s.Fl)((()=>`TEXT-${a.value}`)),k=(0,s.Fl)((()=>{const e="bg-mainGreen text-[#242424] rounded-bl-lg",t="bg-mainErrorGreenColor text-[#242424] rounded-bl-lg",n="bg-[#51545d] rounded-br-lg";return r.value?"ERROR"===l.value||"ERROR_RESEND"===l.value?t:e:n})),I=e=>n("takeBackMessage",e),A=e=>n("replyMessage",e),R=e=>{(r.value||d.value)&&n("createQuickReply",e)};(0,c.i9H)(y,(()=>{v.value=!1}));const O=(0,s.YP)(w,(e=>{b&&u.value&&(e?T.start():T.stop())})),C=({hovering:e})=>{b||"ERROR"!==l.value&&u.value&&(v.value=!!e)};if(h.value){const{height:e}=(0,c.h4X)(m),t=(0,S.B_)(e,(e=>{n("scrollAddPx",e),t()}),{debounce:300,maxWait:1e3})}(0,s.Jd)((()=>{T.stop(),O()}));const j=()=>{"OK"===l.value&&_.value.Status===Jo.N.OK&&n("scrollToMessage",_.value.id),"ERROR"===l.value&&n("resendMessage",a.value)};if(null!==o.value){const{roomID:t}=e;be.v0.getMessageByCollection(t.value,o?.value).then((e=>{_.value=e}))}return{eleHover:C,replyEle:_,takeBackMsg:I,showOptions:v,elMsgText:g,elOption:y,pressed:w,replyMsg:A,isMeClass:k,scrollToEle:j,getId:E,messagePosition:x,createQuickReply:R,MessageAllStatus:Jo.N,elMsgContent:m}}});const xi=(0,C.Z)(Ti,[["render",sr],["__scopeId","data-v-8e9e4bb6"]]);var Si=xi;const Ei={class:"flex text-contentText py-4 px-2 border-t border-mainBodColor space-x-2.5 bg-bgDark"},ki={ref:"targetEmoji",class:"relative focus:outline-none text-white flex"},Ii={class:"vue3-discord-emojipicker rounded-xl shadow-lg overflow-hidden mx-auto absolute transition duration-200 -top-64 md:-top-80 -right-11 bg-grey-400"};function Ai(e,t,n,o,r,i){const c=(0,s.up)("FontIcon"),l=(0,s.up)("my-textarea"),u=(0,s.up)("EmojiPicker"),p=(0,s.up)("collapse");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ei,[(0,s._)("div",{class:(0,h.C_)(["flex",e.computedExpandClass.flex])},[e.isUseFooter?((0,s.wg)(),(0,s.iD)("button",{key:0,class:(0,h.C_)(["focus:outline-none plus-animation flex",{"my-rotate-45":e.footerIsOpen}]),onClick:t[0]||(t[0]=(...t)=>e.openFooter&&e.openFooter(...t))},[(0,s.Wm)(c,{name:"add"})],2)):(0,s.kq)("",!0),(0,s._)("button",{class:"focus:outline-none flex",onClick:t[1]||(t[1]=(...t)=>e.uploadImage&&e.uploadImage(...t))},[(0,s.Wm)(c,{name:"image",type:"outlined"})])],2),(0,s._)("div",{class:(0,h.C_)(["flex flex-grow min-w-0 px-2 py-1 pl-4 bg-secondary",[e.computedExpandClass.borderRadius,e.computedExpandClass.flex]])},[(0,s.Wm)(l,{class:"p-0 flex-grow min-w-0 text-sm focus:text-sm bg-transparent text-white placeholder-white border-0 focus:ring-transparent focus:border-transparent focus:outline-none focus:border-0 resize-none scrollbar-w-2 scrollbar-track-blue-lighter scrollbar-thumb-blue scrollbar-thumb-rounded placeholder-opacity-75",ref:"textInputRef","max-rows":3,"min-rows":1,placeholder:e.textareaPlaceHolder,modelValue:e.messageText,"onUpdate:modelValue":t[2]||(t[2]=t=>e.messageText=t),onKeydown:(0,a.D2)(e.checkEnter,["enter"]),onPaste:e.pasteHandle},null,8,["placeholder","modelValue","onKeydown","onPaste"]),(0,s._)("button",ki,[(0,s.wy)((0,s._)("div",Ii,[(0,s.Wm)(u,{style:{height:"calc(100%)"},categories:e.categories,sources:e.emojiSources,emojis:e.emojijs,onSend:e.addEmoji},null,8,["categories","sources","emojis","onSend"])],512),[[a.F8,e.showEmoji]]),(0,s.Wm)(c,{name:"insert_emoticon",type:"outlined",onClick:(0,a.iM)(e.openEmoji,["stop","prevent"])},null,8,["onClick"])],512)],2),(0,s._)("div",{class:(0,h.C_)(["flex",e.computedExpandClass.flex])},[(0,s._)("button",{class:"focus:outline-none flex",onClick:t[3]||(t[3]=(...t)=>e.sendMsg&&e.sendMsg(...t))},[(0,s.Wm)(c,{name:"send"})])],2),(0,s._)("div",null,[(0,s._)("input",{class:"hidden",type:"file",name:"image_upload",id:"#image_upload",ref:"imgFile",onChange:t[4]||(t[4]=(...t)=>e.imageFileChange&&e.imageFileChange(...t)),accept:"image/*"},null,544)])]),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.footerComponent),{isShow:e.footerIsOpen},null,8,["isShow"]))])),_:1})])}var Ri=__webpack_require__(7233),Oi=__webpack_require__(7865);const Ci={style:{height:"calc(100% - 10px)"}},ji={class:"vue3-discordpicker__container flex"},Ni={class:"vue3-discord-emojipicker__tabs overflow-auto bg-grey-600 px-2 py-2 text-white h-auto hidden md:block"},Pi=["src","onClick"],Di={class:"bg-grey-400 h-full w-full flex flex-col"},Mi={id:"vue3-discordpicker",class:"overflow-auto relative pb-4 h-full w-full"},Li={class:"uppercase px-4 py-2 bg-grey-400 text-xs text-grey-100 font-semibold sticky top-0"},Ui={class:"px-4 flex flex-items center justify-start flex-wrap"},Fi=["onMouseenter","onClick"],Bi={key:1,class:"text-grey-100 text-center py-4"};function Hi(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",Ci,[(0,s.kq)("",!0),(0,s._)("div",ji,[(0,s._)("div",Ni,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.categories,((t,n)=>((0,s.wg)(),(0,s.iD)("img",{key:n,src:e.formatUrlSources(t,e.sources.category),class:(0,h.C_)([{"bg-grey-300 bg-opacity-50":n===e.active},"px-2 py-2 h-9 mb-2 w-full transition duration-200 hover:bg-grey-300 hover:bg-opacity-50 rounded-lg cursor-pointer"]),onClick:t=>e.goToCategory(n)},null,10,Pi)))),128))]),(0,s._)("div",Di,[(0,s._)("div",Mi,[e.categories.length>0?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(e.categories,((t,n)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[t&&t.length>0?((0,s.wg)(),(0,s.iD)("div",{key:`category_${n}`,class:(0,h.C_)([{"mt-2":n>0},"vue3-discordpicker__observer"])},[(0,s._)("div",Li,(0,h.zw)(t),1),(0,s._)("div",Ui,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cats[t],((t,n)=>((0,s.wg)(),(0,s.iD)("div",{key:`emoji_${n}`,class:"text-2xl cursor-pointer p-1 transition duration-200 hover:bg-grey-300 hover:bg-opacity-50 rounded-md w-8 h-8 flex items-center justify-center",onMouseenter:n=>e.selected={...t},onClick:n=>e.$emit("send",{emoji:t,send:!0})},[t.variations&&e.variation>0?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,h.zw)(t.variations[e.variation]),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,h.zw)(t.emoji),1)],64))],40,Fi)))),128))])],2)):(0,s.kq)("",!0)],64)))),256)):((0,s.wg)(),(0,s.iD)("p",Bi,"No results found :-("))]),(0,s.kq)("",!0)])])])}var Wi=(0,s.aZ)({name:"EmojiPicker",props:{categories:{type:Array,required:!0},emojis:{type:Object,required:!0},sources:{type:Object,required:!0}},emits:["send"],setup(e){const{categories:t,emojis:n}=(0,i.BK)(e),o=(0,i.iH)(!1),r=(0,i.iH)(null),a=(0,i.iH)(0),c=(0,i.iH)(0),l=(0,i.iH)(null);let u=(0,i.qj)([]);const p=(0,i.qj)(t.value.reduce(((e,t)=>({...e,[t]:[]})),{})),d=()=>{t.value.forEach((e=>{const t=n.value.categories.findIndex((t=>t===e));t>=0&&(p[e]=n.value.list.filter((e=>r.value?e.category===t&&e.name.includes(r.value||""):e.category===t)),(0,s.Y3)((()=>{g(),b()})))}))},h=(e,t)=>t.replace("%REPLACE%",`${e}`),f=e=>{a.value=e,o.value=!1},g=()=>{u=(0,i.qj)([]);const e=document.querySelectorAll(".vue3-discordpicker__observer");e.forEach((e=>{u.push(e.offsetTop)}))},m=e=>{const t=u.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}));return t},y=e=>{const t=document.getElementById("vue3-discordpicker"),n=document.querySelectorAll(".vue3-discordpicker__observer");t.scrollTop=n[e].offsetTop},v=({target:e})=>{const{scrollTop:t}=e,n=m(t),o=u.findIndex((e=>e===n));o>=0&&(c.value=o)},b=()=>{const e=document.getElementById("vue3-discordpicker");e&&e.addEventListener("scroll",v)},_=(0,s.YP)(r,d),w=(0,s.YP)(a,d);return t.value.forEach((e=>{const t=n.value.categories.findIndex((t=>t===e));t>=0&&(p[e]=n.value.list.filter((e=>e.category===t)))})),(0,s.Jd)((()=>{const e=document.getElementById("vue3-discordpicker");e.removeEventListener("scroll",v),_(),w()})),(0,s.bv)((()=>{b(),g()})),{search:r,variation:a,selected:l,hovered:o,active:c,formatUrlSources:h,setVariation:f,goToCategory:y,cats:p}}});const qi=(0,C.Z)(Wi,[["render",Hi]]);var Vi=qi,zi=__webpack_require__(3091),Gi=__webpack_require__(3424);const $i=e=>((0,s.dD)("data-v-095735b3"),e=e(),(0,s.Cn)(),e),Ki={class:"bg-jpointBlue p-1 box-content"},Yi={class:"border-b px-3 pb-2 mt-1 flex justify-between"},Zi={class:"flex items-center ml-1"},Ji={class:"text-white mt-[3px] flex items-center"},Xi=$i((()=>(0,s._)("span",{class:"mr-2 text-xs"},"可轉移",-1))),Qi={class:"flex py-[3px] items-center justify-between rounded-2xl px-2 w-[170px] font-bold text-md text-right bg-white text-jpointBlue"},es=["src"],ts={class:"overflow-ellipsis max-w-[125px] overflow-hidden"},ns={class:"mt-1 max-w-[96px]"},os=["src"],rs={class:"text-white font-bold text-md mt-[3px] overflow-ellipsis w-[96px] overflow-hidden text-right"},is={class:"m-2 px-2 flex justify-start"},ss=["src"],as=$i((()=>(0,s._)("p",{class:"text-white text-xs mt-[3px]"}," 立即轉點 ",-1))),cs=["src"],ls=$i((()=>(0,s._)("p",{class:"text-white text-xs mt-[3px]"}," 預約轉點 ",-1)));function us(e,t,n,o,r,i){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("section",Ki,[(0,s._)("div",Yi,[(0,s._)("div",Zi,[(0,s._)("div",Ji,[Xi,(0,s._)("div",Qi,[(0,s._)("span",null,[(0,s._)("img",{src:`${e.gcpImStoragePath}/static/images/blueJpointIcon@3x.webp`,style:{width:"20px"},class:"pt-[1px]"},null,8,es)]),(0,s._)("span",ts,(0,h.zw)(e.canTransferPoint),1)])])]),(0,s._)("div",ns,[(0,s._)("img",{src:`${e.gcpImStoragePath}/static/images/jpointCard.svg`,align:"right",style:{width:"40px"}},null,8,os),(0,s._)("div",rs,(0,h.zw)(e.formatBalance),1)])]),(0,s._)("div",is,[(0,s._)("div",{class:"flex flex-col items-center mt-[5px] justify-center cursor-pointer",onClick:t[0]||(t[0]=t=>e.openTransferByType("immediately"))},[(0,s._)("img",{src:`${e.gcpImStoragePath}/static/images/jpointTransfer@2x.webp`,class:"cursor-pointer icon"},null,8,ss),as]),(0,s._)("div",{class:"flex flex-col items-center justify-center ml-4 cursor-pointer",onClick:t[1]||(t[1]=t=>e.openTransferByType("schedule"))},[(0,s._)("img",{src:`${e.gcpImStoragePath}/static/images/scheduleTransfer@2x.webp`,class:"icon cursor-pointer",style:{width:"36px",height:"36px"}},null,8,cs),ls])])],512)),[[a.F8,e.isShow]])}var ps=__webpack_require__(8372);const ds=async e=>{try{const t=await window.dog.jpoint.api.GetBalance(e);return Promise.resolve(t)}catch(ou){return Promise.reject(ou)}},hs=async(e,{tradeId:t})=>{try{const n=await window.dog.jpoint.api.TradeReceive({accessToken:e,tradeId:t});return Promise.resolve(n)}catch(ou){return Promise.reject(ou)}},fs=async(e,{tradeId:t})=>{try{const n=await window.dog.jpoint.api.TradeImmediately({accessToken:e,tradeId:t});return Promise.resolve(n)}catch(ou){return Promise.reject(ou)}},gs=async e=>{try{const t=await ds(e);return{balance:t.getBalance(),hasLastTradecode:t.hasLastTradecodeAt(),bonus:t.getBonusExpiredAmount()}}catch(ou){return Promise.reject(ou)}},ms=async e=>{await hs(K.panToken.value,{tradeId:e})},ys=async e=>{await fs(K.panToken.value,{tradeId:e})};var vs=__webpack_require__(8268),bs=(0,s.aZ)({name:"operationFooter",props:{isShow:{type:Boolean,required:!0}},setup(e){const{isShow:t}=(0,i.BK)(e);let n=null;const o=(0,le.useCheckPluginsList)(),a=(0,le.useJpointInstance)();let c=!1;const l=(0,i.qj)({balance:0,hasLastTradecode:!1,bonus:0}),u=(0,i.qj)(Ve),{openModal:p}=(0,Bt.d)("im-app-main"),d=(0,le.injectStrict)(le.OPEN_TALKINGROOM_FOOTER),h=(0,s.Fl)((()=>(new Intl.NumberFormat).format(l.balance))),f=(0,s.Fl)((()=>(new Intl.NumberFormat).format(l.balance-l.bonus))),g=(0,s.Fl)((()=>{const e=K.userMap.value.get(u.members[0]);return e?{uid:e?.uid,objectId:e?.objectId,displayName:e?.displayName,avatarUrl:e?.photoURL,hashId:e?.uid}:{uid:"",objectId:"",displayName:"",avatarUrl:""}})),m=async e=>{if(!c)try{if(c=!0,!g.value.hashId)throw new Error("not find user");if(await(0,ps.zI)(g.value.hashId),!l.hasLastTradecode)return void p("jpointConfirm",{message:"請設定交易密碼，以便繼續轉移",buttonText:"確認",confirmFunction:()=>{a.value&&a.value.open("TRANSFER_CODE"),window.$IM_EVENT.emit(window.$IM_EVENT_MAP.OPEN_IM_DIALOG,!1)}});if(g.value.hashId&&await(0,vs.zo)(g.value.hashId),!g.value.objectId&&g.value.hashId)return void await(0,ps.eF)(g.value.hashId);if(!n)throw Error("not has this plugins");n({panToken:K.panToken,toObjectId:g.value.objectId||"",toDisplayName:g.value.displayName||"",avatarUrl:g.value.avatarUrl||"",transferType:e,balance:l.balance,openFooterFn:d,jpoint:a})}catch(ou){console.error(ou),p("jpointConfirm",{message:"對方無法與您轉移點數",buttonText:"確認",confirmFunction:()=>!1})}finally{c=!1}};return(0,s.YP)(t,(async e=>{if(e){const{balance:e,hasLastTradecode:t,bonus:n}=await gs(K.panToken.value);l.balance=e,l.hasLastTradecode=t,l.bonus=n}})),(0,s.bv)((async()=>{if(o("JPOINTS_TRANSFER")){const{useTransfer:e}=await __webpack_require__.e(551).then(__webpack_require__.bind(__webpack_require__,2551));n=e("im-app-dashboard").openTransfer}})),{formatBalance:h,openTransferByType:m,canTransferPoint:f,gcpImStoragePath:r.yq}}});const _s=(0,C.Z)(bs,[["render",us],["__scopeId","data-v-095735b3"]]);var ws=_s;const Ts=e=>((0,s.dD)("data-v-053eb6ea"),e=e(),(0,s.Cn)(),e),xs={class:"bg-officialPurple px-1 pb-1 box-content"},Ss=Ts((()=>(0,s._)("div",{class:"border-b px-3 py-3 text-center"},[(0,s._)("h2",{class:"font-medium"},"官方帳號管理")],-1))),Es={class:"m-2 px-2 mb-5 flex justify-center gap-5"},ks=["onClick"],Is={class:"text-white text-xs mt-[3px]"};function As(e,t,n,o,r,i){const c=(0,s.up)("svg-icon");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("section",xs,[Ss,(0,s._)("div",Es,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pluginList,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"flex flex-col items-center mt-[5px] justify-center cursor-pointer",onClick:n=>e.openPluginAndCloseFooter(t)},[(0,s.Wm)(c,{svgcontent:e.dynamicAttr(t).icon,class:"cursor-pointer icon text-white"},null,8,["svgcontent"]),(0,s._)("p",Is,(0,h.zw)(e.dynamicAttr(t).text),1)],8,ks)))),128))])],512)),[[a.F8,e.isShow]])}function Rs(){const e=(0,le.useCheckPluginsList)();let t=null,n=null,o=null;const r=e=>{if("OFFICIAL_WELCOME_MESSAGE"===e){if(!t)throw Error("not has this plugins");t({userHashId:K.loginedUserState.uid||"",panAccessToken:K.panToken})}if("OFFICIAL_ANNOUNCEMENT"===e){if(!n)throw Error("not has this plugins");n({userHashId:K.loginedUserState.uid||"",panAccessToken:K.panToken})}if("OFFICIAL_FAQ"===e){if(!o)throw Error("not has this plugins");o({userHashId:K.loginedUserState.uid||"",panAccessToken:K.panToken})}},i=async()=>{if(e("OFFICIAL_WELCOME_MESSAGE")){const{useOfficialWelcome:e}=await __webpack_require__.e(18).then(__webpack_require__.bind(__webpack_require__,18));t=e("im-app-dashboard").openOfficialWelcome}if(e("OFFICIAL_ANNOUNCEMENT")){const{useOfficialAnnouncement:e}=await Promise.all([__webpack_require__.e(163),__webpack_require__.e(707),__webpack_require__.e(817)]).then(__webpack_require__.bind(__webpack_require__,633));n=e("im-app-dashboard").openOfficialAnnouncement}if(e("OFFICIAL_FAQ")){const{useOfficialFaq:e}=await Promise.all([__webpack_require__.e(707),__webpack_require__.e(54)]).then(__webpack_require__.bind(__webpack_require__,666));o=e("im-app-dashboard").openOfficialFaq}};return i(),{openPlugin:r}}var Os=__webpack_require__(1426),Cs=(0,s.aZ)({name:"officialFooter",props:{isShow:{type:Boolean,required:!0}},components:{SvgIcon:Os.Z},setup(){const e=["OFFICIAL_WELCOME_MESSAGE","OFFICIAL_ANNOUNCEMENT","OFFICIAL_FAQ"],t=(0,le.injectStrict)(le.OPEN_TALKINGROOM_FOOTER_VALUE),n=(0,le.injectStrict)(le.OPEN_TALKINGROOM_FOOTER),o=(0,i.iH)([]),{openPlugin:r}=Rs(),a=e=>{const t={OFFICIAL_FAQ:{icon:le.iconMessageFlash,text:"快速回訊"},OFFICIAL_ANNOUNCEMENT:{icon:le.iconBullhorn,text:"發佈公告"},OFFICIAL_WELCOME_MESSAGE:{icon:le.iconPartyPopper,text:"歡迎訊息"}};return t[e]},c=e=>{try{r(e);const o=setTimeout((()=>{n(!t.value),clearTimeout(o)}),500)}catch(ou){console.error(ou)}},l=(0,le.useCheckPluginsList)();return(0,s.bv)((async()=>{o.value=e.filter((e=>{if(l(e))return e}))})),{pluginList:o,dynamicAttr:a,openPluginAndCloseFooter:c}}});const js=(0,C.Z)(Cs,[["render",As],["__scopeId","data-v-053eb6ea"]]);var Ns=js,Ps=__webpack_require__(5432),Ds=__webpack_require__(1812),Ms=(0,s.aZ)({name:"messageSendList",props:{roomID:{type:String,required:!0},reply:{type:Object,default:()=>null},isOfficial:{type:Boolean,default:!1}},emits:["sendMessage","sendSuccess","fileUploadError","toGa"],components:{FontIcon:F.Z,EmojiPicker:Vi,myTextarea:Gi.Z,talkRoomFooter:ws,officialFooter:Ns,collapse:tn.Z},async setup(e,{emit:t}){const n=(0,le.useCheckPluginsList)(),o=(0,le.usePanInstance)(),{roomID:a,reply:l,isOfficial:u}=(0,i.BK)(e),{openModal:p}=(0,Bt.d)("im-app-main"),d=(0,i.iH)(null),h=1e3,f=(0,i.iH)(!1),g=(0,le.injectStrict)(le.OPEN_TALKINGROOM_FOOTER_VALUE),m=(0,le.injectStrict)(le.OPEN_TALKINGROOM_FOOTER),y=(0,i.iH)(null),v=(0,i.iH)(null),{isMobile:b}=Gn();let _=(0,i.iH)();const w=(0,i.iH)(""),T=["people","symbols"],x=(0,s.Fl)((()=>{const e=(0,i.SU)(u);return e?n("OFFICIAL_ANNOUNCEMENT")||n("OFFICIAL_WELCOME_MESSAGE")||n("OFFICIAL_FAQ"):n("JPOINTS_TRANSFER")})),E=()=>f.value=!f.value,k=()=>(0,c.NXq)(d.value)?.selectionStart||0,I=(0,s.Fl)((()=>!!K.loginedUserState.objectId)),A=(0,s.Fl)((()=>u.value?`以${K.loginedUserState.displayName}身份使用中`:"Aa")),R=e=>{const t=(0,c.NXq)(d.value);if(t){t.focus();const n=setTimeout((()=>{t.setSelectionRange(e,e),clearTimeout(n)}),0)}},O={search:`${r.yq}/static/images/search.svg`,gif:"",category:`${r.yq}/static/images/categories/%REPLACE%.svg`,variation:`${r.yq}/static/images/variations/variation_%REPLACE%.svg`,emoji:`${r.yq}/static/images/sprite_emojis.png`},C=(0,s.Fl)((()=>u.value?"officialFooter":"talkRoomFooter")),j=async()=>{const e=!u.value&&!I.value;if(e){const e=()=>{o.value&&o.value.open("VALIDATE_PHONE",{redirect:""})};p("jpointConfirm",{message:"綁定電話號碼使用J POINTS",buttonText:"立即綁定",confirmFunction:e})}else m(!g.value)},N=()=>(0,i.ZM)(((e,t)=>({get(){return e(),w.value},set(e){le.isOverTextLength(e,h)||(w.value=e),t()}}))),P=N(),D=e=>{e.isComposing||229!==e.which&&(e.shiftKey||b||(e.preventDefault(),L()))},M=(0,s.Fl)((()=>{let e=!1;return d.value&&(e=d.value.isExpand),{flex:e?"items-end":"items-center",borderRadius:e?"rounded-xl":"rounded-full"}})),L=()=>{null!==d.value&&F(d.value),U()};let U=(0,S.DI)((()=>{""!==P.value&&(t("sendMessage",{room_id:a.value,message:P.value.trim(),imageAll:[],replyTo:null!==l?l.value:"",markRead:!0}),P.value="")}),150);const F=e=>{(0,c.NXq)(e)?.focus(),(0,c.NXq)(e)?.scrollIntoView()},B=e=>{let t=(e.clipboardData||window.clipboardData).getData("text");const n=le.addStr(P.value,k(),t);if(le.isOverTextLength(n,h)){const e=le.genSliceText(n,h);P.value=e}};(0,c.i9H)(y,(()=>{f.value&&(f.value=!1)}));const H=({emoji:e})=>{const t=`${e.emoji} `,n=k();P.value=le.addStr(P.value,n,t),R(n+3)},W=()=>{v.value.click()},q=(e,t)=>e/1024/1024>t,V=async e=>{try{const n=e.target.files?.[0],o=n.name,r=Ri.lookup(o);if(q(n.size,30))return t("fileUploadError"),void(e.target.value=null);const i=await(0,zi.PI)(r),{signedPostPolicyMap:s,urlToUpload:c}=i.toObject(),u=new FormData,p=new Map(s);p.forEach(((e,t)=>{u.append(t,e)})),u.append("file",n);const d=p.get("key")||"";t("sendMessage",{room_id:a.value,message:"",imageAll:[d],replyTo:null!==l?l.value?.id:""}),await Oi.Z.post(c,u,{headers:{"Content-Type":"multipart/form-data"}}),t("toGa",{url:d,size:n.size}),e.target.value=null}catch(ou){console.log(ou)}};return(0,s.bv)((()=>{window.$IM_EVENT.on(window.$IM_EVENT_MAP.PASS_QUICK_REPLY,(e=>{P.value=e,null!==d.value&&F(d.value)}))})),(0,s.Jd)((()=>{window.$IM_EVENT.off(window.$IM_EVENT_MAP.PASS_QUICK_REPLY),U=null,m(!1)})),await __webpack_require__.e(759).then(__webpack_require__.t.bind(__webpack_require__,5759,19)).then((e=>{_.value=(0,i.qj)(e.default)})),{imgFile:v,targetEmoji:y,textInputRef:d,pasteHandle:B,messageText:P,showEmoji:f,addEmoji:H,emojijs:_,categories:T,emojiSources:O,openEmoji:E,checkEnter:D,sendMsg:L,openFooter:j,footerIsOpen:g,uploadImage:W,imageFileChange:V,computedExpandClass:M,userHasBindPhone:I,panAccessToken:K.panToken,isUseFooter:x,footerComponent:C,textareaPlaceHolder:A}}});const Ls=(0,C.Z)(Ms,[["render",Ai],["__scopeId","data-v-2b95e5be"]]);var Us=Ls;const Fs=e=>((0,s.dD)("data-v-6cb7e6c1"),e=e(),(0,s.Cn)(),e),Bs={class:"replay-wrap absolute bottom-0 flex w-full bg-black space-x-2"},Hs={class:""},Ws={class:"text-sm text-left font-medium"},qs={class:"text-xs font-medium opacity-60 truncate max-w-[12rem] whitespace-no-wrap"},Vs=Fs((()=>(0,s._)("div",{class:"flex-grow"},null,-1)));function zs(e,t,n,o,r,i){const a=(0,s.up)("FontIcon");return(0,s.wg)(),(0,s.iD)("div",Bs,[(0,s._)("div",{class:"inline-block h-10 w-10 rounded-full bg-center bg-contain bg-grey-300 cursor-pointer",style:(0,h.j5)({backgroundImage:`url('${e.userInfo?.photoURL}')`})},null,4),(0,s._)("div",Hs,[(0,s._)("p",Ws,(0,h.zw)(e.userInfo?.displayName),1),(0,s._)("p",qs,(0,h.zw)(e.isTextOrImg),1)]),Vs,(0,s._)("button",{onClick:t[0]||(t[0]=t=>e.$emit("clear"))},[(0,s.Wm)(a,{class:"text-lg",name:"close"})])])}var Gs=(0,s.aZ)({name:"RoomReply",emits:["clear"],props:{msgInfo:{type:Object,required:!0}},components:{FontIcon:F.Z},setup(e){const t=(0,s.Fl)((()=>K.getUserInfo.value(e.msgInfo.SenderID))),n=(0,s.Fl)((()=>e.msgInfo.hasImages?"[圖片]":e.msgInfo.Text));return{userInfo:t,isTextOrImg:n}}});const $s=(0,C.Z)(Gs,[["render",zs],["__scopeId","data-v-6cb7e6c1"]]);var Ks=$s;function Ys(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",{class:"lds-ellipsis",style:(0,h.j5)({transform:`scale(${e.scale})`})},[(0,s._)("div",{class:"point",style:(0,h.j5)({backgroundColor:e.bgColor})},null,4),(0,s._)("div",{class:"point",style:(0,h.j5)({backgroundColor:e.bgColor})},null,4),(0,s._)("div",{class:"point",style:(0,h.j5)({backgroundColor:e.bgColor})},null,4),(0,s._)("div",{class:"point",style:(0,h.j5)({backgroundColor:e.bgColor})},null,4)],4)}var Zs=(0,s.aZ)({name:"LoadingIcon",props:{bgColor:{type:String,default:()=>"#fff"},scale:{type:Number,default:()=>1}}});const Js=(0,C.Z)(Zs,[["render",Ys],["__scopeId","data-v-38728f25"]]);var Xs=Js,Qs=__webpack_require__(7770),ea=__webpack_require__(6642),ta=__webpack_require__(8404),na=(0,s.aZ)({name:"LinkifyLink",props:{messageText:{type:String,default:""}},emits:["linkClick"],setup(e,{emit:t}){const{messageText:n}=(0,i.BK)(e);return()=>{const e=n.value,o=(0,le.linkify)(e);return o.map((e=>"TEXT"===e.type?e.text:(0,s.Wm)("a",{href:e.value,class:"message-link",target:"_blank",onClick:()=>t("linkClick",e.value)},[e.text])))}}});function oa(e,t,n,o,r,i){const a=(0,s.up)("LinkPreviewItem");return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.urls,((e,t)=>((0,s.wg)(),(0,s.j4)(a,{class:"mb-2",key:t,url:e.text},null,8,["url"])))),128)}const ra=e=>((0,s.dD)("data-v-81ec4ebe"),e=e(),(0,s.Cn)(),e),ia={class:"mt-1 bg-gray-500 bg-opacity-50 rounded-lg shadow-md"},sa={key:0,class:"flex p-3 justify-center"},aa=ra((()=>(0,s._)("div",{class:"spinner"},null,-1))),ca=[aa],la={key:1,class:"flex w-full bg-gray-100 rounded-t-lg"},ua=["src"],pa={class:"flex flex-col p-1"},da={class:"min-h-[1em] text-sm font-bold mb-1 px-1 break-all"},ha={class:"max-h-[2.5em] break-all overflow-hidden text-xs text-gray-400 px-1 mb-1"};function fa(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",ia,[e.isLoading?((0,s.wg)(),(0,s.iD)("div",sa,ca)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,h.C_)(["flex",{"flex-col":!e.isSquare}])},[(0,s._)("div",{class:(0,h.C_)(["",{"p-2":e.isSquare}])},[e.isSquare?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"w-10 h-10 bg-gray-400 rounded shadow",style:(0,h.j5)({backgroundImage:`url(${e.imageUrl})`})},null,4)):((0,s.wg)(),(0,s.iD)("div",la,[(0,s._)("img",{class:"rounded-t-lg",src:e.imageUrl,alt:""},null,8,ua)]))],2),(0,s._)("div",pa,[(0,s._)("div",da,(0,h.zw)(""===e.state.title?"無標題":e.state.title),1),(0,s._)("div",ha,(0,h.zw)(""===e.state.description?"無內容":e.state.description),1)])],2))])}const ga=async(e,t)=>{try{const n=await window.dog.imOpenApiUtilityQuery.api.catchSEO(e,t);return Promise.resolve(n)}catch(ou){return Promise.reject(ou)}};var ma=__webpack_require__(7210),ya=__webpack_require__(9720),va=__webpack_require__(2213),ba=36e5;function _a(e,t){(0,va.Z)(2,arguments);var n=(0,ma.Z)(t);return(0,ya.Z)(e,n*ba)}var wa=__webpack_require__(9030),Ta=(0,wa.Z)(_a,2),xa=__webpack_require__(2241);const Sa=e=>{const t=(0,i.qj)([]),n=(0,s.Fl)((()=>new Map(t.map((t=>[`${t[e]}`,t]))))),o=(0,s.Fl)((()=>e=>n.value.get(e))),r=(0,i.qj)(new Map),a=(0,s.Fl)((()=>e=>r.get(e)));return{items:t,itemsMap:n,getItemsInfo:o,loadingMap:r,getItemsLoading:a}},Ea="talk-seo-meta",ka=10,Ia=(0,c.y$C)(Ea,{},localStorage,{mergeDefaults:!0,serializer:{read:e=>e?JSON.parse(e):null,write:e=>JSON.stringify(e)}}),{items:Aa,itemsMap:Ra,getItemsInfo:Oa,loadingMap:Ca,getItemsLoading:ja}=Sa("hash_id");Object.keys(Ia.value).map((e=>{const t={...Ia.value[e],hash_id:e};Aa.push(t),Ca.set(e,"done")}));const Na=e=>{let t=!!Da(e);return t&&(0,xa.Z)(Da(e).expired)(new Date)&&(Ma(e),t=!1),t},Pa=(e,t)=>{const n=Object.keys(Ia.value).length;if(n>=ka){const e=Math.floor(Math.random()*ka),t=Object.keys(Ia.value)[e];Ma(t)}const o=Ta(1)(new Date),r={...t,hash_id:e,expired:o.getTime()};Object.assign(Ia.value,{[e]:r}),Aa.push(r),Ca.set(e,"done")},Da=e=>Ia.value[e],Ma=e=>{delete Ia.value[e]},La={title:new Map([["twitter:title",1],["title",2],["og:title",3]]),description:new Map([["twitter:description",1],["description",2],["og:description",3]]),image:new Map([["og:image",1]]),imageWidth:new Map([["og:image:width",1]]),imageHeight:new Map([["og:image:height",1]]),imageAlt:new Map([["og:image:alt",1]])},Ua=Object.keys(La).reduce(((e,t)=>{const n=La[t],o=[];for(const i of n.keys())o.push(i);const r={[t]:o};return{...e,...r}}),{}),Fa=Object.keys(Ua).reduce(((e,t)=>{const n={};return Ua[t]&&Ua[t]?.map((e=>Object.assign(n,{[e]:t}))),{...e,...n}}),{}),Ba=(e,t)=>void 0!==e[t],Ha=async e=>{const t=(0,le.hashCode)(e).toString();try{const n={title:"",description:"",image:"",imageWidth:"0",imageHeight:"0",imageAlt:""},o={title:0,description:0,image:0,imageWidth:0,imageHeight:0,imageAlt:0};if(Na(t))return Promise.resolve(Da(t));Ca.set(t,"loading");const r=await ga(K.panToken.value,e),i=r.getMetadataList().reduce(((e,t)=>{const n=t.toObject().key,r=t.toObject().attrsList.length>0?t.toObject().attrsList[0].value:"",i={};if(""!==r&&Ba(Fa,n)){const e=Fa[n],t=La[e].get(n);void 0!==t&&t>o[e]&&(o[e]=t,Object.assign(i,{[e]:r}))}return{...e,...i}}),n);return Ca.set(t,"done"),Pa(t,i),Promise.resolve(i)}catch(ou){return Ca.set(t,"fail"),Promise.reject(ou)}};var Wa=(0,s.aZ)({name:"LinkPreviewItem",props:{url:{type:String,required:!0}},setup(e){const t=(0,i.iH)(0),n=(0,i.iH)(0),o=(0,i.iH)(""),r=(0,s.Fl)((()=>t.value===n.value)),{state:a,isLoading:l,isReady:u,execute:p}=(0,c.PL)((e=>{const t=e?.url||"",n=(0,le.hashCode)(t).toString(),o=ja.value(n)||"fail";if(-1!==["done"].indexOf(o)){const e=Oa.value(n);return void 0!==e?Promise.resolve(e):Ha(t)}return-1!==["loading"].indexOf(o)?new Promise((e=>{const t=(0,s.m0)((()=>{const o=Oa.value(n);void 0!==o&&(e(o),t())}))})):Ha(t)}),{title:"",description:"",image:"",imageHeight:"0",imageWidth:"0",imageAlt:""},{delay:500,immediate:!1});return(0,S.f8)(a,(({imageHeight:e="0",imageWidth:r="0",image:i=""})=>{if(t.value=+r,n.value=+e,""!==i){const e=new Image;e.src=i,e.onload=()=>{o.value=i,t.value=e.width||0,n.value=e.height||0}}})),(0,s.wF)((()=>{p(500,{url:e.url})})),{state:a,isLoading:l,isReady:u,isSquare:r,imageUrl:o}}});const qa=(0,C.Z)(Wa,[["render",fa],["__scopeId","data-v-81ec4ebe"]]);var Va=qa,za=(0,s.aZ)({name:"LinkPreview",props:{message:{type:String,default:()=>""}},components:{LinkPreviewItem:Va},emits:["linkClick"],setup(e){const t=(0,le.linkify)(e.message,"URL"),n=t.filter((e=>"URL"===e.type));return{urls:n}}});const Ga=(0,C.Z)(za,[["render",oa]]);var $a=Ga;const Ka=(0,s.aZ)({name:"GaVisibilityAnnou",props:{annouId:{type:String,default:()=>"",required:!0},toUser:{type:String,default:()=>"",required:!0},businessUser:{type:String,default:()=>"",required:!0}},setup(e){const{annouId:t,businessUser:n,toUser:o}=(0,i.BK)(e);return Ne.Jx({to_user:o.value,business_user:n.value,announcement_id:t.value}),()=>(0,s.Wm)("span",{class:"hidden"},null)}}),Ya=(0,s.aZ)({name:"GaLinkClickBubble",props:{type:{type:String,default:()=>"general",required:!0},senderUser:{type:String,default:()=>"",required:!0}},setup(e,t){const{slots:n}=t,{type:o,senderUser:r}=(0,i.BK)(e),s=e=>{Ne.C$({msg_type:o.value,sender_user:r.value,url:e})};return()=>n.default?n.default({action:s}):""}}),Za=(0,s.aZ)({name:"GaUploadImage",props:{toUser:{type:String,default:()=>"",required:!0}},setup(e,t){const{slots:n}=t,{toUser:o}=(0,i.BK)(e),r=e=>{Ne.Ix({to_user:o.value,size:e.size,gcs_url:e.url})};return()=>n.default?n.default({action:r}):""}}),Ja={class:"bg-[#51545d] flex flex-col items-center justify-center py-3"},Xa={key:0,class:"flex justify-center"},Qa=["onClick"];function ec(e,t,n,o,r,i){const a=(0,s.Q2)("scrollToBottom");return(0,s.wg)(),(0,s.iD)("div",Ja,[(0,s._)("p",{class:(0,h.C_)(["text-gray-300 text-sm",{"mb-2":e.isShowBtn}]),style:{"min-height":"20px"}},(0,h.zw)(e.text),3),e.isShowBtn?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Xa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.dynamicButtonList,((e,t)=>((0,s.wg)(),(0,s.iD)("button",{key:`${e.text}_${t}`,class:"py-1 px-3 notFriendModal-btn text-white mx-2 text-sm",onClick:e.fn},(0,h.zw)(e.text),9,Qa)))),128))])),[[a,e.scrollToBottom]]):(0,s.kq)("",!0)])}var tc=(0,s.aZ)({name:"NotFriendModal",directives:{scrollToBottom:{mounted(e,t){t.value()}}},props:{initStatus:{type:String,required:!0,default:()=>_e.HZ.INIT},friendNumberId:{type:Number,required:!0},friendHashId:{type:String,required:!0},scrollToBottom:{type:Function,default:()=>({})}},setup(e){const t=(0,i.SU)(e.friendHashId),n=(0,i.SU)(e.friendNumberId),o=(0,s.Fl)((()=>[_e.HZ.BLOCKING,_e.HZ.NOT_FRIEND].includes(_e.R$.value))),r=(0,s.Fl)((()=>{const e={[_e.HZ.BLOCKING]:"你已封鎖此用戶",[_e.HZ.NOT_FRIEND]:"這位路人還不是你朋友",[_e.HZ.WAITING_RESPONSE]:"新好友邀請待確認",[_e.HZ.NEED_RESBONSE]:"已對你發出好友邀請，等待回覆",[_e.HZ.FRIEND]:"你們已經是好友囉",[_e.HZ.INIT]:""};return e[_e.R$.value]||""})),a=async()=>{await(0,_e.An)(e.friendNumberId)},c=async()=>{try{(0,_e.NV)(_e.HZ.BLOCKING),await be.n5.BlackUser(t),K.updateBlackUids([...K.blackUids,t])}catch(ou){console.log(ou)}},l=async()=>{try{await be.n5.UnblackUser(t),K.removeBlackUid(t),await(0,_e.lx)(n)}catch(ou){console.log(ou)}},u=(0,s.Fl)((()=>{const e={[_e.HZ.NOT_FRIEND]:[{text:"加入好友",fn:a},{text:"封鎖",fn:c}],[_e.HZ.BLOCKING]:[{text:"解除封鎖",fn:l}],[_e.HZ.WAITING_RESPONSE]:[],[_e.HZ.NEED_RESBONSE]:[],[_e.HZ.INIT]:[],[_e.HZ.FRIEND]:[]};return e[_e.R$.value]}));return(0,s.bv)((async()=>{await(0,s.Y3)(),e.scrollToBottom()})),{friendStatus:_e.R$,isShowBtn:o,text:r,addFriend:a,callUnblockUser:l,callBlockUser:c,dynamicButtonList:u}}});const nc=(0,C.Z)(tc,[["render",ec],["__scopeId","data-v-3027d247"]]);var oc=nc;const rc=e=>((0,s.dD)("data-v-2d71844c"),e=e(),(0,s.Cn)(),e),ic={class:"overflow-hidden relative",style:{width:"210px"}},sc={class:"bg-[#121212] text-white opacity-1 text-center px-1 py-2 mt-12"},ac={class:"mb-1"},cc=rc((()=>(0,s._)("p",{class:"text-xs cursor-pointer underline"}," 如有問題請洽客服 ",-1))),lc={class:"bg-[#1d8bf1] overflow-hidden py-5 px-8 flex justify-center items-center"},uc=["src"],pc={class:"flex mb-2"},dc={class:"px-3 font-light"},hc={class:"mb-1 opacity-[0.8]"},fc={class:"opacity-[0.8]"},gc={key:0,class:"flex justify-center items-center mt-1 mb-3"},mc=["disabled"],yc={class:"text-white"},vc=rc((()=>(0,s._)("hr",{class:"border-[#101218] my-1 opacity-[0.46]"},null,-1)));function bc(e,t,n,o,r,i){const a=(0,s.up)("avatar"),c=(0,s.up)("FontIcon");return(0,s.wg)(),(0,s.iD)("div",ic,[e.freezeOrCancel.isShow?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"flex justify-center items-baseline freeze-block absolute top-0 left-0 w-full h-full z-1 cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.toCustomerService&&e.toCustomerService(...t))},[(0,s._)("div",sc,[(0,s._)("p",ac,(0,h.zw)(e.freezeOrCancel.text),1),cc])])):(0,s.kq)("",!0),(0,s._)("div",lc,[(0,s._)("img",{src:`${e.gcpImStoragePath}/static/images/j-points.svg`,alt:"j-points"},null,8,uc)]),(0,s._)("div",{class:(0,h.C_)(["pt-3 pb-1 text-white text-sm",e.dynamicStyle.bg])},[(0,s._)("div",pc,[e.isMe?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(a,{key:0,url:e.avatar,class:"ml-2 cursor-default w-8 h-8 mt-1"},null,8,["url"])),(0,s._)("div",dc,[(0,s._)("p",hc,(0,h.zw)(e.dynamicStyle.text1),1),(0,s._)("p",fc,(0,h.zw)(e.dynamicStyle.text2),1)])]),e.isMe?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gc,[(0,s._)("button",{class:"black-bg rounded-md w-full py-2 mx-3 receive-btn",onClick:t[1]||(t[1]=(...t)=>e.receive&&e.receive(...t)),disabled:e.dynamicStyle.disabledBtn},[(0,s._)("span",yc,(0,h.zw)(e.dynamicStyle.btnText),1)],8,mc)])),vc,(0,s._)("p",{class:"opacity-[0.8] text-sm font-bold pl-3 pr-1 flex justify-between items-center cursor-pointer",onClick:t[2]||(t[2]=(...t)=>e.toJpoint&&e.toJpoint(...t))},[(0,s.Uk)(" J POINTS "),(0,s.Wm)(c,{name:"chevron_right"})])],2)])}var _c=__webpack_require__(581),wc=(0,s.aZ)({name:"WaitingReceive",components:{FontIcon:F.Z,Avatar:z.Z},props:{transferData:{type:Object,required:!0},toDisplayName:{type:String,required:!0},avatar:{type:String,required:!0},isMe:{type:Boolean,required:!0}},setup(e){const{isMe:t,toDisplayName:n,transferData:o}=(0,i.BK)(e),{openModal:a}=(0,Bt.d)("im-app-main"),c=(0,le.useJpointInstance)(),l=()=>{c.value&&c.value.open("TOPUP_LOG"),window.$IM_EVENT.emit(window.$IM_EVENT_MAP.OPEN_IM_DIALOG,!1)},u=()=>{ot(""),U.p("TalkGroups");const{closeModal:e}=a("jpointLoading",{message:"請稍候"});setTimeout((()=>{e(),xe.N0.emit(xe.YM.SEND_MESSAGE,le.JPOINTS_SERVICE_ID)}),1e3)},p=(0,s.Fl)((()=>{const e=(0,i.SU)(o);return(new Intl.NumberFormat).format(e.TransPoint)})),d=()=>{switch(o.value.TransStatus){case ea.pW.TREFreeze:return"轉移凍結中";case ea.pW.TRECanceled:return"轉移逾期，已取消轉移";case ea.pW.TREAdministratorCanceled:return"已取消轉移";case ea.pW.TREAdministratorCanceledFreezed:return"已取消轉移";default:return""}},h=(0,s.Fl)((()=>{const e=(0,i.SU)(o),t=e.TransStatus===ea.pW.TREFreeze||e.TransStatus===ea.pW.TRECanceled||e.TransStatus===ea.pW.TREAdministratorCanceled||e.TransStatus===ea.pW.TREAdministratorCanceledFreezed,n=d();return{isShow:t,text:n}})),f=()=>{if(o.value.TransStatus===ea.pW.TREReceived)return"領取完成";switch(o.value.transTimeStatus){case ea.Kg.Expire:return"已逾時";case ea.Kg.CanReceive:return"立即領取";case ea.Kg.IsBeforeTransTime:return"請等待預約時間"}},g=(e,t)=>e!==ea.Kg.CanReceive||t!==ea.pW.TRECreated&&t!==ea.pW.TREImmediately,m=(0,s.Fl)((()=>{const e=(0,i.SU)(t),r=(0,i.SU)(o),s=e?"bg-[#105698]":"bg-[#3e4155]",a=e?`已轉移 ${p.value} 點`:n.value,c=e?`給予 ${n.value}`:`轉給你 ${p.value} 點`;return{bg:[s],text1:a,text2:c,btnText:f(),disabledBtn:g(r.transTimeStatus,r.TransStatus)}})),y=async()=>{const e=(0,i.SU)(o);_c.hu.isNotOk(t.value,"cannot receive transfer by self"),_c.hu.equal(e.transTimeStatus,ea.Kg.CanReceive,"can not received"),_c.hu.notEqual(e.TransStatus,ea.pW.TREFreeze,"it is freezed"),_c.hu.notEqual(e.TransStatus,ea.pW.TRECanceled,"it is canceled");const{closeModal:n}=a("jpointLoading",{message:"領取中"});try{await(0,le.waitingAPI)(2e3,ms(e.TransId)),a("alertModal",{icon:"success",message:"領取成功"})}catch(ou){a("jpointConfirm",{message:"領取失敗",buttonText:"確認",confirmFunction:()=>!1})}finally{n()}};return{toJpoint:l,formatAmount:p,dynamicStyle:m,receive:y,freezeOrCancel:h,toCustomerService:u,gcpImStoragePath:r.yq}}});const Tc=(0,C.Z)(wc,[["render",bc],["__scopeId","data-v-2d71844c"]]);var xc=Tc;const Sc={class:"bg-bgDark text-white pt-4"},Ec={class:"mt-2 rounded-md py-[2px] px-[10px] bg-black text-center text-xs max-w-[195px] leading-[1.63]"},kc={class:"mb-1"};function Ic(e,t,n,o,r,i){const a=(0,s.up)("parse-br");return(0,s.wg)(),(0,s.iD)("div",Sc,[(0,s._)("div",Ec,[(0,s._)("p",kc,(0,h.zw)(e.getData.time),1),(0,s._)("p",null,[(0,s.Wm)(a,{messageText:e.getData.text},null,8,["messageText"])])]),e.isShowBtn?((0,s.wg)(),(0,s.iD)("p",{key:0,class:"text-center mt-2 underline cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.startAction&&e.startAction(...t))},(0,h.zw)(e.actionText),1)):(0,s.kq)("",!0)])}var Ac=__webpack_require__(9922),Rc=(0,s.aZ)({name:"TidyBlackBubble",props:{publicData:{type:Object,required:!0},action:{type:Number,required:!0}},components:{ParseBr:Ac.Z},setup(e){const{action:t,publicData:n}=(0,i.BK)(e),o=(0,le.injectStrict)(le.OPEN_TALKINGROOM_FOOTER),r=(0,le.usePanInstance)(),a=(0,le.useJpointInstance)(),c=(0,s.Fl)((()=>t.value!==ea.u9.PubActionNone)),l=(0,s.Fl)((()=>{const e=(0,i.SU)(n);return{time:e.createTime,text:e.TransformLastText,date:e.createDate}})),u=(0,s.Fl)((()=>t.value===ea.u9.PubActionNone?"":t.value===ea.u9.PubActionPanValidatePhone?"綁定電話號碼開通":t.value===ea.u9.PubActionTransfer?"開始轉點":"瞭解更多")),p=()=>{switch(t.value){case ea.u9.PubActionPanValidatePhone:r.value&&r.value.open("VALIDATE_PHONE",{redirect:""});break;case ea.u9.PubActionTransfer:o(!0);break;case ea.u9.PubActionKnowMoreTransferInfo:a.value&&a.value.open("TOPUP_LOG"),window.$IM_EVENT.emit(window.$IM_EVENT_MAP.OPEN_IM_DIALOG,!1);break}};return{actionText:u,isShowBtn:c,getData:l,startAction:p}}});const Oc=(0,C.Z)(Rc,[["render",Ic]]);var Cc=Oc;const jc=(0,s.aZ)({name:"isFriend",props:{friendId:{type:String,required:!0}},setup(e,{slots:t}){const{friendId:n=(0,i.iH)("")}=(0,i.BK)(e),o=(0,i.iH)(!0),r=(0,i.iH)(K.defaultUserInfo),a=(0,i.iH)(_e.HZ.BLOCKING),c=async e=>{if(""===e)return;r.value=K.getUserInfo.value(e)||K.defaultUserInfo;const t=await(0,_e.Fl)(K.loginedUserState.uid||"",r.value.uid||"");o.value=t;const n=-1!==K.blackUids.indexOf(r.value?.uid||""),i=await(0,_e.lx)(r.value.numberId);n?(a.value=_e.HZ.BLOCKING,(0,_e.NV)(_e.HZ.BLOCKING)):a.value=i};return(0,s.YP)(n,c),(0,S.u7)((()=>c(n.value))),(0,S.sP)((()=>{(0,_e.RA)()})),()=>{if(t.default)return t.default({isFriend:o.value,status:a.value,friendHashId:r.value.uid,friendNumberId:r.value.numberId})}}});var Nc=__webpack_require__(1670);class Pc{constructor(e){(0,o.Z)(this,"AllowRead",void 0),(0,o.Z)(this,"Created",void 0),(0,o.Z)(this,"Type",void 0),this.AllowRead=e.AllowRead,this.Created=e.Created,this.Type=e.Type}get createTime(){return(0,le.TimeFormat)(le.timeFormat.HMMAAA,this.Created)}get createDate(){return`${(0,le.TimeFormat)(le.timeFormat.MMDD,this.Created)} (${(0,le.TimeFormat)(le.timeFormat.EEEEE,this.Created)})`}}class Dc extends Pc{constructor(e){super({AllowRead:e.AllowRead,Created:e.Created,Type:ea.YS.TypeTrans}),(0,o.Z)(this,"TransId",void 0),(0,o.Z)(this,"TransPoint",void 0),(0,o.Z)(this,"TransStatus",void 0),(0,o.Z)(this,"TransTime",void 0),(0,o.Z)(this,"Deadline",void 0),(0,o.Z)(this,"TransSender",void 0),(0,o.Z)(this,"TransReceiver",void 0),this.TransId=e.TransId,this.TransPoint=e.TransPoint,this.TransStatus=e.TransStatus,this.TransTime=e.TransTime,this.TransSender=e.TransSender,this.TransReceiver=e.TransReceiver,this.Deadline=this.TransTime+(0,le.dayToMilliseconds)(le.RECEIVE_TRANSFER_DAYS)}get TransDate(){return`${(0,le.TimeFormat)(le.timeFormat.YYYMMDD,this.TransTime)}`}get isCanReceive(){return!this.isBeforeTransTime&&!this.isExpire}get isBeforeTransTime(){const e=(new Date).getTime();return(0,le.TimeBefore)(e,this.TransTime)}get isExpire(){const e=(new Date).getTime();return(0,le.TimeBefore)(this.Deadline,e)}get transTimeStatus(){return this.isBeforeTransTime?ea.Kg.IsBeforeTransTime:this.isCanReceive?ea.Kg.CanReceive:ea.Kg.Expire}isMe(e){return this.TransSender===e}}const Mc=(0,i.iH)(!1),Lc=(0,i.OT)(Mc),Uc=e=>{Mc.value=e},Fc=[ea.pW.TRECreated,ea.pW.TREFreeze,ea.pW.TREUnfreeze,ea.pW.TREImmediately],Bc=e=>Fc.includes(e),Hc=e=>Nc.hX.roomAnnounceAll(e),Wc=(e,t,{limitCount:n,lastVisible:o,notNeedTransStatus:r})=>{const i=[(0,we.ar)("AllowRead","array-contains",t),...r?[]:[(0,we.ar)("TransStatus","in",Fc)],(0,we.Xo)("TransTime","desc"),...o?[(0,we.TQ)(o)]:[],...0!==n&&n?[(0,we.b9)(n)]:[]];return(0,we.IO)(e,...i)},qc=(e,t,n)=>{const o=Wc(Hc(e),t,{notNeedTransStatus:!0});return(0,we.cf)(o,n)},Vc=async(e,t,n,o)=>{const r=[],i=Wc(Hc(e),t,{limitCount:n,lastVisible:o,notNeedTransStatus:!1}),s=await(0,we.PL)(i);return s.forEach((e=>{r.push(zc(e.data()))})),[r,s.docs[s.size-1]]},zc=e=>{const{AllowRead:t,Created:n,TransID:o,TransSender:r,TransReceiver:i,TransTime:s,TransPoint:a,TransStatus:c}=e;return new Dc({AllowRead:t,Created:n.toMillis(),TransId:o,TransSender:r,TransReceiver:i,TransTime:s.toMillis(),TransPoint:a,TransStatus:c})};function Gc(){const t=r.S6,n=2e3,o=async e=>{const t=e.data();return void 0===ea.Cs[t.Type]&&(t.Type=ea.Cs.Text),t.Type===ea.Cs.Text&&""===t.Text&&0===t.ImageAll.length&&0===t.VideoAll.length?be.v0.emptyOrNullMessageItem({isNull:!1}):be.v0.createItemActionsMap[t.Type]?be.v0.createItemActionsMap[t.Type](t,e.id):be.v0.emptyOrNullMessageItem({isNull:!1})},a=e=>({"min-height":e?"231.25px":"279.25px"}),c=(0,s.Fl)((()=>Lc.value?{"padding-top":"50px"}:{})),l=e=>document.getElementById(e)?.getElementsByClassName("scroll-wrap")[0]||null,u=(e,t,n)=>!!e[n]&&(e[n].SenderID===t&&e[n]instanceof Qs.xv),p=e=>e.replace(/origin-image/,"private-image"),{roomID:d}=e,h=(0,i.qj)(Ve),f=()=>U.p("RoomInfo"),g=()=>{ot(""),U.p("TalkGroups")},m=(0,s.Fl)((()=>`TALK-${d.value}`));return{createMessage:o,transferBubbleSkelton:a,getTalkingRoomScrollWrapElement:l,scrollWrapStyle:c,hasNextMessage:u,goRoomInfo:f,backFriend:g,replaceImgUrl:p,roomID:d,roomInfo:h,goPersonalInfo:U.aB,talkingRoomID:m,API_TIMEOUT:n,imageUrlPrefix:t}}const $c={class:"absolute top-2 left-0 w-full px-2"},Kc={key:0,class:"bg-[#343434] rounded-md flex relative z-100"},Yc={class:"flex-grow relative"},Zc=["id"],Jc=["id"];function Xc(e,t,n,o,r,i){const c=(0,s.up)("Announce-row"),l=(0,s.up)("collapse"),u=(0,s.up)("FontIcon");return(0,s.wg)(),(0,s.iD)("div",$c,[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[e.hasData?((0,s.wg)(),(0,s.iD)("div",Kc,[(0,s._)("div",Yc,[(0,s.Wm)(c,{class:(0,h.C_)(e.firstDataClass),data:e.firstAnnounce,isMe:e.firstAnnounce.isMe(e.userID)},null,8,["class","data","isMe"]),(0,s.Wm)(l,{duration:e.DURATION},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{id:e.scrollId,class:"max-h-[136px] overflow-y-scroll scrollbar-disabled"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.animationList,(t=>((0,s.wg)(),(0,s.j4)(c,{class:"border-b border-gray-600",key:t.TransId,data:t,isMe:t.isMe(e.userID)},null,8,["data","isMe"])))),128)),(0,s._)("div",{id:e.observerId,style:{height:"1px"}},null,8,Jc),(0,s.wy)((0,s._)("div",{class:"text-center py-2 absolute bottom-[-37px] left-0 right-0 bg-[#343434] rounded-b-md cursor-pointer",onClick:t[0]||(t[0]=t=>e.triggerOpen(!1))}," 縮小 ",512),[[a.F8,e.isOpen&&0!==e.animationList.length]])],8,Zc),[[a.F8,e.isOpen]])])),_:1},8,["duration"])]),0!==e.animationList.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"absolute right-1 transition-transform ease-in-out duration-150 cursor-pointer",style:(0,h.j5)([e.transformDistance])},[(0,s.Wm)(u,{name:e.changeIcon,onClick:t[1]||(t[1]=t=>e.triggerOpen(!e.isOpen))},null,8,["name"])],4)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])),_:1})])}const Qc=e=>((0,s.dD)("data-v-cf8bb7ae"),e=e(),(0,s.Cn)(),e),el=["src"],tl={class:"text-xs text-white mx-2"},nl={class:"opacity-[0.6] flex items-center"},ol={class:"flex items-center ml-3 text-sm"},rl=Qc((()=>(0,s._)("div",{class:"flex-grow"},null,-1))),il={class:"flex items-center mr-5"},sl=["disabled"],al=Qc((()=>(0,s._)("span",{class:"text-sm"}," 收點數 ",-1))),cl=[al],ll=Qc((()=>(0,s._)("span",{class:"text-sm"}," 立即轉移 ",-1))),ul=[ll],pl=Qc((()=>(0,s._)("div",{class:"flex items-center"},null,-1)));function dl(e,t,n,o,r,i){const a=(0,s.up)("FontIcon");return(0,s.wg)(),(0,s.iD)("div",{class:(0,h.C_)(["flex py-1 h-[45px] pl-2 pr-1",e.freezedClass.row])},[(0,s._)("img",{src:`${e.gcpImStoragePath}/static/images/j-points-small.svg`,alt:"j-points",width:"30",height:"30"},null,8,el),(0,s._)("div",tl,[(0,s._)("p",{class:(0,h.C_)(e.freezedClass.text)},(0,h.zw)(e.dataFormat.titleText),3),(0,s._)("p",nl,[(0,s.Wm)(a,{class:"mr-1 text-lg",name:"calendar_month"}),(0,s.Uk)(" "+(0,h.zw)(e.dataFormat.formatReceiveTime),1)])]),(0,s._)("p",ol,(0,h.zw)(e.dataFormat.points),1),rl,(0,s._)("div",il,[e.isMe?e.dataFormat.senderCanAction?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"mr-3 bg-[#1d8bf1] px-2 rounded-sm receive-btn",onClick:t[1]||(t[1]=(...t)=>e.immediatelyTransfer&&e.immediatelyTransfer(...t))},ul)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"mr-3 bg-[#1d8bf1] px-2 rounded-sm receive-btn",disabled:!e.dataFormat.receiverCanAction,onClick:t[0]||(t[0]=(...t)=>e.receive&&e.receive(...t))},cl,8,sl))]),pl],2)}var hl=(0,s.aZ)({name:"RoomAnnounceRow",components:{FontIcon:F.Z},props:{data:{type:Object,requred:!0},isMe:{type:Boolean,required:!0}},setup(e){const{data:t,isMe:n}=(0,i.BK)(e),{openModal:o}=(0,Bt.d)("im-app-main"),a=(0,s.Fl)((()=>{const e=(0,i.SU)(t),o=e.TransStatus===ea.pW.TREFreeze,r=!o&&e.transTimeStatus===ea.Kg.CanReceive&&!n.value,s=!o&&e.transTimeStatus!==ea.Kg.CanReceive&&n.value,a=()=>e.TransStatus===ea.pW.TREFreeze?"凍結中":n.value?"等待對方領收":r?"等待領收":"預約收點";return{formatReceiveTime:e.TransDate,points:(new Intl.NumberFormat).format(e.TransPoint),receiverCanAction:r,senderCanAction:s,titleText:a()}})),c=(0,s.Fl)((()=>{const e=(0,i.SU)(t),n=e.TransStatus===ea.pW.TREFreeze,o=n?["text-modalRed"]:[],r=n?["opacity-60"]:[];return{text:o,row:r}})),l=async()=>{const e=(0,i.SU)(t);_c.hu.isNotOk(n.value,"cannot receive transfer by self"),_c.hu.equal(e.transTimeStatus,ea.Kg.CanReceive,"can not received"),_c.hu.notEqual(e.TransStatus,ea.pW.TREFreeze,"it is freezed"),_c.hu.notEqual(e.TransStatus,ea.pW.TRECanceled,"it is canceled");const{closeModal:r}=o("jpointLoading",{message:"領取中"});try{await(0,le.waitingAPI)(2e3,ms(e.TransId)),o("alertModal",{icon:"success",message:"領取成功"})}catch(ou){o("jpointConfirm",{message:"領取失敗",buttonText:"確認",confirmFunction:()=>!1})}finally{r()}},u=async()=>{const e=(0,i.SU)(t);_c.hu.isOk(n.value),_c.hu.notEqual(e.transTimeStatus,ea.Kg.CanReceive,"can not received"),_c.hu.notEqual(e.TransStatus,ea.pW.TREFreeze,"it is freezed"),_c.hu.notEqual(e.TransStatus,ea.pW.TRECanceled,"it is canceled");const{closeModal:r}=o("jpointLoading",{message:"處理中"});try{await(0,le.waitingAPI)(2e3,ys(e.TransId)),o("alertModal",{icon:"success",message:"立即轉移成功"})}catch(ou){o("jpointConfirm",{message:"轉移失敗",buttonText:"確認",confirmFunction:()=>!1})}finally{r()}};return{dataFormat:a,receive:l,freezedClass:c,immediatelyTransfer:u,gcpImStoragePath:r.yq}}});const fl=(0,C.Z)(hl,[["render",dl],["__scopeId","data-v-cf8bb7ae"]]);var gl=fl;const ml=38,yl=45,vl=.15;var bl=(0,s.aZ)({name:"RoomAnnunce",props:{talkingRoomID:{type:String,required:!0}},components:{AnnounceRow:gl,FontIcon:F.Z,Collapse:tn.Z},setup(t){const n=(0,le.uuid4)(),o=(0,le.uuid4)(),r=(0,i.iH)(null),a=(0,i.iH)(!1),c=(0,i.qj)([]),{userState:l}=K,{roomID:u}=e,{getTalkingRoomScrollWrapElement:p}=Gc(),d=l.value?.uid,h=(0,i.iH)(!1),f=5;let g=null;const m=e=>{g=e},y=(0,s.Fl)((()=>1==c.length?["rounded-md"]:["border-b border-gray-600"])),v=(0,s.Fl)((()=>h.value?"expand_less":"expand_more")),b=(0,s.Fl)((()=>(c.length>0?Uc(!0):Uc(!1),c.length>0))),_=(0,s.Fl)((()=>c[0])),w=(0,s.Fl)((()=>c.slice(1))),T=(0,s.Fl)((()=>{const e=10,t=yl*Math.min(c.length,f-1)+ml-30;return h.value?[{transform:`translateY(${t}px)`}]:[{transform:`translateY(${e}px)`}]})),x=e=>{e.forEach((e=>{e&&e.isIntersecting&&g&&k(g)}))},S={root:document.getElementById(o),rootMargin:"0px 0px 100px 0px",threshold:0},E=e=>{h.value=e,e?(r.value=new IntersectionObserver(x,S),r.value.observe(document.getElementById(n))):r.value?.disconnect()},k=async e=>{const[t,n]=await Vc(u.value,d,f,e);t.forEach((e=>{c.push(e)})),t.length>0&&t.length>=f?m(n):m(null)},I=qc(u.value,d,(e=>{const t=e.docChanges();if(a.value)for(let n=0;n<t.length;n++){const e=t[n],o=e.type,r=zc(e.doc.data());if("added"===o)Bc(r.TransStatus)&&c.unshift(r);else if("modified"===o){const e=c.findIndex((e=>e.TransId===r.TransId));Bc(r.TransStatus)?e>=0&&Object.assign(c[e],r):c.splice(e,1)}}})),A=function(){h.value&&E(!1)};return(0,s.bv)((async()=>{await k(),a.value=!0,p(t.talkingRoomID)?.addEventListener("scroll",A)})),(0,s.Jd)((()=>{I(),p(t.talkingRoomID)?.removeEventListener("scroll",A)})),{changeIcon:v,isOpen:h,triggerOpen:E,DURATION:vl,animationList:w,hasData:b,firstAnnounce:_,transformDistance:T,observerId:n,scrollId:o,userID:d,firstDataClass:y}}});const _l=(0,C.Z)(bl,[["render",Xc],["__scopeId","data-v-14a33ec7"]]);var wl=_l;const Tl=e=>{const t=()=>{const t=document.createElement("div"),n=e&&document.getElementById(e)||document.body,o=()=>{r.isShow=!1,setTimeout((()=>{l.unmount(),t?.parentNode?.removeChild(t)}),500)},r=(0,i.qj)({isShow:!1,talkingRoomID:e||""}),c={name:"RoomAnnunce",setup(){return{...(0,i.BK)(r)}},render(){return(0,s.h)(wl,{talkingRoomID:r.talkingRoomID})}};n.appendChild(t);const l=(0,a.ri)(c);return l.mount(t),r.isShow=!0,{closeRoomAnnounce:o}};return{createRoomAnnounce:t}},xl=e=>{const t=(0,le.getStartOfDay)((new Date).getTime()).getTime(),n=(0,le.getStartOfDay)(new Date(e).getTime()).getTime(),o=(0,le.getStartOfYear)(t).getTime(),r=(0,le.getStartOfYear)(n).getTime(),i=t-n;return 0===i?"今天":i<1728e5&&i>=864e5?"昨天":o-r===0?`${(0,le.TimeFormat)(le.timeFormat.MMDD,n)} (${(0,le.TimeFormat)(le.timeFormat.EEEEE,n)})`:`${(0,le.TimeFormat)(le.timeFormat.YYYYMMDD,n)} (${(0,le.TimeFormat)(le.timeFormat.EEEEE,n)})`};function Sl(){const e=e=>{if(!e)return{timeText:""};const t=(0,le.getStartOfDay)(e);return xl(t.getTime())};return{getTimestamp:e,getStartOfDay:le.getStartOfDay}}var El=(0,s.aZ)({name:"TalkingRoom",components:{FontIcon:F.Z,MessageBubble:Si,ItemScrollWrap:$["default"],MessageSendList:Us,VisibleObserver:V,Reply:Ks,Linkify:na,LinkPreview:$a,NotFriendModal:oc,isFriend:jc,Avatar:z.Z,LoadingIcon:Xs,TransferBubble:xc,TidyBlackBubble:Cc,isOfficial:ae,gaVisibilityAnnou:Ka,gaLinkClickBubble:Ya,gaUploadImage:Za,UserData:Y,...q.components},directives:{sticky:{mounted(e,t){const n=t.value;n.observe(e)}}},data:()=>({...q.data}),setup(){const e=(0,i.iH)(!1),t=t=>{e.value=t};(0,s.JJ)(le.OPEN_TALKINGROOM_FOOTER,t),(0,s.JJ)(le.OPEN_TALKINGROOM_FOOTER_VALUE,(0,i.OT)(e));const n=(0,i.iH)(null),o=(0,i.iH)(!0),r=(0,i.iH)(!1);let a=(0,i.iH)(null),l=(0,i.iH)(null),u=new Map;const{userState:p}=K,d=(0,i.iH)(!1),h=(0,i.iH)(30),f=p.value?.uid;let g,m,y,v=(0,i.qj)([]);const b=(0,i.iH)(!0),{createMessage:_,transferBubbleSkelton:w,scrollWrapStyle:T,hasNextMessage:x,replaceImgUrl:E,API_TIMEOUT:k,imageUrlPrefix:I,goRoomInfo:A,roomID:R,talkingRoomID:O,roomInfo:C,backFriend:j,goPersonalInfo:N,getTalkingRoomScrollWrapElement:P}=Gc(),{createRoomAnnounce:D}=Tl(O.value),{getTimestamp:M,getStartOfDay:L}=Sl(),U=(e="")=>!!e&&e.match(le.urlPattern),F=(0,s.Fl)((()=>{const e=[];let t=[],n=v.length>0?L(v[0].Created).getTime():0;for(let o=0;o<v.length;o++){const r=v[o];let i=L(r.Created).getTime();i!==n&&(n=i,e.push(t),t=[]),t.push(r)}return t.length>0&&(e.push(t),t=[]),e})),B=(0,S.B_)(o,(e=>{e&&u.forEach((e=>{e.classList.contains("isFix")||e.classList.add("isMoving")}))}),{debounce:350}),H=({id:e},{...t})=>{const n=v.findIndex((t=>t.id===e));return Object.assign(v[n],{...v[n],...t}),_c.hu.instanceOf(v[n],Qs.xv,"find and update message function should return Message class"),[v[n],n]},W=async e=>{const t=le.uuid4();let o;try{ta.co.logSendMessage(f),v.push(new Qs.xv({Type:ea.Cs.Text,id:t,AllowRead:[],SenderID:f,Status:Jo.N.OK,Process:!(e.imageAll&&e.imageAll.length>0),Text:e.message||"",ImageAll:e.imageAll||[],VideoAll:e.videoAll||[],ReplyTo:e.replyTo||null,Created:(new Date).getTime(),Modified:(new Date).getTime(),responseStatus:"OK"})),await(0,s.Y3)(),n.value?.scrollToBottom(),o=(0,S.eM)((()=>{H({id:t},{responseStatus:"LOADING"})}),k).stop,$();const r=await be.v0.sendMessageToRoom(e),i=r.getMessageId();H({id:t},{id:i,responseStatus:"OK"})}catch(ou){H({id:t},{responseStatus:"ERROR"}),console.error(ou)}finally{o()}},q=async e=>{try{const[t,o]=H({id:e},{responseStatus:"ERROR_RESEND"}),r=await be.v0.sendMessageToRoom({room_id:R.value,message:t?.Text,imageAll:[],replyTo:t?.ReplyTo||void 0,markRead:!0}),a=r.getMessageId();H({id:e},{id:a,responseStatus:"OK"});const c=(0,i.SU)(v.splice(o,1));v.push(...c),await(0,s.Y3)(),n.value?.scrollToBottom()}catch(ou){H({id:e},{responseStatus:"ERROR"})}},V=e=>{const t=(0,c.NXq)(n),o=t.querySelector(`#TEXT-${e}`);o&&n.value?.scrollToEle(o)},z=async e=>{try{await(0,zi.B2)(R.value,e)}catch(ou){console.error(ou)}},G=e=>{const[t]=H({id:e},{});t&&(a.value=(0,i.qj)(t))},$=()=>{a.value=null},Y=()=>{r.value=!0,(0,S.eM)((()=>{r.value=!1}),3e3)},Z=async()=>{d.value=!0;const e=15;if(null!==l.value)try{const t=Ke(R.value),n=await(0,we.PL)((0,we.IO)(be.v0.getMessageAll(R.value,f),(0,we.TQ)(l.value),(0,we.Lx)(t.deleteRoomTime),(0,we.b9)(e)));if(n.empty)l.value=null;else{n.size>=e?l.value=n.docs[n.docs.length-1]:l.value=null;const t=[];n.docChanges().forEach((async e=>{if("added"===e.type){const n=e.doc,o=await _(n);t.unshift(o)}})),await(0,s.Y3)(),Object.assign(v,Object.freeze(t.concat(v)))}}catch(ou){console.error(ou)}d.value=!1},J=async()=>{if(!d.value)try{await Z(),null!==l.value&&void 0!==l.value&&n.value?.goToTop(130)}catch(ou){console.error(ou)}},X=(0,s.YP)(n,(async()=>{n.value&&(n.value?.emitter.on(n.value?.eventMap.NEED_LOAD_DATA,J),X())})),Q=async e=>{const t=Ke(R.value),o=await(0,we.PL)((0,we.IO)(be.v0.getMessageAll(R.value,f),(0,we.Lx)(t.deleteRoomTime),(0,we.b9)(e)));o.size>=e&&b.value&&(l.value=o.docs[o.docs.length-1]);const r=o.docChanges();for(let n=0;n<r.length;n++){const e=r[n],t=await _(e.doc);v.unshift(t)}await(0,s.Y3)(),n.value?.scrollToBottom(),b.value=!1},ee=()=>(0,we.cf)(be.v0.getMessageAll(R.value,f),(async e=>{const t=e.docChanges();for(let o=0;o<t.length;o++){if(b.value)return;const e=t[o];let r=await _(e.doc);if(r.Type===ea.Cs.Trans&&(0,le.resolveStopPromise)(),"modified"===e.type){const e=v.findIndex((e=>e.id===r.id));e>=0&&Object.assign(v[e],r,{})}else if("added"===e.type){if(r.SenderID!==f||!r.isTextType)if(v[0].Created>r.Created){const e=le.binarySearch(v,r,((e,t)=>e.Created-t.Created));v.splice(e,0,r)}else v.push(r);await(0,s.Y3)(),n.value?.scrollToBottom()}}}));(0,s.wF)((()=>{try{const e=(0,Xo._o)(be.du.getRoomInfo(R.value),Xo.O5.MESSAGE_SHARD_ALL);g=(0,we.cf)(e,(()=>{try{Ro([R.value])}catch(ou){console.error(ou)}})),m=ee(),Q(h.value)}catch(ou){console.error(ou)}}));const te=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target.getAttribute("data-stickyId");let n=e.target.nextElementSibling;e.intersectionRatio>.9?(u.delete(t),n.classList.add("isFix")):(u.set(t,n),n.classList.remove("isFix"))}))}),{threshold:[0,1]}),ne=(0,S.DI)((()=>{o.value=!1,u.forEach((e=>{e.classList.contains("isFix")||e.classList.remove("isMoving")}))}),300),oe=()=>{o.value=!0,ne()};return(0,s.bv)((()=>{const e=D();y=e.closeRoomAnnounce,P(O.value)?.addEventListener("scroll",oe),window.$IM_EVENT.on(window.$IM_EVENT_MAP.TALKING_ROOM_SCROLL_TO_BOTTOM,(()=>{n.value?.scrollToBottom()}))})),(0,s.Jd)((()=>{te&&te.disconnect(),y&&y(),P(O.value)?.removeEventListener("scroll",oe),B(),a.value=null,n.value=null,l.value=null,v.splice(0),g&&(g(),g=null),m&&(m(),m=null),window.$IM_EVENT.off(window.$IM_EVENT_MAP.TALKING_ROOM_SCROLL_TO_BOTTOM)})),{imageUrlPrefix:I,replyMsg:a,isLoadData:d,scrollIWrap:n,roomInfo:C,roomID:R,userID:f,isShowError:r,utils:le,messages:v,userStore:K,hasUrl:U,goPersonalInfo:N,hasNextMessage:x,replaceImgUrl:E,callTakeBackMessage:z,callReplyMessage:G,sendMessage:W,clearReplyMsg:$,handleFileUploadError:Y,goRoomInfo:A,backFriend:j,scrollToEle:V,resendMessage:q,talkingRoomID:O,getTimestamp:M,lastVisible:l,transferBubbleSkelton:w,scrollWrapStyle:T,groupMessages:F,hasAnnouceData:Lc,gaMessageType:Ne.ZQ,stickyOberver:te,gcpImStoragePath:(0,le.getConfig)().GCP_IM_STORAGE_URL}}});const kl=(0,C.Z)(El,[["render",Zo],["__scopeId","data-v-780b2e93"]]);var Il=kl;const Al=e=>((0,s.dD)("data-v-6c8b74ce"),e=e(),(0,s.Cn)(),e),Rl={class:"flex p-4 pr-14 text-sm"},Ol=Al((()=>(0,s._)("div",{class:"flex-grow"},null,-1))),Cl={class:"flex flex-col space-y-1"},jl=Al((()=>(0,s._)("span",{class:"flex"},"檢舉回報",-1))),Nl={key:0,class:"flex flex-col bg-white h-[80%] text-black p-9"},Pl=Al((()=>(0,s._)("div",{class:"flex justify-center mb-8"},"檢舉回報",-1))),Dl={class:"space-y-5 mb-4"},Ml={class:"flex content-center cursor-pointer"},Ll={class:"inline-flex justify-center items-center w-7 h-7 border rounded-full border-mainBodColor"},Ul={class:"w-4 h-4 rounded-full bg-mainGreen"},Fl={class:"inline-flex items-center ml-2 text-[#3c3c3c]"},Bl=Al((()=>(0,s._)("p",{class:"flex text-xs text-skeletonMainColor"},"平台收到回報將會排程處理。",-1))),Hl=Al((()=>(0,s._)("div",{class:"flex-grow"},null,-1))),Wl={class:"flex flex-col text-center bg-bgDark h-[73%] rounded-t-[2.5em] space-y-3"},ql={class:"text-white text-sm font-black"},Vl=["href"],zl=Al((()=>(0,s._)("div",{class:"flex-grow"},null,-1)));function Gl(e,t,n,o,r,i){const c=(0,s.up)("FontIcon"),l=(0,s.up)("PopoverButton"),u=(0,s.up)("PopoverPanel"),p=(0,s.up)("Popover"),d=(0,s.up)("RadioGroupLabel"),f=(0,s.up)("RadioGroupOption"),g=(0,s.up)("RadioGroup"),m=(0,s.up)("MainContent"),y=(0,s.up)("AppLayout");return(0,s.wg)(),(0,s.j4)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{wrapClass:e.wrapClass},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"page-wrap flex flex-col flex-grow bg-bgLight justify-between bg-top bg-no-repeat bg-contain",style:(0,h.j5)({backgroundImage:"linear-gradient(to bottom, #c44bce, #4b67ce, #5050a0)"})},[(0,s._)("div",Rl,[(0,s._)("button",{onClick:t[0]||(t[0]=(...t)=>e.goBack&&e.goBack(...t))},[(0,s.Wm)(c,{name:"close"})]),Ol,(0,s._)("div",null,[(0,s.Wm)(p,{class:"relative"},{default:(0,s.w5)((({open:n})=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s._)("button",{class:(0,h.C_)(["flex justify-center w-7 h-7 text-primary bg-white rounded-full bg-opacity-75",{"opacity-50":n}])},[(0,s.Wm)(c,{class:"self-center",name:"more_horiz"})],2)])),_:2},1024),(0,s.Wm)(u,{class:"absolute z-20 right-0 mt-4"},{default:(0,s.w5)((()=>[(0,s._)("div",Cl,[e.isMe?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("a",{key:0,href:"#",class:"flex whitespace-nowrap bg-black px-3 py-1.5 rounded space-x-2",onClick:t[1]||(t[1]=(0,a.iM)((t=>e.isOpenReportAbused=!e.isOpenReportAbused),["prevent"]))},[jl,(0,s.Uk)(),(0,s.Wm)(c,{class:"flex text-lg leading-5",name:"notifications"})]))])])),_:1})])),_:1})])]),e.isOpenReportAbused?((0,s.wg)(),(0,s.iD)("div",Nl,[Pl,(0,s.Wm)(g,{modelValue:e.reportAbusedReasonSelected,"onUpdate:modelValue":t[2]||(t[2]=t=>e.reportAbusedReasonSelected=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"sr-only"},{default:(0,s.w5)((()=>[(0,s.Uk)("檢舉原因")])),_:1}),(0,s._)("div",Dl,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.reportAbusedReasonOptions,(e=>((0,s.wg)(),(0,s.j4)(f,{as:"template",key:e.name,value:e},{default:(0,s.w5)((({checked:t})=>[(0,s._)("div",Ml,[(0,s._)("span",Ll,[(0,s.wy)((0,s._)("span",Ul,null,512),[[a.F8,t]])]),(0,s.Uk)(),(0,s._)("span",Fl,(0,h.zw)(e.name),1)])])),_:2},1032,["value"])))),128))])])),_:1},8,["modelValue"]),"OTHER"===e.reportAbusedReasonSelected.value?(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:0,class:"resize-none border rounded-md mb-4 p-1","onUpdate:modelValue":t[3]||(t[3]=t=>e.abusedReason=t),rows:"4"},null,512)),[[a.nr,e.abusedReason]]):(0,s.kq)("",!0),Bl,Hl,(0,s._)("button",{type:"button",class:"flex justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white submit-btn focus:outline-none",onClick:t[4]||(t[4]=(...t)=>e.callReportAbusedUser&&e.callReportAbusedUser(...t))},"確定並送出")])):(0,s.kq)("",!0),(0,s.wy)((0,s._)("div",Wl,[(0,s._)("div",{class:"avatar self-center w-[6em] h-[6em] mt-[-3em] rounded-full bg-center bg-no-repeat bg-contain",style:(0,h.j5)({backgroundImage:`url('${e.imgUrl}')`})},null,4),(0,s._)("div",ql,(0,h.zw)(e.getDisplayName),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.spaceLinks,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"flex flex-col px-8",key:t},[(0,s._)("a",{class:"flex border-2 py-2 rounded-full items-center justify-center space-x-3 text-sm",target:"_blank",href:e.link},[(0,s._)("div",{class:(0,h.C_)(["bg-cover w-7 h-7 bg-gray-200 rounded",[e.logoClass]])},null,2),(0,s.Uk)(),(0,s._)("span",null,(0,h.zw)(e.text),1)],8,Vl)])))),128)),zl,(0,s.kq)("",!0)],512),[[a.F8,!e.isOpenReportAbused]])],4)])),_:1},8,["wrapClass"])])),_:1})}function $l(e,t,...n){if(e in t){let o=t[e];return"function"==typeof o?o(...n):o}let o=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,$l),o}var Kl=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Kl||{}),Yl=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Yl||{});function Zl({visible:e=!0,features:t=0,ourProps:n,theirProps:o,...r}){var i;let s=Ql(o,n),a=Object.assign(r,{props:s});if(e||2&t&&s.static)return Jl(a);if(1&t){let e=null==(i=s.unmount)||i?0:1;return $l(e,{[0](){return null},[1](){return Jl({...r,props:{...s,hidden:!0,style:{display:"none"}}})}})}return Jl(a)}function Jl({props:e,attrs:t,slots:n,slot:o,name:r}){var i;let{as:a,...c}=tu(e,["unmount","static"]),l=null==(i=n.default)?void 0:i.call(n,o),u={};if(o){let e=!1,t=[];for(let[n,r]of Object.entries(o))"boolean"==typeof r&&(e=!0),!0===r&&t.push(n);e&&(u["data-headlessui-state"]=t.join(" "))}if("template"===a){if(l=Xl(null!=l?l:[]),Object.keys(c).length>0||Object.keys(t).length>0){let[e,...n]=null!=l?l:[];if(!nu(e)||n.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${r} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(t)).sort(((e,t)=>e.localeCompare(t))).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,s.Ho)(e,Object.assign({},c,u))}return Array.isArray(l)&&1===l.length?l[0]:l}return(0,s.h)(a,Object.assign({},c,u),{default:()=>l})}function Xl(e){return e.flatMap((e=>e.type===s.HY?Xl(e.children):[e]))}function Ql(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let o of e)for(let e in o)e.startsWith("on")&&"function"==typeof o[e]?(null!=n[e]||(n[e]=[]),n[e].push(o[e])):t[e]=o[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let o in n)Object.assign(t,{[o](e,...t){let r=n[o];for(let n of r){if(e instanceof Event&&e.defaultPrevented)return;n(e,...t)}}});return t}function eu(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function tu(e,t=[]){let n=Object.assign({},e);for(let o of t)o in n&&delete n[o];return n}function nu(e){return null!=e&&("string"==typeof e.type||"object"==typeof e.type||"function"==typeof e.type)}let ou=0;function ru(){return++ou}function iu(){return ru()}var su=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(su||{});function au(e){var t;return null==e||null==e.value?null:null!=(t=e.value.$el)?t:e.value}const cu="undefined"==typeof window||"undefined"==typeof document;function lu(e){if(cu)return null;if(e instanceof Node)return e.ownerDocument;if(null!=e&&e.hasOwnProperty("value")){let t=au(e);if(t)return t.ownerDocument}return document}let uu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var pu=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(pu||{}),du=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(du||{}),hu=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(hu||{});function fu(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(uu))}var gu=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(gu||{});function mu(e,t=0){var n;return e!==(null==(n=lu(e))?void 0:n.body)&&$l(t,{[0](){return e.matches(uu)},[1](){let t=e;for(;null!==t;){if(t.matches(uu))return!0;t=t.parentElement}return!1}})}let yu=["textarea","input"].join(",");function vu(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,yu))&&n}function bu(e,t=(e=>e)){return e.slice().sort(((e,n)=>{let o=t(e),r=t(n);if(null===o||null===r)return 0;let i=o.compareDocumentPosition(r);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function _u(e,t,n=!0,o=null){var r;let i=null!=(r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:null==e?void 0:e.ownerDocument)?r:document,s=Array.isArray(e)?n?bu(e):e:fu(e);o=null!=o?o:i.activeElement;let a,c=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,s.indexOf(o))-1;if(4&t)return Math.max(0,s.indexOf(o))+1;if(8&t)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},p=0,d=s.length;do{if(p>=d||p+d<=0)return 0;let e=l+p;if(16&t)e=(e+d)%d;else{if(e<0)return 3;if(e>=d)return 1}a=s[e],null==a||a.focus(u),p+=c}while(a!==i.activeElement);return 6&t&&vu(a)&&a.select(),a.hasAttribute("tabindex")||a.setAttribute("tabindex","0"),2}let wu=Symbol("Context");var Tu=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Tu||{});function xu(){return null!==Su()}function Su(){return(0,s.f3)(wu,null)}function Eu(e){(0,s.JJ)(wu,e)}function ku(e,t){if(e)return e;let n=null!=t?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function Iu(e,t){let n=(0,i.iH)(ku(e.value.type,e.value.as));return(0,s.bv)((()=>{n.value=ku(e.value.type,e.value.as)})),(0,s.m0)((()=>{var e;n.value||!au(t)||au(t)instanceof HTMLButtonElement&&(null==(e=au(t))||!e.hasAttribute("type"))&&(n.value="button")})),n}function Au(e,t,n){cu||(0,s.m0)((o=>{document.addEventListener(e,t,n),o((()=>document.removeEventListener(e,t,n)))}))}function Ru(e,t,n=(0,s.Fl)((()=>!0))){function o(o,r){if(!n.value||o.defaultPrevented)return;let i=r(o);if(null===i||!i.getRootNode().contains(i))return;let s=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let e of s){if(null===e)continue;let t=e instanceof HTMLElement?e:au(e);if(null!=t&&t.contains(i))return}return!mu(i,gu.Loose)&&-1!==i.tabIndex&&o.preventDefault(),t(o,i)}let r=(0,i.iH)(null);Au("mousedown",(e=>{var t,o;n.value&&(r.value=(null==(o=null==(t=e.composedPath)?void 0:t.call(e))?void 0:o[0])||e.target)}),!0),Au("click",(e=>{!r.value||(o(e,(()=>r.value)),r.value=null)}),!0),Au("blur",(e=>o(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}function Ou(e,t,n,o){cu||(0,s.m0)((r=>{e=null!=e?e:window,e.addEventListener(t,n,o),r((()=>e.removeEventListener(t,n,o)))}))}var Cu=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Cu||{});let ju=(0,s.aZ)({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{let{features:o,...r}=e,i={"aria-hidden":2===(2&o)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4===(4&o)&&2!==(2&o)&&{display:"none"}}};return Zl({ourProps:i,theirProps:r,slot:{},attrs:n,slots:t,name:"Hidden"})}}});function Nu(e,t,n){cu||(0,s.m0)((o=>{window.addEventListener(e,t,n),o((()=>window.removeEventListener(e,t,n)))}))}var Pu=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Pu||{});function Du(){let e=(0,i.iH)(0);return Nu("keydown",(t=>{"Tab"===t.key&&(e.value=t.shiftKey?1:0)})),e}var Mu=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Mu||{});let Lu=Symbol("PopoverContext");function Uu(e){let t=(0,s.f3)(Lu,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <${qu.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Uu),t}return t}let Fu=Symbol("PopoverGroupContext");function Bu(){return(0,s.f3)(Fu,null)}let Hu=Symbol("PopoverPanelContext");function Wu(){return(0,s.f3)(Hu,null)}let qu=(0,s.aZ)({name:"Popover",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n,expose:o}){var r;let a=`headlessui-popover-button-${iu()}`,c=`headlessui-popover-panel-${iu()}`,l=(0,i.iH)(null);o({el:l,$el:l});let u=(0,i.iH)(1),p=(0,i.iH)(null),d=(0,i.iH)(null),h=(0,i.iH)(null),f=(0,i.iH)(null),g=(0,s.Fl)((()=>lu(l))),m=(0,s.Fl)((()=>{var e,t;if(!au(p)||!au(f))return!1;for(let c of document.querySelectorAll("body > *"))if(Number(null==c?void 0:c.contains(au(p)))^Number(null==c?void 0:c.contains(au(f))))return!0;let n=fu(),o=n.indexOf(au(p)),r=(o+n.length-1)%n.length,i=(o+1)%n.length,s=n[r],a=n[i];return!(null!=(e=au(f))&&e.contains(s))&&!(null!=(t=au(f))&&t.contains(a))})),y={popoverState:u,buttonId:a,panelId:c,panel:f,button:p,isPortalled:m,beforePanelSentinel:d,afterPanelSentinel:h,togglePopover(){u.value=$l(u.value,{[0]:1,[1]:0})},closePopover(){1!==u.value&&(u.value=1)},close(e){y.closePopover();let t=(()=>e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?au(e):au(y.button):au(y.button))();null==t||t.focus()}};(0,s.JJ)(Lu,y),Eu((0,s.Fl)((()=>$l(u.value,{[0]:Tu.Open,[1]:Tu.Closed}))));let v={buttonId:a,panelId:c,close(){y.closePopover()}},b=Bu(),_=null==b?void 0:b.registerPopover;function w(){var e,t,n,o;return null!=(o=null==b?void 0:b.isFocusWithinPopoverGroup())?o:(null==(e=g.value)?void 0:e.activeElement)&&((null==(t=au(p))?void 0:t.contains(g.value.activeElement))||(null==(n=au(f))?void 0:n.contains(g.value.activeElement)))}return(0,s.m0)((()=>null==_?void 0:_(v))),Ou(null==(r=g.value)?void 0:r.defaultView,"focus",(e=>{var t,n;0===u.value&&(w()||!p||!f||null!=(t=au(y.beforePanelSentinel))&&t.contains(e.target)||null!=(n=au(y.afterPanelSentinel))&&n.contains(e.target)||y.closePopover())}),!0),Ru([p,f],((e,t)=>{var n;y.closePopover(),mu(t,gu.Loose)||(e.preventDefault(),null==(n=au(p))||n.focus())}),(0,s.Fl)((()=>0===u.value))),()=>{let o={open:0===u.value,close:y.close};return Zl({theirProps:e,ourProps:{ref:l},slot:o,slots:t,attrs:n,name:"Popover"})}}}),Vu=(0,s.aZ)({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:o}){let r=Uu("PopoverButton"),a=(0,s.Fl)((()=>lu(r.button)));o({el:r.button,$el:r.button});let c=Bu(),l=null==c?void 0:c.closeOthers,u=Wu(),p=null!==u&&u===r.panelId,d=(0,i.iH)(null),h=`headlessui-focus-sentinel-${iu()}`;p||(0,s.m0)((()=>{r.button.value=d.value}));let f=Iu((0,s.Fl)((()=>({as:e.as,type:t.type}))),d);function g(e){var t,n,o,i,s;if(p){if(1===r.popoverState.value)return;switch(e.key){case su.Space:case su.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),r.closePopover(),null==(o=au(r.button))||o.focus();break}}else switch(e.key){case su.Space:case su.Enter:e.preventDefault(),e.stopPropagation(),1===r.popoverState.value&&(null==l||l(r.buttonId)),r.togglePopover();break;case su.Escape:if(0!==r.popoverState.value)return null==l?void 0:l(r.buttonId);if(!au(r.button)||(null==(i=a.value)?void 0:i.activeElement)&&(null==(s=au(r.button))||!s.contains(a.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),r.closePopover();break}}function m(e){p||e.key===su.Space&&e.preventDefault()}function y(t){var n,o;e.disabled||(p?(r.closePopover(),null==(n=au(r.button))||n.focus()):(t.preventDefault(),t.stopPropagation(),1===r.popoverState.value&&(null==l||l(r.buttonId)),r.togglePopover(),null==(o=au(r.button))||o.focus()))}function v(e){e.preventDefault(),e.stopPropagation()}return()=>{let o=0===r.popoverState.value,i={open:o},a=p?{ref:d,type:f.value,onKeydown:g,onClick:y}:{ref:d,id:r.buttonId,type:f.value,"aria-expanded":e.disabled?void 0:0===r.popoverState.value,"aria-controls":au(r.panel)?r.panelId:void 0,disabled:!!e.disabled||void 0,onKeydown:g,onKeyup:m,onClick:y,onMousedown:v},c=Du();function l(){let e=au(r.panel);function t(){$l(c.value,{[Pu.Forwards]:()=>_u(e,pu.First),[Pu.Backwards]:()=>_u(e,pu.Last)})}e&&t()}return(0,s.h)(s.HY,[Zl({ourProps:a,theirProps:{...t,...e},slot:i,attrs:t,slots:n,name:"PopoverButton"}),o&&!p&&r.isPortalled.value&&(0,s.h)(ju,{id:h,features:Cu.Focusable,as:"button",type:"button",onFocus:l})])}}}),zu=((0,s.aZ)({name:"PopoverOverlay",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let o=Uu("PopoverOverlay"),r=`headlessui-popover-overlay-${iu()}`,i=Su(),a=(0,s.Fl)((()=>null!==i?i.value===Tu.Open:0===o.popoverState.value));function c(){o.closePopover()}return()=>{let i={open:0===o.popoverState.value};return Zl({ourProps:{id:r,"aria-hidden":!0,onClick:c},theirProps:e,slot:i,attrs:t,slots:n,features:Kl.RenderStrategy|Kl.Static,visible:a.value,name:"PopoverOverlay"})}}}),(0,s.aZ)({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:o}){let{focus:r}=e,i=Uu("PopoverPanel"),a=(0,s.Fl)((()=>lu(i.panel))),c=`headlessui-focus-sentinel-before-${iu()}`,l=`headlessui-focus-sentinel-after-${iu()}`;o({el:i.panel,$el:i.panel}),(0,s.JJ)(Hu,i.panelId),(0,s.m0)((()=>{var e,t;if(!r||0!==i.popoverState.value||!i.panel)return;let n=null==(e=a.value)?void 0:e.activeElement;null!=(t=au(i.panel))&&t.contains(n)||_u(au(i.panel),pu.First)}));let u=Su(),p=(0,s.Fl)((()=>null!==u?u.value===Tu.Open:0===i.popoverState.value));function d(e){var t,n;switch(e.key){case su.Escape:if(0!==i.popoverState.value||!au(i.panel)||a.value&&(null==(t=au(i.panel))||!t.contains(a.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),i.closePopover(),null==(n=au(i.button))||n.focus();break}}function h(e){var t,n,o,r,s;let a=e.relatedTarget;!a||!au(i.panel)||null!=(t=au(i.panel))&&t.contains(a)||(i.closePopover(),((null==(o=null==(n=au(i.beforePanelSentinel))?void 0:n.contains)?void 0:o.call(n,a))||(null==(s=null==(r=au(i.afterPanelSentinel))?void 0:r.contains)?void 0:s.call(r,a)))&&a.focus({preventScroll:!0}))}let f=Du();function g(){let e=au(i.panel);function t(){$l(f.value,{[Pu.Forwards]:()=>{_u(e,pu.Next)},[Pu.Backwards]:()=>{var e;null==(e=au(i.button))||e.focus({preventScroll:!0})}})}e&&t()}function m(){let e=au(i.panel);function t(){$l(f.value,{[Pu.Forwards]:()=>{var e,t;let n=au(i.button),o=au(i.panel);if(!n)return;let r=fu(),s=r.indexOf(n),a=r.slice(0,s+1),c=[...r.slice(s+1),...a];for(let i of c.slice())if((null==(t=null==(e=null==i?void 0:i.id)?void 0:e.startsWith)?void 0:t.call(e,"headlessui-focus-sentinel-"))||(null==o?void 0:o.contains(i))){let e=c.indexOf(i);-1!==e&&c.splice(e,1)}_u(c,pu.First,!1)},[Pu.Backwards]:()=>_u(e,pu.Previous)})}e&&t()}return()=>{let o={open:0===i.popoverState.value,close:i.close},a={ref:i.panel,id:i.panelId,onKeydown:d,onFocusout:r&&0===i.popoverState.value?h:void 0,tabIndex:-1};return Zl({ourProps:a,theirProps:{...t,...tu(e,["focus"])},attrs:t,slot:o,slots:{...n,default:(...e)=>{var t;return[(0,s.h)(s.HY,[p.value&&i.isPortalled.value&&(0,s.h)(ju,{id:c,ref:i.beforePanelSentinel,features:Cu.Focusable,as:"button",type:"button",onFocus:g}),null==(t=n.default)?void 0:t.call(n,...e),p.value&&i.isPortalled.value&&(0,s.h)(ju,{id:l,ref:i.afterPanelSentinel,features:Cu.Focusable,as:"button",type:"button",onFocus:m})])]}},features:Kl.RenderStrategy|Kl.Static,visible:p.value,name:"PopoverPanel"})}}})),Gu=((0,s.aZ)({name:"PopoverGroup",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:n,expose:o}){let r=(0,i.iH)(null),a=(0,i.iH)([]),c=(0,s.Fl)((()=>lu(r)));function l(e){let t=a.value.indexOf(e);-1!==t&&a.value.splice(t,1)}function u(e){return a.value.push(e),()=>{l(e)}}function p(){var e;let t=c.value;if(!t)return!1;let n=t.activeElement;return!(null==(e=au(r))||!e.contains(n))||a.value.some((e=>{var o,r;return(null==(o=t.getElementById(e.buttonId))?void 0:o.contains(n))||(null==(r=t.getElementById(e.panelId))?void 0:r.contains(n))}))}function d(e){for(let t of a.value)t.buttonId!==e&&t.close()}return o({el:r,$el:r}),(0,s.JJ)(Fu,{registerPopover:u,unregisterPopover:l,isFocusWithinPopoverGroup:p,closeOthers:d}),()=>Zl({ourProps:{ref:r},theirProps:e,slot:{},attrs:t,slots:n,name:"PopoverGroup"})}}),Symbol("LabelContext"));function $u(){let e=(0,s.f3)(Gu,null);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,$u),e}return e}function Ku({slot:e={},name:t="Label",props:n={}}={}){let o=(0,i.iH)([]);function r(e){return o.value.push(e),()=>{let t=o.value.indexOf(e);-1!==t&&o.value.splice(t,1)}}return(0,s.JJ)(Gu,{register:r,slot:e,name:t,props:n}),(0,s.Fl)((()=>o.value.length>0?o.value.join(" "):void 0))}let Yu=(0,s.aZ)({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:n}){let o=$u(),r=`headlessui-label-${iu()}`;return(0,s.bv)((()=>(0,s.Ah)(o.register(r)))),()=>{let{name:s="Label",slot:a={},props:c={}}=o,{passive:l,...u}=e,p={...Object.entries(c).reduce(((e,[t,n])=>Object.assign(e,{[t]:(0,i.SU)(n)})),{}),id:r};return l&&(delete p.onClick,delete u.onClick),Zl({ourProps:p,theirProps:u,slot:a,attrs:n,slots:t,name:s})}}}),Zu=Symbol("DescriptionContext");function Ju(){let e=(0,s.f3)(Zu,null);if(null===e)throw new Error("Missing parent");return e}function Xu({slot:e=(0,i.iH)({}),name:t="Description",props:n={}}={}){let o=(0,i.iH)([]);function r(e){return o.value.push(e),()=>{let t=o.value.indexOf(e);-1!==t&&o.value.splice(t,1)}}return(0,s.JJ)(Zu,{register:r,slot:e,name:t,props:n}),(0,s.Fl)((()=>o.value.length>0?o.value.join(" "):void 0))}(0,s.aZ)({name:"Description",props:{as:{type:[Object,String],default:"p"}},setup(e,{attrs:t,slots:n}){let o=Ju(),r=`headlessui-description-${iu()}`;return(0,s.bv)((()=>(0,s.Ah)(o.register(r)))),()=>{let{name:s="Description",slot:a=(0,i.iH)({}),props:c={}}=o,l=e,u={...Object.entries(c).reduce(((e,[t,n])=>Object.assign(e,{[t]:(0,i.SU)(n)})),{}),id:r};return Zl({ourProps:u,theirProps:l,slot:a.value,attrs:t,slots:n,name:s})}}});function Qu({container:e,accept:t,walk:n,enabled:o}){(0,s.m0)((()=>{let r=e.value;if(!r||void 0!==o&&!o.value)return;let i=lu(e);if(!i)return;let s=Object.assign((e=>t(e)),{acceptNode:t}),a=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,s,!1);for(;a.nextNode();)n(a.currentNode)}))}function ep(e={},t=null,n=[]){for(let[o,r]of Object.entries(e))np(n,tp(t,o),r);return n}function tp(e,t){return e?e+"["+t+"]":t}function np(e,t,n){if(Array.isArray(n))for(let[o,r]of n.entries())np(e,tp(t,o.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):ep(n,t,e)}function op(e){var t;let n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n)for(let o of n.elements)if("INPUT"===o.tagName&&"submit"===o.type||"BUTTON"===o.tagName&&"submit"===o.type||"INPUT"===o.nodeName&&"image"===o.type)return void o.click()}function rp(e,t,n){let o=(0,i.iH)(null==n?void 0:n.value),r=(0,s.Fl)((()=>void 0!==e.value));return[(0,s.Fl)((()=>r.value?e.value:o.value)),function(e){return r.value||(o.value=e),null==t?void 0:t(e)}]}function ip(e,t){return e===t}let sp=Symbol("RadioGroupContext");function ap(e){let t=(0,s.f3)(sp,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ap),t}return t}let cp=(0,s.aZ)({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ip},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0}},inheritAttrs:!1,setup(e,{emit:t,attrs:n,slots:o,expose:r}){let a=(0,i.iH)(null),c=(0,i.iH)([]),l=Ku({name:"RadioGroupLabel"}),u=Xu({name:"RadioGroupDescription"});r({el:a,$el:a});let[p,d]=rp((0,s.Fl)((()=>e.modelValue)),(e=>t("update:modelValue",e)),(0,s.Fl)((()=>e.defaultValue))),h={options:c,value:p,disabled:(0,s.Fl)((()=>e.disabled)),firstOption:(0,s.Fl)((()=>c.value.find((e=>!e.propsRef.disabled)))),containsCheckedOption:(0,s.Fl)((()=>c.value.some((t=>h.compare((0,i.IU)(t.propsRef.value),(0,i.IU)(e.modelValue)))))),compare(t,n){if("string"==typeof e.by){let o=e.by;return(null==t?void 0:t[o])===(null==n?void 0:n[o])}return e.by(t,n)},change(t){var n;if(e.disabled||h.compare((0,i.IU)(p.value),(0,i.IU)(t)))return!1;let o=null==(n=c.value.find((e=>h.compare((0,i.IU)(e.propsRef.value),(0,i.IU)(t)))))?void 0:n.propsRef;return(null==o||!o.disabled)&&(d(t),!0)},registerOption(e){c.value.push(e),c.value=bu(c.value,(e=>e.element))},unregisterOption(e){let t=c.value.findIndex((t=>t.id===e));-1!==t&&c.value.splice(t,1)}};function f(e){if(!a.value||!a.value.contains(e.target))return;let t=c.value.filter((e=>!1===e.propsRef.disabled)).map((e=>e.element));switch(e.key){case su.Enter:op(e.currentTarget);break;case su.ArrowLeft:case su.ArrowUp:if(e.preventDefault(),e.stopPropagation(),_u(t,pu.Previous|pu.WrapAround)===du.Success){let e=c.value.find((e=>{var t;return e.element===(null==(t=lu(a))?void 0:t.activeElement)}));e&&h.change(e.propsRef.value)}break;case su.ArrowRight:case su.ArrowDown:if(e.preventDefault(),e.stopPropagation(),_u(t,pu.Next|pu.WrapAround)===du.Success){let e=c.value.find((e=>{var t;return e.element===(null==(t=lu(e.element))?void 0:t.activeElement)}));e&&h.change(e.propsRef.value)}break;case su.Space:{e.preventDefault(),e.stopPropagation();let t=c.value.find((e=>{var t;return e.element===(null==(t=lu(e.element))?void 0:t.activeElement)}));t&&h.change(t.propsRef.value)}break}}(0,s.JJ)(sp,h),Qu({container:(0,s.Fl)((()=>au(a))),accept(e){return"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});let g=`headlessui-radiogroup-${iu()}`;return()=>{let{disabled:t,name:r,...i}=e,c={ref:a,id:g,role:"radiogroup","aria-labelledby":l.value,"aria-describedby":u.value,onKeydown:f};return(0,s.h)(s.HY,[...null!=r&&null!=p.value?ep({[r]:p.value}).map((([e,t])=>(0,s.h)(ju,eu({features:Cu.Hidden,key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})))):[],Zl({ourProps:c,theirProps:{...n,...tu(i,["modelValue","defaultValue"])},slot:{},attrs:n,slots:o,name:"RadioGroup"})])}}});var lp=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(lp||{});let up=(0,s.aZ)({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:n,expose:o}){let r=ap("RadioGroupOption"),a=`headlessui-radiogroup-option-${iu()}`,c=Ku({name:"RadioGroupLabel"}),l=Xu({name:"RadioGroupDescription"}),u=(0,i.iH)(null),p=(0,s.Fl)((()=>({value:e.value,disabled:e.disabled}))),d=(0,i.iH)(1);o({el:u,$el:u}),(0,s.bv)((()=>r.registerOption({id:a,element:u,propsRef:p}))),(0,s.Ah)((()=>r.unregisterOption(a)));let h=(0,s.Fl)((()=>{var e;return(null==(e=r.firstOption.value)?void 0:e.id)===a})),f=(0,s.Fl)((()=>r.disabled.value||e.disabled)),g=(0,s.Fl)((()=>r.compare((0,i.IU)(r.value.value),(0,i.IU)(e.value)))),m=(0,s.Fl)((()=>f.value?-1:g.value||!r.containsCheckedOption.value&&h.value?0:-1));function y(){var t;!r.change(e.value)||(d.value|=2,null==(t=u.value)||t.focus())}function v(){d.value|=2}function b(){d.value&=-3}return()=>{let o=tu(e,["value","disabled"]),r={checked:g.value,disabled:f.value,active:Boolean(2&d.value)},i={id:a,ref:u,role:"radio","aria-checked":g.value?"true":"false","aria-labelledby":c.value,"aria-describedby":l.value,"aria-disabled":!!f.value||void 0,tabIndex:m.value,onClick:f.value?void 0:y,onFocus:f.value?void 0:v,onBlur:f.value?void 0:b};return Zl({ourProps:i,theirProps:o,slot:r,attrs:t,slots:n,name:"RadioGroupOption"})}}}),pp=Yu;var dp=(0,s.aZ)({name:"PersonalInfo",components:{FontIcon:F.Z,Popover:qu,PopoverButton:Vu,PopoverPanel:zu,RadioGroup:cp,RadioGroupLabel:pp,RadioGroupOption:up,...q.components},data:()=>({...q.data}),setup(){const e=(0,i.qj)(Ve),t=(0,i.iH)(""),n=(0,i.iH)(Ps.personalID.value),o=[{name:"垃圾/廣告帳號",value:"AD_ACCOUNT"},{name:"其他原因",value:"OTHER"}],r=(0,i.iH)(o[0]),a=Ps.isMe.value,c=(0,i.iH)(!1),{load:l,imgUrl:u}=ce("",le.FAKE_AVATAR),p=(0,i.iH)(""),d=(0,i.qj)([{logoClass:"jkf-icon",text:"JKF 個人主頁",link:`https://www.jkforum.net/home.php?mod=space&uid=${K.getUserInfo.value(Ps.personalID.value)?.numberId}`}]),h=async()=>{const e="OTHER"===r.value.value?t.value:"";try{await be.n5.ReportAbusedUser(n.value,e),r.value=o[0],c.value=!1}catch(ou){console.log(ou)}};return(0,s.wF)((async()=>{const e=await Ps.getPersonalInfo(),{displayName:t,avatarImageUrl:n}=e.toObject();l(n),p.value=t})),(0,s.bv)((()=>{Ne.PI(n.value)})),{imgUrl:u,abusedReason:t,reportAbusedReasonSelected:r,reportAbusedReasonOptions:o,roomInfo:e,goBack:U._u,callReportAbusedUser:h,isOpenReportAbused:c,getDisplayName:p,spaceLinks:d,isMe:a}}});const hp=(0,C.Z)(dp,[["render",Gl],["__scopeId","data-v-6c8b74ce"]]);var fp=hp;const gp=e=>((0,s.dD)("data-v-2d39567a"),e=e(),(0,s.Cn)(),e),mp={class:"flex text-contentText p-4 pl-2 border-b border-mainBodColor bg-bgDark"},yp={class:"flex"},vp={class:"flex-grow displayname ml-2 text-center"},bp={class:"inline-block text-sm text-left font-medium -ml-8"},_p={class:"btn-wrap w-full grid grid-cols-4 grid-rows-1 border-b border-mainBodColor place-content-start h-[5em]"},wp=gp((()=>(0,s._)("span",{class:"text-sm"},"解除封鎖",-1))),Tp=gp((()=>(0,s._)("span",{class:"text-sm"},"封鎖",-1))),xp=gp((()=>(0,s._)("span",{class:"text-sm"},"開啟通知",-1))),Sp=gp((()=>(0,s._)("span",{class:"text-sm"},"關閉通知",-1))),Ep=gp((()=>(0,s._)("div",{class:"flex p-6 bg-bgDark items-center text-white border-t border-mainBodColor space-x-2 cursor-pointer text-sm"},[(0,s._)("div",{class:"flex-grow"})],-1)));function kp(e,t,n,o,r,i){const a=(0,s.up)("FontIcon"),c=(0,s.up)("MainContent"),l=(0,s.up)("AppLayout");return(0,s.wg)(),(0,s.j4)(l,null,{header:(0,s.w5)((()=>[(0,s._)("div",mp,[(0,s._)("div",yp,[(0,s._)("button",{class:"focus:outline-none flex",onClick:t[0]||(t[0]=(...t)=>e.goBack&&e.goBack(...t))},[(0,s.Wm)(a,{class:"cursor-pointer text-3xl leading-6",name:"chevron_left"})])]),(0,s._)("div",vp,[(0,s._)("span",bp,(0,h.zw)(e.getDisplayName),1)])])])),footer:(0,s.w5)((()=>[Ep])),default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"flex-col",wrapClass:e.wrapClass},{default:(0,s.w5)((()=>[(0,s._)("div",_p,[e.isBlack?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"flex flex-col text-center justify-center content-center cursor-pointer space-y-1",onClick:t[1]||(t[1]=(...t)=>e.callUnblackUser&&e.callUnblackUser(...t))},[(0,s.Wm)(a,{class:"self-center",name:"block"}),wp])):((0,s.wg)(),(0,s.iD)("div",{key:1,class:"flex flex-col text-center justify-center content-center cursor-pointer space-y-1",onClick:t[2]||(t[2]=(...t)=>e.callBlackUser&&e.callBlackUser(...t))},[(0,s.Wm)(a,{class:"self-center",name:"remove_circle"}),Tp])),e.isUnNotify?((0,s.wg)(),(0,s.iD)("div",{key:2,class:"flex flex-col text-center justify-center content-center cursor-pointer space-y-1",onClick:t[3]||(t[3]=(...t)=>e.openNotifyRoom&&e.openNotifyRoom(...t))},[(0,s.Wm)(a,{class:"self-center",name:"notifications_off"}),xp])):((0,s.wg)(),(0,s.iD)("div",{key:3,class:"flex flex-col text-center justify-center content-center cursor-pointer space-y-1",onClick:t[4]||(t[4]=(...t)=>e.closeNotifyRoom&&e.closeNotifyRoom(...t))},[(0,s.Wm)(a,{class:"self-center",name:"notifications"}),Sp]))])])),_:1},8,["wrapClass"])])),_:1})}var Ip=(0,s.aZ)({name:"RoomInfo",components:{FontIcon:F.Z,...q.components},data:()=>({...q.data}),setup(){const e=(0,i.qj)(Ve),t=(0,i.iH)(e.members[0]),n=(0,s.Fl)((()=>K.getUserInfo.value(t.value)?.displayName||"")),o=(0,s.Fl)((()=>-1!==K.blackUids.indexOf(t.value))),r=(0,s.Fl)((()=>{const e=Be.value;return We.value.has(e)&&!1===We.value.get(e)})),a=async()=>{try{await be.n5.BlackUser(t.value),K.updateBlackUids([...K.blackUids,t.value])}catch(ou){console.log(ou)}},c=async()=>{try{await be.n5.UnblackUser(t.value),K.removeBlackUid(t.value)}catch(ou){console.log(ou)}},l=()=>{try{Se.qF(Be.value,K.loginedUserState.uid||"",!1).then((()=>{We.value.set(Be.value,!1)}))}catch(ou){console.log(ou)}},u=()=>{try{Se.qF(Be.value,K.loginedUserState.uid||"",!0).then((()=>{We.value.set(Be.value,!0)}))}catch(ou){console.log(ou)}},p=()=>U._u();return{roomInfo:e,userID:t,callBlackUser:a,callUnblackUser:c,goBack:p,closeNotifyRoom:l,openNotifyRoom:u,getDisplayName:n,isBlack:o,isUnNotify:r}}});const Ap=(0,C.Z)(Ip,[["render",kp],["__scopeId","data-v-2d39567a"]]);var Rp=Ap;const Op=(0,s._)("div",{class:"flex-grow"},null,-1),Cp={class:"flex space-x-3"},jp={class:"focus:outline-none"},Np={class:"w-full flex flex-col justify-start"},Pp={class:"search-input py-3 px-5"},Dp={class:"flex flex-col friend-lists flex-grow"},Mp={class:"flex justify-between py-2 px-5 text-xl cursor-pointer"},Lp={key:0,class:"flex"},Up=["disabled"],Fp=(0,s._)("p",{class:"text-center my-0 text-xs bg-officialPurple py-2"}," 您現在為官方帳號身份 ",-1);function Bp(e,t,n,o,r,i){const c=(0,s.up)("useAvatarHeader"),l=(0,s.up)("FontIcon"),u=(0,s.up)("user-data"),p=(0,s.up)("friend-list-operation"),d=(0,s.up)("MainHeaderWrap"),f=(0,s.up)("Footer"),g=(0,s.up)("search-input"),m=(0,s.up)("collapse"),y=(0,s.up)("SkeletonLading"),v=(0,s.up)("friend-item"),b=(0,s.up)("wrapWithRadio"),_=(0,s.up)("collapse-group"),w=(0,s.up)("VisibleObserver"),T=(0,s.up)("item-scroll-wrap"),x=(0,s.up)("MainContent"),S=(0,s.up)("AppLayout"),E=(0,s.Q2)("bindObserver");return(0,s.wg)(),(0,s.j4)(S,null,{header:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"user-i-d":e.userId||""},{default:(0,s.w5)((({info:n})=>[(0,s.Wm)(c,{photoURL:n.photoURL,displayName:n.displayName,goPersonalInfo:()=>e.goPersonalInfo(e.userId)},null,8,["photoURL","displayName","goPersonalInfo"]),Op,(0,s._)("div",Cp,[(0,s._)("button",jp,[(0,s.Wm)(l,{name:"more_horiz",onClick:t[0]||(t[0]=t=>(e.controlHeaderOperation(),e.updateDisabledAnimation(!1)))})])])])),_:1},8,["user-i-d"]),(0,s.Wm)(p)])),_:1})])),footer:(0,s.w5)((()=>[(0,s.Wm)(f)])),default:(0,s.w5)((()=>[(0,s.Wm)(x,{wrapClass:e.wrapClass},{default:(0,s.w5)((()=>[(0,s._)("div",Np,[(0,s._)("div",Pp,[(0,s.Wm)(g,{modelValue:e.searchText,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchText=t)},null,8,["modelValue"])]),(0,s._)("div",Dp,[(0,s._)("div",Mp,[(0,s.Uk)(" 好友("+(0,h.zw)(e.allFriendsCount)+") ",1),(0,s.Wm)(m,{duration:.1},{default:(0,s.w5)((()=>[e.isShowRadioOperation?((0,s.wg)(),(0,s.iD)("div",Lp,[(0,s._)("button",{class:"mr-2 text-xs border py-1 px-4 rounded-md",onClick:t[2]||(t[2]=(...t)=>e.friendListCancelRadioOperation&&e.friendListCancelRadioOperation(...t))},"取消"),(0,s._)("button",{class:(0,h.C_)(["text-xs py-1 px-4 rounded-md",[e.dependTypeAction.confirmBtnClass]]),disabled:e.dependTypeAction.disabledBtn,onClick:t[3]||(t[3]=(...t)=>e.dependTypeAction.confirmBtnAction&&e.dependTypeAction.confirmBtnAction(...t))},(0,h.zw)(e.dependTypeAction.btnText),11,Up)])):(0,s.kq)("",!0)])),_:1},8,["duration"])]),Fp,(0,s.wy)((0,s.Wm)(y,null,null,512),[[a.F8,e.showSkeleton]]),(0,s.wy)((0,s.Wm)(T,{ref:e.matchRef,"load-data-distance-px":100,onScroll:t[4]||(t[4]=t=>(e.containerProps.onScroll(),e.updateDisabledAnimation(!0)))},{default:(0,s.w5)((()=>[(0,s._)("div",(0,h.vs)((0,s.F4)(e.wrapperProps)),[(0,s.Wm)(w,{onVisibleHandle:e.elementIsVisible,onUnvisibleHandle:e.elementIsVisible,showRatio:1},{default:(0,s.w5)((({io:t})=>[(0,s.Wm)(_,{disable:e.disabledAnimation},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.vShowLists,(({data:n,index:o})=>((0,s.wg)(),(0,s.iD)("div",{key:`${n}_${o}`},[(0,s.Wm)(b,{isShowRadio:e.showPinnedFriendList.includes(n)?e.isShowUnPinRadio:e.isShowRadio,"model-value":e.showPinnedFriendList.includes(n)?e.unPinRadioValue:e.radioValue,"onUpdate:modelValue":t=>e.showPinnedFriendList.includes(n)?e.unPinRadioValue=t:e.radioValue=t,forTag:e.showPinnedFriendList.includes(n)?`unRadio-${n}`:`radio-${n}`,radioValue:n},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(v,{"is-pin":e.showPinnedFriendList.includes(n),key:n,"data-friend-id":n,uid:n,index:o,avatarUrl:e.getUserInfo(n)?.photoURL||"",displayName:e.getUserInfo(n)?.displayName||"",active:e.onlineUserMap.has(n)&&"online"===e.onlineUserMap.get(n),onClick:t=>e.toFriend(n)},null,8,["is-pin","data-friend-id","uid","index","avatarUrl","displayName","active","onClick"])),[[E,{io:t}]])])),_:2},1032,["isShowRadio","model-value","onUpdate:modelValue","forTag","radioValue"])])))),128))])),_:2},1032,["disable"])])),_:1},8,["onVisibleHandle","onUnvisibleHandle"])],16)])),_:1},512),[[a.F8,!e.showSkeleton]])])])])),_:1},8,["wrapClass"])])),_:1})}function Hp(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,s.lA)(e)}const Wp=()=>{let e;return(0,s.h)((0,s.Wm)($["default"],null,Hp(e=Array.from({length:10},(()=>1)).map((()=>(0,s.Wm)("div",{class:"flex py-3 px-5 space-x-2 items-center"},[(0,s.Wm)("div",{class:"flex relative rounded-full bg-grey-300"},[(0,s.Wm)("div",{class:"skeleton_loading inline-block h-9 w-9 rounded-full bg-center bg-contain"},null)]),(0,s.Wm)("div",null,[(0,s.Wm)("div",{class:"skeleton_loading rounded-full mb-1.5 h-3 w-32 bg-skeletonMainColor"},null),(0,s.Wm)("div",{class:"skeleton_loading rounded-full h-2.5 w-24 bg-skeletonMainColor"},null)])]))))?e:{default:()=>[e]}))};var qp=Wp,Vp=(0,s.aZ)({name:"FriendLists",directives:{bindObserver:{mounted(e,t){const{io:n}=t.value;n.observe(e)}}},components:{VisibleObserver:V,ItemScrollWrap:$["default"],SearchInput:ve,FontIcon:F.Z,FriendItem:de,FriendListOperation:cn,useAvatarHeader:G,UserData:Y,CollapseGroup:bt,WrapWithRadio:kn,Collapse:tn.Z,SkeletonLading:qp,...q.components},data:()=>({...q.data}),setup(){const e=(0,i.iH)(!1),t=(0,s.Fl)((()=>!!(e.value||K.friends.length<=0))),n=(0,i.iH)(!0),o=e=>{n.value=e},r=(0,i.iH)(),a=(0,i.iH)(""),l=K.userState.value?.uid,u=(0,S.Dp)(a,300),p=(0,s.Fl)((()=>0!==a.value.replace(/\s/g,"").length)),d=(0,i.qj)(new Map),h=(0,s.Fl)((()=>u.value?[]:K.pinnedFriends)),f=(0,s.Fl)((()=>u.value?(0,K.filterNotVisibleFriends)(N.value?.friendLists):[...h.value,...(0,K.filterNotVisibleFriends)(K.friends)])),{list:g,containerProps:m,wrapperProps:y,scrollTo:v}=(0,c.XdG)(f,{itemHeight:60,overscan:5}),b=e=>{e&&(r.value=e,m.ref.value=e.$el)},{isShowRadio:_,radioValue:w,isShowRadioOperation:T,friendListCancelRadioOperation:x,controlHeaderOperation:E,openHeaderOperation:k,showRadio:I,isShowUnPinRadio:A,unPinRadioValue:R,showUnPinRadio:O,dependTypeAction:C,showUnHideFriendConfirmModal:j}=An();(0,s.JJ)(le.CONTROL_HEADER_OPERATION,E),(0,s.JJ)(le.OPEN_HEADER_OPERATION,k),(0,s.JJ)(le.SHOW_RADIO_BUTTON,I),(0,s.JJ)(le.SHOW_UNPIN_RADIO_BUTTON,O),(0,s.JJ)(le.SHOW_UNHIDE_FRIEND_MODAL,j);let N=(0,i.iH)(null);const P=async e=>{try{if(_.value||A.value)return;K.needGetInfoUsers.value.push(e);const t=await be.du.getRoom(e);ot(t.getRoomId()),(0,U.p)("TalkingRoom",{roomID:t.getRoomId()})}catch(ou){console.log(ou)}},D=()=>{p.value&&null!==N.value?N.value?.getList():(0,K.getUserAndUpdateFriendLists)(l)};(0,S.f8)(r,(()=>{r.value&&r.value?.emitter.on(r.value?.eventMap.NEED_LOAD_DATA,D)})),(0,s.YP)(u,(async t=>{if(!t)return void(e.value=!1);const n=(0,S.eM)((()=>{e.value=!0}),500).stop;o(!0),N.value=null,N.value=new _e.Z(l,t),v(1),await N.value.getList(),e.value=!1,n()})),_e.XB().then(K.updateAllFriendsCount).catch((e=>console.log(e)));const M=e=>{be.qb.getOnlineStatus(e)},L=({dom:e,isVisible:t})=>{const n=e.getAttribute("data-friend-id");t?d.set(n,t):d.delete(n)},F=(0,S.B_)(d,(()=>{d.forEach(((e,t)=>{M(t)}))}),{debounce:300});return(0,s.Jd)((()=>{F()})),{onlineUserMap:ht.T,userId:l,toFriend:P,scrollIWrap:r,getUserInfo:K.getUserInfo,showFriendList:f,vShowLists:g,containerProps:m,wrapperProps:y,showPinnedFriendList:h,allFriendsCount:K.allFriendsCount,searchText:a,goPersonalInfo:U.aB,elementIsVisible:L,isShowRadio:_,radioValue:w,isShowUnPinRadio:A,unPinRadioValue:R,dependTypeAction:C,controlHeaderOperation:E,isShowRadioOperation:T,friendListCancelRadioOperation:x,showRadio:I,disabledAnimation:n,updateDisabledAnimation:o,matchRef:b,showSkeleton:t}}});const zp=(0,C.Z)(Vp,[["render",Bp]]);var Gp=zp;const $p=(0,s._)("div",{class:"flex-grow"},null,-1),Kp={key:0},Yp={class:"flex space-x-3"},Zp={class:"focus:outline-none"},Jp={class:"flex flex-col w-full justify-start"},Xp={class:"flex justify-between text-left py-2 px-5 text-xl cursor-pointer"},Qp=(0,s._)("span",null,"聊天",-1),ed={key:0,class:"flex"},td=["disabled"],nd=(0,s._)("p",{class:"text-center my-0 text-xs bg-officialPurple py-2"}," 您現在為官方帳號身份 ",-1),od={class:"flex flex-col friend-lists flex-grow"};function rd(e,t,n,o,r,i){const a=(0,s.up)("useAvatarHeader"),c=(0,s.up)("NotifySwitch"),l=(0,s.up)("FontIcon"),u=(0,s.up)("user-data"),p=(0,s.up)("talk-groups-operation"),d=(0,s.up)("MainHeaderWrap"),f=(0,s.up)("Footer"),g=(0,s.up)("collapse"),m=(0,s.up)("item"),y=(0,s.up)("wrapWithRadio"),v=(0,s.up)("item-scroll-wrap"),b=(0,s.up)("MainContent"),_=(0,s.up)("AppLayout");return(0,s.wg)(),(0,s.j4)(_,null,{header:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"user-i-d":e.userInfo.userId||""},{default:(0,s.w5)((({info:t})=>[(0,s.Wm)(a,{photoURL:t.photoURL||"",displayName:t.displayName||"",goPersonalInfo:e.userInfo.goPersonalInfo},null,8,["photoURL","displayName","goPersonalInfo"]),$p,e.enableNotifyPlugin?((0,s.wg)(),(0,s.iD)("div",Kp,[(0,s.Wm)(c)])):(0,s.kq)("",!0),(0,s._)("div",Yp,[(0,s._)("button",Zp,[(0,s.Wm)(l,{name:"more_horiz",onClick:e.controlHeaderOperation},null,8,["onClick"])])])])),_:1},8,["user-i-d"]),(0,s.Wm)(p)])),_:1})])),footer:(0,s.w5)((()=>[(0,s.Wm)(f)])),default:(0,s.w5)((()=>[(0,s.Wm)(b,{wrapClass:e.wrapClass},{default:(0,s.w5)((()=>[(0,s._)("div",Jp,[(0,s._)("div",Xp,[Qp,(0,s.Wm)(g,{duration:.1},{default:(0,s.w5)((()=>[e.isShowRadioOperation?((0,s.wg)(),(0,s.iD)("div",ed,[(0,s._)("button",{class:"mr-2 text-xs border py-1 px-4 rounded-md",onClick:t[0]||(t[0]=(...t)=>e.cancelRadioOperation&&e.cancelRadioOperation(...t))},"取消"),(0,s._)("button",{class:(0,h.C_)(["text-xs py-1 px-4 rounded-md",[e.confirmBtnClass]]),disabled:""===e.radioValue,onClick:t[1]||(t[1]=(...t)=>e.showConfirm&&e.showConfirm(...t))},(0,h.zw)(e.operationBtnText),11,td)])):(0,s.kq)("",!0)])),_:1},8,["duration"])]),nd,(0,s._)("div",od,[(0,s.Wm)(v,{ref:e.matchRef,onScroll:t[3]||(t[3]=t=>e.containerProps.onScroll())},{default:(0,s.w5)((()=>[(0,s._)("div",(0,h.vs)((0,s.F4)(e.wrapperProps)),[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.vShowRooms,(({data:n,index:o})=>((0,s.wg)(),(0,s.j4)(y,{key:`${n.room_id}_${o}`,isShowRadio:e.isShowRadio,modelValue:e.radioValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.radioValue=t),forTag:`radio-${n.room_id}`,radioValue:n.room_id},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"w-full",index:o,roomId:n.room_id,uid:e.userStore.userMap.value.get(n.members[0])?.uid||"",roomType:n.type,displayName:e.userStore.userMap.value.get(n.members[0])?.displayName||"",time:e.formatTime(n.LastActiveTime),members:n.members,avatarUrl:e.userStore.userMap.value.get(n.members[0])?.photoURL||"",recentMsg:n.LastMessage.lastMessage,notReadCount:n.RoomAllCount-n.ReadCount,active:!1,onClick:t=>(e.toRoom(n.room_id),e.saveIndex(o))},null,8,["index","roomId","uid","roomType","displayName","time","members","avatarUrl","recentMsg","notReadCount","onClick"])])),_:2},1032,["isShowRadio","modelValue","forTag","radioValue"])))),128))],16)])),_:1},512)])])])),_:1},8,["wrapClass"])])),_:1})}var id=(0,s.aZ)({name:"OfficialTalkGroups",components:{ItemScrollWrap:$["default"],FontIcon:F.Z,useAvatarHeader:G,NotifySwitch:Yn,Item:ho,UserData:Y,TalkGroupsOperation:xo,Collapse:tn.Z,WrapWithRadio:kn,...q.components},data:()=>({...q.data}),setup(){const{isShowRadio:e,radioValue:t,isShowRadioOperation:n,showRadioBtn:o,cancelRadioOperation:r,operationBtnText:i,showConfirm:a,confirmBtnClass:l,controlHeaderOperation:u,openHeaderOperation:p}=Oo();(0,s.JJ)(le.OPEN_HEADER_OPERATION,p),(0,s.JJ)(le.CONTROL_HEADER_OPERATION,u),(0,s.JJ)(le.SHOW_RADIO_BUTTON,o);const d=(0,s.Fl)((()=>{const e=K.userState.value?.uid;return{userId:e,goPersonalInfo:()=>(0,U.aB)(e)}})),h=(0,s.Fl)((()=>Array.from(He.value,(([,e])=>e)).filter((e=>e.needToShow)).sort(((e,t)=>t.LastActiveTime-e.LastActiveTime)))),{list:f,containerProps:g,wrapperProps:m,scrollTo:y}=(0,c.XdG)(h,{itemHeight:60,overscan:5}),v=e=>{e&&(e.emitter.on(e.eventMap.NEED_LOAD_DATA,(()=>{dt()})),g.ref.value=e.$el)},b=e=>le.TimeFormatDistance(e),_=t=>{e.value||(ot(t),(0,U.p)("TalkingRoom",{roomID:t}))},w=e=>{Ge.value=e};return(0,s.bv)((()=>{Ge.value>1&&setTimeout((()=>{y(Ge.value),Ge.value=0}),0)})),{operationBtnText:i,isShowRadio:e,isShowRadioOperation:n,cancelRadioOperation:r,controlHeaderOperation:u,userStore:K,rooms:h,vShowRooms:f,containerProps:g,wrapperProps:m,matchRef:v,userInfo:d,formatTime:b,toRoom:_,radioValue:t,showConfirm:a,confirmBtnClass:l,enableNotifyPlugin:Ee,saveIndex:w}}});const sd=(0,C.Z)(id,[["render",rd]]);var ad=sd;const cd=e=>((0,s.dD)("data-v-76c83bfb"),e=e(),(0,s.Cn)(),e),ld={class:"text-contentText px-4 py-3.5 pl-2 pr-14 border-b border-mainBodColor bg-bgDark min-h-[3.5em]"},ud={class:"flex items-center"},pd={class:"flex"},dd={class:"ml-1 flex justify-center"},hd={class:"displayname ml-2"},fd={class:"text-sm text-left font-medium"},gd=["src"],md=cd((()=>(0,s._)("div",{class:"flex-grow"},null,-1))),yd={class:"flex space-x-3"},vd={class:"relative flex flex-col friend-lists flex-grow text-white bg-bgDark overflow-hidden"},bd={class:"absolute bottom-0 w-full text-center py-1 text-xs bg-bgLight text-bgDark z-[1] opacity-80"},_d=["data-stickyId"],wd={class:"rounded-md text-center inline-block relative timestamp py-[2px] px-[10px]"},Td=["src"],xd={key:1,class:"w-full text-center p-1 text-sm bg-red-600 opacity-70"};function Sd(e,t,n,o,r,i){const c=(0,s.up)("FontIcon"),l=(0,s.up)("avatar"),u=(0,s.up)("isOfficial"),p=(0,s.up)("user-data"),d=(0,s.up)("not-friend-modal"),f=(0,s.up)("is-friend"),g=(0,s.up)("MessageSendList"),m=(0,s.up)("Linkify"),y=(0,s.up)("MainContent"),v=((0,s.up)("LinkPreview"),(0,s.up)("LoadingIcon")),b=(0,s.up)("transfer-bubble"),_=(0,s.up)("tidy-black-bubble"),w=(0,s.up)("message-bubble"),T=(0,s.up)("VisibleObserver"),x=(0,s.up)("item-scroll-wrap"),S=(0,s.up)("Reply"),E=(0,s.up)("QuickReplaySlider"),k=(0,s.up)("AppLayout"),I=(0,s.Q2)("sticky");return(0,s.wg)(),(0,s.j4)(k,null,{header:(0,s.w5)((()=>[(0,s._)("div",ld,[(0,s._)("div",ud,[(0,s.Wm)(p,{"user-i-d":e.roomInfo.members[0]||""},{default:(0,s.w5)((({info:n})=>[(0,s._)("div",pd,[(0,s._)("button",{class:"focus:outline-none flex",onClick:t[0]||(t[0]=(...t)=>e.backPage&&e.backPage(...t))},[(0,s.Wm)(c,{class:"text-3xl leading-6",name:"chevron_left"})])]),(0,s._)("div",dd,[(0,s.Wm)(l,{url:n.photoURL,onClick:t[1]||(t[1]=t=>e.goPersonalInfo(e.roomInfo.members[0]))},null,8,["url"])]),(0,s._)("div",hd,[(0,s._)("p",fd,[(0,s.Uk)((0,h.zw)(n.displayName)+" ",1),(0,s.Wm)(u,{"user-id":n.uid||""},{default:(0,s.w5)((({isOfficial:t})=>[t.value?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"ml-1 inline-block mb-[1px]",src:`${e.gcpImStoragePath}/static/images/official_account_icon.png`,width:"16",height:"16"},null,8,gd)):(0,s.kq)("",!0)])),_:2},1032,["user-id"])])]),md,(0,s._)("div",yd,[(0,s._)("button",{class:"focus:outline-none",onClick:t[2]||(t[2]=(...t)=>e.goRoomInfo&&e.goRoomInfo(...t))},[(0,s.Wm)(c,{name:"menu"})])])])),_:1},8,["user-i-d"])])]),(0,s.Wm)(f,{"friend-id":e.roomInfo.members[0]||""},{default:(0,s.w5)((({isFriend:t,status:n,friendNumberId:o,friendHashId:r})=>[t?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{key:0,initStatus:n,friendHashId:r,friendNumberId:o,scrollToBottom:e.scrollIWrap?.scrollToBottom},null,8,["initStatus","friendHashId","friendNumberId","scrollToBottom"]))])),_:1},8,["friend-id"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(g,{roomID:e.roomID,reply:e.replyMsg,isOfficial:!0,onSendMessage:e.sendMessage,onSendSuccess:e.clearReplyMsg,onFileUploadError:e.handleFileUploadError},null,8,["roomID","reply","onSendMessage","onSendSuccess","onFileUploadError"])])),default:(0,s.w5)((()=>[(0,s.Wm)(y,{wrapClass:e.wrapClass,id:e.talkingRoomID,class:"relative"},{default:(0,s.w5)((()=>[(0,s._)("div",vd,[(0,s.wy)((0,s._)("div",bd,"讀取中...",512),[[a.F8,e.isLoadData]]),(0,s.Wm)(x,{ref:"scrollIWrap",loadPosation:"top","load-data-distance-px":100,class:"flex p-3",style:(0,h.j5)(e.scrollWrapStyle)},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{showRatio:1},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.groupMessages,((n,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o,class:"flex flex-col"},[(0,s.wy)((0,s._)("div",{class:"h-[1px]","data-stickyId":e.getTimestamp(n[0].Created)},null,8,_d),[[I,e.stickyOberver]]),n.length>0?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,h.C_)(["text-center mt-3 text-sm sticky z-75 my-transition",[e.hasAnnouceData?"top-4":"top-0"]])},[(0,s._)("span",wd,(0,h.zw)(e.getTimestamp(n[0].Created)),1)],2)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n,((o,r)=>((0,s.wg)(),(0,s.j4)(w,{key:`${r}-${o.id}`,class:(0,h.C_)([0===r?"mt-3":""]),messageId:o.id,isTidyBlackType:o.isTidyBlackType,isDynamicContent:o.isAnnouncementType,isMe:o.isMe(e.userID),status:o.Status,time:o.createTime,isMsgProcess:o.Process,hasActions:o.isTextType,nextIsMe:e.hasNextMessage(n,o.SenderID,r+1),avatarUrl:e.userStore.userMap.value.get(o?.SenderID)?.photoURL||"",reply:o?.ReplyTo?.id,imageAll:o.ImageAll,notPadding:o.hasImages||!o.isAnnouncementType&&!o.isTextType,responseStatus:o.responseStatus,isOfficial:!0,onTakeBackMessage:e.callTakeBackMessage,onReplyMessage:e.callReplyMessage,onCreateQuickReply:e.createQuickReply,onGoPersonalInfo:e.goPersonalInfo,onScrollToMessage:e.scrollToEle,onResendMessage:e.resendMessage,onScrollAddPx:t[3]||(t[3]=t=>e.scrollIWrap&&e.scrollIWrap.posYaddPx(t))},(0,s.Nv)({messages:(0,s.w5)((()=>[o.isTextType||o.isAnnouncementType?((0,s.wg)(),(0,s.j4)(y,{key:0,wrapClass:"whitespace-pre-wrap leading-5 max-w-[11em] "},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{messageText:o.Text},null,8,["messageText"])])),_:2},1024)):(0,s.kq)("",!0)])),images:(0,s.w5)((()=>[o.Process?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(o.ImageAll,(t=>((0,s.wg)(),(0,s.iD)("img",{key:t,src:`${e.imageUrlPrefix}/${e.replaceImgUrl(t)}`,"data-action":"zoom",class:"max-w-[10rem]"},null,8,Td)))),128)):((0,s.wg)(),(0,s.j4)(v,{key:0,scale:.35,bgColor:e.userID===o?.SenderID?"#242424":"#fff"},null,8,["scale","bgColor"]))])),transfer:(0,s.w5)((()=>[o.isTransferType?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,h.j5)(e.transferBubbleSkelton(o.isMe(e.userID))),class:"bg-bgDark"},[o.isTransferType?((0,s.wg)(),(0,s.j4)(p,{key:0,"user-i-d":o.otherUserId(e.userID)},{default:(0,s.w5)((({info:t})=>[(0,s.Wm)(b,{transferData:o,isMe:o.isMe(e.userID),avatar:t.photoURL,toDisplayName:t.displayName},null,8,["transferData","isMe","avatar","toDisplayName"])])),_:2},1032,["user-i-d"])):(0,s.kq)("",!0)],4)):(0,s.kq)("",!0)])),public:(0,s.w5)((()=>[o.isTidyBlackType?((0,s.wg)(),(0,s.j4)(_,{key:0,publicData:o,text:o.PubText,action:o.PubAction},null,8,["publicData","text","action"])):(0,s.kq)("",!0)])),_:2},[void 0]),1032,["class","messageId","isTidyBlackType","isDynamicContent","isMe","status","time","isMsgProcess","hasActions","nextIsMe","avatarUrl","reply","imageAll","notPadding","responseStatus","onTakeBackMessage","onReplyMessage","onCreateQuickReply","onGoPersonalInfo","onScrollToMessage","onResendMessage"])))),128))])))),128))])),_:1})])),_:1},8,["style"]),null!==e.replyMsg?((0,s.wg)(),(0,s.j4)(S,{key:0,msgInfo:e.replyMsg,onClear:e.clearReplyMsg},null,8,["msgInfo","onClear"])):(0,s.kq)("",!0),e.isShowError?((0,s.wg)(),(0,s.iD)("div",xd,"上傳檔案過大(不可超過 30 MB)")):(0,s.kq)("",!0),(0,s.Wm)(E,{reload:e.quickReplayReload,"onUpdate:reload":t[4]||(t[4]=t=>e.quickReplayReload=t)},null,8,["reload"])])])),_:1},8,["wrapClass","id"])])),_:1})}const Ed=["onClick"];function kd(e,t,n,o,r,i){return e.items.length>0?((0,s.wg)(),(0,s.iD)("div",{key:0,ref:"wrapDom",class:"quickReplayWrap py-2 px-1 overflow-x-auto sm:overflow-hidden space-x-2 whitespace-nowrap",onMousedown:t[0]||(t[0]=(...t)=>e.onMouseDown&&e.onMouseDown(...t)),onMouseup:t[1]||(t[1]=(...t)=>e.onMouseUp&&e.onMouseUp(...t)),onWheel:t[2]||(t[2]=(0,a.iM)(((...t)=>e.onWheel&&e.onWheel(...t)),["prevent"])),style:(0,h.j5)(e.isMobile?{}:{cursor:e.isDragging?"grabbing":"grab"})},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.items,((t,n)=>((0,s.wg)(),(0,s.iD)("button",{class:"inline-block text-sm border py-1 px-3 rounded-full sm:hover:bg-gray-600 active:bg-gray-600",key:n,onClick:n=>e.pasteToMessageSendList(t.message)},(0,h.zw)(t.title),9,Ed)))),128))],36)):(0,s.kq)("",!0)}var Id=__webpack_require__(4722),Ad=__webpack_require__(8296),Rd=(0,s.aZ)({name:"QuickReplaySlider",props:{reload:{type:Boolean,default:()=>!1}},emits:["update:reload"],setup(e,{emit:t}){const n=(0,i.iH)(null),o=(0,i.qj)([0,0]),{isMobile:r}=Gn(),a=(0,i.iH)(!1),l=(0,c.NCN)(e,"reload",t);(0,s.YP)(l,(e=>{!0===e&&((0,Ad.z9)(),l.value=!1)}));const u=e=>{window.$IM_EVENT.emit(window.$IM_EVENT_MAP.PASS_QUICK_REPLY,e)},p=e=>{e.preventDefault(),requestAnimationFrame((()=>{const t=[e.pageX-o[0],e.pageY-o[1]];o[0]=e.pageX,o[1]=e.pageY,n.value&&n.value.scrollBy({left:-t[0]})}))},d=e=>{o[0]=e.pageX,o[1]=e.pageY,a.value=!0,window.addEventListener("mousemove",p)},h=()=>{a.value=!1,window.removeEventListener("mousemove",p)},f=e=>{requestAnimationFrame((()=>{const t=[e.deltaX,e.deltaY];n.value&&n.value.scrollBy({left:t[0]+-t[1]})}))};return(0,s.wF)((()=>{(0,Id.S1)(K.userState.value?.uid,K.panToken.value),(0,Ad.z9)(),(0,c.ORN)(window,"mouseup",h)})),{wrapDom:n,isMobile:r,isDragging:a,items:Id.g1.data,pasteToMessageSendList:u,onMouseDown:d,onMouseUp:h,onWheel:f}}});const Od=(0,C.Z)(Rd,[["render",kd],["__scopeId","data-v-cd35fd42"]]);var Cd=Od,jd=__webpack_require__(3336),Nd=(0,s.aZ)({name:"TalkingRoom",components:{FontIcon:F.Z,MessageBubble:Si,ItemScrollWrap:$["default"],MessageSendList:Us,VisibleObserver:V,QuickReplaySlider:Cd,Reply:Ks,Linkify:na,LinkPreview:$a,NotFriendModal:oc,isFriend:jc,Avatar:z.Z,LoadingIcon:Xs,TransferBubble:xc,TidyBlackBubble:Cc,isOfficial:ae,UserData:Y,...q.components},directives:{sticky:{mounted(e,t){const n=t.value;n.observe(e)}}},data:()=>({...q.data}),setup(){const e=(0,i.iH)(!1),t=(0,i.iH)(!1),{openModal:n}=(0,Bt.d)("im-app-main"),o=e=>{t.value=e};(0,s.JJ)(le.OPEN_TALKINGROOM_FOOTER,o),(0,s.JJ)(le.OPEN_TALKINGROOM_FOOTER_VALUE,(0,i.OT)(t));const r=(0,i.iH)(null),a=(0,i.iH)(!0),l=(0,i.iH)(!1);let u=(0,i.iH)(null),p=(0,i.iH)(null),d=new Map;const{userState:h}=K,f=(0,i.iH)(!1),g=(0,i.iH)(30),m=h.value?.uid;let y,v,b,_=(0,i.qj)([]);const w=(0,i.iH)(!0),{createMessage:T,transferBubbleSkelton:x,scrollWrapStyle:E,hasNextMessage:k,replaceImgUrl:I,API_TIMEOUT:A,imageUrlPrefix:R,goRoomInfo:O,roomID:C,talkingRoomID:j,roomInfo:N,backFriend:P,goPersonalInfo:D,getTalkingRoomScrollWrapElement:M}=Gc(),{createRoomAnnounce:L}=Tl(j.value),{getTimestamp:F,getStartOfDay:B}=Sl(),H=(e="")=>!!e&&e.match(le.urlPattern),W=(0,s.Fl)((()=>{const e=[];let t=[],n=_.length>0?B(_[0].Created).getTime():0;for(let o=0;o<_.length;o++){const r=_[o];let i=B(r.Created).getTime();i!==n&&(n=i,e.push(t),t=[]),t.push(r)}return t.length>0&&(e.push(t),t=[]),e})),q=(0,S.B_)(a,(e=>{e&&d.forEach((e=>{e.classList.contains("isFix")||e.classList.add("isMoving")}))}),{debounce:350}),V=({id:e},{...t})=>{const n=_.findIndex((t=>t.id===e));return Object.assign(_[n],{..._[n],...t}),_c.hu.instanceOf(_[n],Qs.xv,"find and update message function should return Message class"),[_[n],n]},z=async e=>{const t=le.uuid4();let n;try{ta.co.logSendMessage(m),_.push(new Qs.xv({Type:ea.Cs.Text,id:t,AllowRead:[],SenderID:m,Status:Jo.N.OK,Process:!(e.imageAll&&e.imageAll.length>0),Text:e.message||"",ImageAll:e.imageAll||[],VideoAll:e.videoAll||[],ReplyTo:e.replyTo||null,Created:(new Date).getTime(),Modified:(new Date).getTime(),responseStatus:"OK"})),await(0,s.Y3)(),r.value?.scrollToBottom(),n=(0,S.eM)((()=>{V({id:t},{responseStatus:"LOADING"})}),A).stop,X();const o=await be.v0.sendMessageToRoom(e),i=o.getMessageId();V({id:t},{id:i,responseStatus:"OK"})}catch(ou){V({id:t},{responseStatus:"ERROR"}),console.error(ou)}finally{n()}},G=async e=>{try{const[t,n]=V({id:e},{responseStatus:"ERROR_RESEND"}),o=await be.v0.sendMessageToRoom({room_id:C.value,message:t?.Text,imageAll:[],replyTo:t?.ReplyTo||void 0,markRead:!0}),a=o.getMessageId();V({id:e},{id:a,responseStatus:"OK"});const c=(0,i.SU)(_.splice(n,1));_.push(...c),await(0,s.Y3)(),r.value?.scrollToBottom()}catch(ou){V({id:e},{responseStatus:"ERROR"})}},$=e=>{const t=(0,c.NXq)(r),n=t.querySelector(`#TEXT-${e}`);n&&r.value?.scrollToEle(n)},Y=async e=>{try{await(0,zi.B2)(C.value,e)}catch(ou){console.error(ou)}},Z=async t=>{const[o]=V({id:t},{});o&&n("confirmWithTextModal",{title:"請輸入標題（選填）",buttonText:"儲存",defaultTextValue:"",confirmFunction:async t=>{try{await jd.vz({title:t,message:o.Text}),e.value=!0,n("alertModal",{message:"創建成功",icon:"success"})}catch(ou){if(1002===ou?.code)return void n("alertModal",{message:"超出次數上限",icon:"danger"});if(1003===ou?.code)return void n("alertModal",{message:"快速回訊已達上限，無法創建",icon:"danger"});n("alertModal",{message:"創建失敗",icon:"danger"})}}})},J=e=>{const[t]=V({id:e},{});t&&(u.value=(0,i.qj)(t))},X=()=>{u.value=null},Q=()=>{l.value=!0,(0,S.eM)((()=>{l.value=!1}),3e3)},ee=async()=>{f.value=!0;const e=15;if(null!==p.value)try{const t=Ke(C.value),n=await(0,we.PL)((0,we.IO)(be.v0.getMessageAll(C.value,m),(0,we.TQ)(p.value),(0,we.Lx)(t.deleteRoomTime),(0,we.b9)(e)));if(n.empty)p.value=null;else{n.size>=e?p.value=n.docs[n.docs.length-1]:p.value=null;const t=[];n.docChanges().forEach((async e=>{if("added"===e.type){const n=e.doc,o=await T(n);t.unshift(o)}})),await(0,s.Y3)(),Object.assign(_,Object.freeze(t.concat(_)))}}catch(ou){console.error(ou)}f.value=!1},te=async()=>{if(!f.value)try{await ee(),null!==p.value&&void 0!==p.value&&r.value?.goToTop(130)}catch(ou){console.error(ou)}},ne=(0,s.YP)(r,(async()=>{r.value&&(r.value?.emitter.on(r.value?.eventMap.NEED_LOAD_DATA,te),ne())})),oe=async e=>{const t=Ke(C.value),n=await(0,we.PL)((0,we.IO)(be.v0.getMessageAll(C.value,m),(0,we.Lx)(t.deleteRoomTime),(0,we.b9)(e)));n.size>=e&&w.value&&(p.value=n.docs[n.docs.length-1]);const o=n.docChanges();for(let r=0;r<o.length;r++){const e=o[r],t=await T(e.doc);_.unshift(t)}await(0,s.Y3)(),r.value?.scrollToBottom(),w.value=!1},re=()=>(0,we.cf)(be.v0.getMessageAll(C.value,m),(async e=>{const t=e.docChanges();for(let n=0;n<t.length;n++){if(w.value)return;const e=t[n];let o=await T(e.doc);if(o.Type===ea.Cs.Trans&&(0,le.resolveStopPromise)(),"modified"===e.type){const e=_.findIndex((e=>e.id===o.id));e>=0&&Object.assign(_[e],o,{})}else if("added"===e.type){if(o.SenderID!==m||!o.isTextType)if(_[0].Created>o.Created){const e=le.binarySearch(_,o,((e,t)=>e.Created-t.Created));_.splice(e,0,o)}else _.push(o);await(0,s.Y3)(),r.value?.scrollToBottom()}}}));(0,s.wF)((()=>{try{const e=(0,Xo._o)(be.du.getRoomInfo(C.value),Xo.O5.MESSAGE_SHARD_ALL);y=(0,we.cf)(e,(()=>{try{Ro([C.value])}catch(ou){console.error(ou)}})),v=re(),oe(g.value)}catch(ou){console.error(ou)}}));const ie=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target.getAttribute("data-stickyId");let n=e.target.nextElementSibling;e.intersectionRatio>.9?(d.delete(t),n.classList.add("isFix")):(d.set(t,n),n.classList.remove("isFix"))}))}),{threshold:[0,1]}),se=(0,S.DI)((()=>{a.value=!1,d.forEach((e=>{e.classList.contains("isFix")||e.classList.remove("isMoving")}))}),300),ae=()=>{a.value=!0,se()};return(0,s.bv)((()=>{const e=L();b=e.closeRoomAnnounce,M(j.value)?.addEventListener("scroll",ae),window.$IM_EVENT.on(window.$IM_EVENT_MAP.TALKING_ROOM_SCROLL_TO_BOTTOM,(()=>{r.value?.scrollToBottom()}))})),(0,s.Jd)((()=>{ie&&ie.disconnect(),b&&b(),M(j.value)?.removeEventListener("scroll",ae),q(),u.value=null,r.value=null,p.value=null,_.splice(0),y&&(y(),y=null),v&&(v(),v=null),window.$IM_EVENT.off(window.$IM_EVENT_MAP.TALKING_ROOM_SCROLL_TO_BOTTOM)})),{quickReplayReload:e,imageUrlPrefix:R,replyMsg:u,isLoadData:f,scrollIWrap:r,roomInfo:N,roomID:C,userID:m,isShowError:l,utils:le,messages:_,userStore:K,hasUrl:H,goPersonalInfo:D,hasNextMessage:k,replaceImgUrl:I,callTakeBackMessage:Y,callReplyMessage:J,sendMessage:z,clearReplyMsg:X,handleFileUploadError:Q,goRoomInfo:O,backFriend:P,backPage:U._u,scrollToEle:$,resendMessage:G,talkingRoomID:j,getTimestamp:F,lastVisible:p,transferBubbleSkelton:x,scrollWrapStyle:E,groupMessages:W,hasAnnouceData:Lc,stickyOberver:ie,gcpImStoragePath:(0,le.getConfig)().GCP_IM_STORAGE_URL,createQuickReply:Z}}});const Pd=(0,C.Z)(Nd,[["render",Sd],["__scopeId","data-v-76c83bfb"]]);var Dd=Pd;const Md=e=>((0,s.dD)("data-v-85391d22"),e=e(),(0,s.Cn)(),e),Ld={class:"flex p-4 pr-14 text-sm"},Ud=Md((()=>(0,s._)("div",{class:"flex-grow"},null,-1))),Fd={class:"flex flex-col space-y-1"},Bd=Md((()=>(0,s._)("span",{class:"flex"},"檢舉回報",-1))),Hd={key:0,class:"flex flex-col bg-white h-[80%] text-black p-9"},Wd=Md((()=>(0,s._)("div",{class:"flex justify-center mb-8"},"檢舉回報",-1))),qd={class:"space-y-5 mb-4"},Vd={class:"flex content-center cursor-pointer"},zd={class:"inline-flex justify-center items-center w-7 h-7 border rounded-full border-mainBodColor"},Gd={class:"w-4 h-4 rounded-full bg-mainGreen"},$d={class:"inline-flex items-center ml-2 text-[#3c3c3c]"},Kd=Md((()=>(0,s._)("p",{class:"flex text-xs text-skeletonMainColor"},"平台收到回報將會排程處理。",-1))),Yd=Md((()=>(0,s._)("div",{class:"flex-grow"},null,-1))),Zd={class:"flex flex-col text-center bg-bgDark h-[73%] rounded-t-[2.5em] space-y-3"},Jd={class:"text-white text-sm font-black"},Xd=["href"],Qd=Md((()=>(0,s._)("div",{class:"flex-grow"},null,-1)));function eh(e,t,n,o,r,i){const c=(0,s.up)("FontIcon"),l=(0,s.up)("PopoverButton"),u=(0,s.up)("PopoverPanel"),p=(0,s.up)("Popover"),d=(0,s.up)("RadioGroupLabel"),f=(0,s.up)("RadioGroupOption"),g=(0,s.up)("RadioGroup"),m=(0,s.up)("MainContent"),y=(0,s.up)("AppLayout");return(0,s.wg)(),(0,s.j4)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{wrapClass:e.wrapClass},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"page-wrap flex flex-col flex-grow bg-bgLight justify-between bg-top bg-no-repeat bg-contain",style:(0,h.j5)({backgroundImage:"linear-gradient(to bottom, #c44bce, #4b67ce, #5050a0)"})},[(0,s._)("div",Ld,[(0,s._)("button",{onClick:t[0]||(t[0]=(...t)=>e.goBack&&e.goBack(...t))},[(0,s.Wm)(c,{name:"close"})]),Ud,(0,s._)("div",null,[(0,s.Wm)(p,{class:"relative"},{default:(0,s.w5)((({open:n})=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s._)("button",{class:(0,h.C_)(["flex justify-center w-7 h-7 text-primary bg-white p-1 rounded-full bg-opacity-75",{"opacity-50":n}])},[(0,s.Wm)(c,{class:"self-center",name:"more_horiz"})],2)])),_:2},1024),(0,s.Wm)(u,{class:"absolute z-20 right-0 mt-4"},{default:(0,s.w5)((()=>[(0,s._)("div",Fd,[e.isMe?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("a",{key:0,href:"#",class:"flex whitespace-nowrap bg-black px-3 py-1.5 rounded space-x-2",onClick:t[1]||(t[1]=(0,a.iM)((t=>e.isOpenReportAbused=!e.isOpenReportAbused),["prevent"]))},[Bd,(0,s.Uk)(),(0,s.Wm)(c,{class:"flex text-lg leading-5",name:"notifications"})]))])])),_:1})])),_:1})])]),e.isOpenReportAbused?((0,s.wg)(),(0,s.iD)("div",Hd,[Wd,(0,s.Wm)(g,{modelValue:e.reportAbusedReasonSelected,"onUpdate:modelValue":t[2]||(t[2]=t=>e.reportAbusedReasonSelected=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"sr-only"},{default:(0,s.w5)((()=>[(0,s.Uk)("檢舉原因")])),_:1}),(0,s._)("div",qd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.reportAbusedReasonOptions,(e=>((0,s.wg)(),(0,s.j4)(f,{as:"template",key:e.name,value:e},{default:(0,s.w5)((({checked:t})=>[(0,s._)("div",Vd,[(0,s._)("span",zd,[(0,s.wy)((0,s._)("span",Gd,null,512),[[a.F8,t]])]),(0,s.Uk)(),(0,s._)("span",$d,(0,h.zw)(e.name),1)])])),_:2},1032,["value"])))),128))])])),_:1},8,["modelValue"]),"OTHER"===e.reportAbusedReasonSelected.value?(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:0,class:"resize-none border rounded-md mb-4 p-1","onUpdate:modelValue":t[3]||(t[3]=t=>e.abusedReason=t),rows:"4"},null,512)),[[a.nr,e.abusedReason]]):(0,s.kq)("",!0),Kd,Yd,(0,s._)("button",{type:"button",class:"flex justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white submit-btn focus:outline-none",onClick:t[4]||(t[4]=(...t)=>e.callReportAbusedUser&&e.callReportAbusedUser(...t))},"確定並送出")])):(0,s.kq)("",!0),(0,s.wy)((0,s._)("div",Zd,[(0,s._)("div",{class:"avatar self-center w-[6em] h-[6em] mt-[-3em] rounded-full bg-center bg-no-repeat bg-contain",style:(0,h.j5)({backgroundImage:`url('${e.imgUrl}')`})},null,4),(0,s._)("div",Jd,(0,h.zw)(e.getDisplayName),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.spaceLinks,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"flex flex-col px-8",key:t},[(0,s._)("a",{class:"flex border-2 py-2 rounded-full items-center justify-center space-x-3 text-sm",target:"_blank",href:e.link},[(0,s._)("div",{class:(0,h.C_)(["bg-cover w-7 h-7 bg-gray-200 rounded",[e.logoClass]])},null,2),(0,s.Uk)(),(0,s._)("span",null,(0,h.zw)(e.text),1)],8,Xd)])))),128)),Qd,(0,s.kq)("",!0)],512),[[a.F8,!e.isOpenReportAbused]])],4)])),_:1},8,["wrapClass"])])),_:1})}var th=(0,s.aZ)({name:"PersonalInfo",components:{FontIcon:F.Z,Popover:qu,PopoverButton:Vu,PopoverPanel:zu,RadioGroup:cp,RadioGroupLabel:pp,RadioGroupOption:up,...q.components},data:()=>({...q.data}),setup(){const e=(0,i.qj)(Ve),t=(0,i.iH)(""),n=(0,i.iH)(Ps.personalID.value),o=[{name:"垃圾/廣告帳號",value:"AD_ACCOUNT"},{name:"其他原因",value:"OTHER"}],r=(0,i.iH)(o[0]),a=Ps.isMe.value,c=(0,i.iH)(!1),{load:l,imgUrl:u}=ce("",le.FAKE_AVATAR),p=(0,i.iH)(""),d=(0,i.qj)([{logoClass:"jkf-icon",text:"JKF 個人主頁",link:`https://www.jkforum.net/home.php?mod=space&uid=${K.getUserInfo.value(Ps.personalID.value)?.numberId}`}]),h=async()=>{const e="OTHER"===r.value.value?t.value:"";try{await be.n5.ReportAbusedUser(n.value,e),r.value=o[0],c.value=!1}catch(ou){console.log(ou)}};return(0,s.wF)((async()=>{const e=await Ps.getPersonalInfo(),{displayName:t,avatarImageUrl:n}=e.toObject();l(n),p.value=t})),{imgUrl:u,abusedReason:t,reportAbusedReasonSelected:r,reportAbusedReasonOptions:o,roomInfo:e,goBack:U._u,callReportAbusedUser:h,isOpenReportAbused:c,getDisplayName:p,spaceLinks:d,isMe:a}}});const nh=(0,C.Z)(th,[["render",eh],["__scopeId","data-v-85391d22"]]);var oh=nh;const rh=e=>((0,s.dD)("data-v-7556f50e"),e=e(),(0,s.Cn)(),e),ih={class:"flex text-contentText p-4 pl-2 border-b border-mainBodColor bg-bgDark"},sh={class:"flex"},ah={class:"flex-grow displayname ml-2 text-center"},ch={class:"inline-block text-sm text-left font-medium -ml-8"},lh={class:"btn-wrap w-full grid grid-cols-4 grid-rows-1 border-b border-mainBodColor place-content-start h-[5em]"},uh=rh((()=>(0,s._)("span",{class:"text-sm"},"解除封鎖",-1))),ph=rh((()=>(0,s._)("span",{class:"text-sm"},"封鎖",-1))),dh=rh((()=>(0,s._)("span",{class:"text-sm"},"開啟通知",-1))),hh=rh((()=>(0,s._)("span",{class:"text-sm"},"關閉通知",-1))),fh=rh((()=>(0,s._)("div",{class:"flex p-6 bg-bgDark items-center text-white border-t border-mainBodColor space-x-2 cursor-pointer text-sm"},[(0,s._)("div",{class:"flex-grow"})],-1)));function gh(e,t,n,o,r,i){const a=(0,s.up)("FontIcon"),c=(0,s.up)("MainContent"),l=(0,s.up)("AppLayout");return(0,s.wg)(),(0,s.j4)(l,null,{header:(0,s.w5)((()=>[(0,s._)("div",ih,[(0,s._)("div",sh,[(0,s._)("button",{class:"focus:outline-none flex",onClick:t[0]||(t[0]=(...t)=>e.goBack&&e.goBack(...t))},[(0,s.Wm)(a,{class:"cursor-pointer text-3xl leading-6",name:"chevron_left"})])]),(0,s._)("div",ah,[(0,s._)("span",ch,(0,h.zw)(e.getDisplayName),1)])])])),footer:(0,s.w5)((()=>[fh])),default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"flex-col",wrapClass:e.wrapClass},{default:(0,s.w5)((()=>[(0,s._)("div",lh,[e.isBlack?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"flex flex-col text-center justify-center content-center cursor-pointer space-y-1",onClick:t[1]||(t[1]=(...t)=>e.callUnblackUser&&e.callUnblackUser(...t))},[(0,s.Wm)(a,{class:"self-center",name:"block"}),uh])):((0,s.wg)(),(0,s.iD)("div",{key:1,class:"flex flex-col text-center justify-center content-center cursor-pointer space-y-1",onClick:t[2]||(t[2]=(...t)=>e.callBlackUser&&e.callBlackUser(...t))},[(0,s.Wm)(a,{class:"self-center",name:"remove_circle"}),ph])),e.isUnNotify?((0,s.wg)(),(0,s.iD)("div",{key:2,class:"flex flex-col text-center justify-center content-center cursor-pointer space-y-1",onClick:t[3]||(t[3]=(...t)=>e.openNotifyRoom&&e.openNotifyRoom(...t))},[(0,s.Wm)(a,{class:"self-center",name:"notifications_off"}),dh])):((0,s.wg)(),(0,s.iD)("div",{key:3,class:"flex flex-col text-center justify-center content-center cursor-pointer space-y-1",onClick:t[4]||(t[4]=(...t)=>e.closeNotifyRoom&&e.closeNotifyRoom(...t))},[(0,s.Wm)(a,{class:"self-center",name:"notifications"}),hh]))])])),_:1},8,["wrapClass"])])),_:1})}var mh=(0,s.aZ)({name:"RoomInfo",components:{FontIcon:F.Z,...q.components},data:()=>({...q.data}),setup(){const e=(0,i.qj)(Ve),t=(0,i.iH)(e.members[0]),n=(0,s.Fl)((()=>K.getUserInfo.value(t.value)?.displayName||"")),o=(0,s.Fl)((()=>-1!==K.blackUids.indexOf(t.value))),r=(0,s.Fl)((()=>{const e=Be.value;return We.value.has(e)&&!1===We.value.get(e)})),a=async()=>{try{await be.n5.BlackUser(t.value),K.updateBlackUids([...K.blackUids,t.value])}catch(ou){console.log(ou)}},c=async()=>{try{await be.n5.UnblackUser(t.value),K.removeBlackUid(t.value)}catch(ou){console.log(ou)}},l=()=>{try{Se.qF(Be.value,K.loginedUserState.uid||"",!1).then((()=>{We.value.set(Be.value,!1)}))}catch(ou){console.log(ou)}},u=()=>{try{Se.qF(Be.value,K.loginedUserState.uid||"",!0).then((()=>{We.value.set(Be.value,!0)}))}catch(ou){console.log(ou)}},p=()=>U._u();return{roomInfo:e,userID:t,callBlackUser:a,callUnblackUser:c,goBack:p,closeNotifyRoom:l,openNotifyRoom:u,getDisplayName:n,isBlack:o,isUnNotify:r}}});const yh=(0,C.Z)(mh,[["render",gh],["__scopeId","data-v-7556f50e"]]);var vh=yh,bh=(0,s.aZ)({name:"DashboardWrap",components:{FriendLists:Cn,TalkGroups:No,TalkingRoom:Il,PersonalInfo:fp,RoomInfo:Rp,OfficialFriendLists:Gp,OfficialTalkGroups:ad,OfficialTalkingRoom:Dd,OfficialPersonalInfo:oh,OfficialRoomInfo:vh},setup(){return{routerName:U.DV}}});const _h=(0,C.Z)(bh,[["render",d],["__scopeId","data-v-6ff8159d"]]);var wh=_h;function Th(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function xh(){let e=[],t=[],n={enqueue(e){t.push(e)},addEventListener(e,t,o,r){return e.addEventListener(t,o,r),n.add((()=>e.removeEventListener(t,o,r)))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);n.add((()=>cancelAnimationFrame(t)))},nextFrame(...e){n.requestAnimationFrame((()=>{n.requestAnimationFrame(...e)}))},setTimeout(...e){let t=setTimeout(...e);n.add((()=>clearTimeout(t)))},add(t){e.push(t)},dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return n}function Sh(e,...t){e&&t.length>0&&e.classList.add(...t)}function Eh(e,...t){e&&t.length>0&&e.classList.remove(...t)}var kh=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(kh||{});function Ih(e,t){let n=xh();if(!e)return n.dispose;let{transitionDuration:o,transitionDelay:r}=getComputedStyle(e),[i,s]=[o,r].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));return 0!==i?n.setTimeout((()=>t("finished")),i+s):t("finished"),n.add((()=>t("cancelled"))),n.dispose}function Ah(e,t,n,o,r,i){let s=xh(),a=void 0!==i?Th(i):()=>{};return Eh(e,...r),Sh(e,...t,...n),s.nextFrame((()=>{Eh(e,...n),Sh(e,...o),s.add(Ih(e,(n=>(Eh(e,...o,...t),Sh(e,...r),a(n)))))})),s.add((()=>Eh(e,...t,...n,...o,...r))),s.add((()=>a("cancelled"))),s.dispose}function Rh(e=""){return e.split(" ").filter((e=>e.trim().length>1))}let Oh=Symbol("TransitionContext");var Ch=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ch||{});function jh(){return null!==(0,s.f3)(Oh,null)}function Nh(){let e=(0,s.f3)(Oh,null);if(null===e)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Ph(){let e=(0,s.f3)(Dh,null);if(null===e)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let Dh=Symbol("NestingContext");function Mh(e){return"children"in e?Mh(e.children):e.value.filter((({state:e})=>"visible"===e)).length>0}function Lh(e){let t=(0,i.iH)([]),n=(0,i.iH)(!1);function o(o,r=Yl.Hidden){let i=t.value.findIndex((({id:e})=>e===o));-1!==i&&($l(r,{[Yl.Unmount](){t.value.splice(i,1)},[Yl.Hidden](){t.value[i].state="hidden"}}),!Mh(t)&&n.value&&(null==e||e()))}function r(e){let n=t.value.find((({id:t})=>t===e));return n?"visible"!==n.state&&(n.state="visible"):t.value.push({id:e,state:"visible"}),()=>o(e,Yl.Unmount)}return(0,s.bv)((()=>n.value=!0)),(0,s.Ah)((()=>n.value=!1)),{children:t,register:r,unregister:o}}let Uh=Kl.RenderStrategy,Fh=(0,s.aZ)({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:o,expose:r}){if(!jh()&&xu())return()=>(0,s.h)(Hh,{...e,onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")},o);let a=(0,i.iH)(null),c=(0,i.iH)("visible"),l=(0,s.Fl)((()=>e.unmount?Yl.Unmount:Yl.Hidden));r({el:a,$el:a});let{show:u,appear:p}=Nh(),{register:d,unregister:h}=Ph(),f={value:!0},g=iu(),m={value:!1},y=Lh((()=>{m.value||(c.value="hidden",h(g),t("afterLeave"))}));(0,s.bv)((()=>{let e=d(g);(0,s.Ah)(e)})),(0,s.m0)((()=>{if(l.value===Yl.Hidden&&g){if(u&&"visible"!==c.value)return void(c.value="visible");$l(c.value,{["hidden"]:()=>h(g),["visible"]:()=>d(g)})}}));let v=Rh(e.enter),b=Rh(e.enterFrom),_=Rh(e.enterTo),w=Rh(e.entered),T=Rh(e.leave),x=Rh(e.leaveFrom),S=Rh(e.leaveTo);function E(e){let n=f.value&&!p.value,o=au(a);!o||!(o instanceof HTMLElement)||n||(m.value=!0,u.value&&t("beforeEnter"),u.value||t("beforeLeave"),e(u.value?Ah(o,v,b,_,w,(e=>{m.value=!1,e===kh.Finished&&t("afterEnter")})):Ah(o,T,x,S,w,(e=>{m.value=!1,e===kh.Finished&&(Mh(y)||(c.value="hidden",h(g),t("afterLeave")))}))))}return(0,s.bv)((()=>{(0,s.m0)((()=>{if("visible"===c.value){let e=au(a);if(e instanceof Comment&&""===e.data)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}}))})),(0,s.bv)((()=>{(0,s.YP)([u],((e,t,n)=>{E(n),f.value=!1}),{immediate:!0})})),(0,s.JJ)(Dh,y),Eu((0,s.Fl)((()=>$l(c.value,{["visible"]:Tu.Open,["hidden"]:Tu.Closed})))),()=>{let{appear:t,show:r,enter:i,enterFrom:s,enterTo:l,entered:u,leave:p,leaveFrom:d,leaveTo:h,...f}=e;return Zl({theirProps:f,ourProps:{ref:a},slot:{},slots:o,attrs:n,features:Uh,visible:"visible"===c.value,name:"TransitionChild"})}}}),Bh=Fh,Hh=(0,s.aZ)({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:o}){let r=Su(),a=(0,s.Fl)((()=>null===e.show&&null!==r?$l(r.value,{[Tu.Open]:!0,[Tu.Closed]:!1}):e.show));(0,s.m0)((()=>{if(![!0,!1].includes(a.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')}));let c=(0,i.iH)(a.value?"visible":"hidden"),l=Lh((()=>{c.value="hidden"})),u=(0,i.iH)(!0),p={show:a,appear:(0,s.Fl)((()=>e.appear||!u.value))};return(0,s.bv)((()=>{(0,s.m0)((()=>{u.value=!1,a.value?c.value="visible":Mh(l)||(c.value="hidden")}))})),(0,s.JJ)(Dh,l),(0,s.JJ)(Oh,p),()=>{let r=tu(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),i={unmount:e.unmount};return Zl({ourProps:{...i,as:"template"},theirProps:{},slot:{},slots:{...o,default:()=>[(0,s.h)(Bh,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...i,...r},o.default)]},attrs:{},features:Uh,visible:"visible"===c.value,name:"Transition"})}}}),Wh=!1;const qh=(0,le.detectDeviceOs)(navigator.userAgent,"Windows")||!(0,le.detectDeviceOs)(navigator.userAgent,"ios")&&!(0,le.detectDeviceOs)(navigator.userAgent,"Android");try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){Wh=!0}}))}catch(ou){console.log(ou)}const Vh=()=>{if(qh){const e=window.scrollX,t=window.scrollY;window.onscroll=()=>{window.scrollTo(e,t)}}else document.body.style.overflow="hidden"},zh=()=>{qh?window.onscroll=null:document.body.style.overflow="auto"};var Gh=__webpack_require__(4302);__webpack_require__(2348);const $h=e=>((0,s.dD)("data-v-1d0d7a3e"),e=e(),(0,s.Cn)(),e),Kh={id:"im-wrap",class:"flex"},Yh={id:"im-app-main",class:"main-wrap fixed top-0 bottom-0 right-0 left-0 z-1000 md:top-auto md:left-auto"},Zh={class:"flex relative im-app-router main-wrap transition-all transform justify-center items-center md:mr-6 md:mb-3"},Jh={style:{width:"20px",height:"20px"},viewBox:"0 0 24 24"},Xh=$h((()=>(0,s._)("path",{fill:"currentColor",d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},null,-1))),Qh=[Xh],ef={name:"AppEmptyPoint"};var tf=(0,s.aZ)({...ef,props:{plugins:{type:Array,require:!0},pan:{type:Object,default:()=>({open(){console.error("not has pan instance")}})},jpoint:{type:Object,default:()=>({open(){console.error("not has jpoint instance")}})}},setup(e){const t=e,n=(0,i.iH)(null),o=e=>t?.plugins?.includes(e)||!1,{pan:a,jpoint:l}=(0,i.BK)(t);(0,s.JJ)(le.CHECK_PLUGINS_LIST,o),(0,s.JJ)(le.PAN_INSTANCE,(0,s.Fl)((()=>a.value?a.value:{open(){console.error("not has pan instance")}}))),(0,s.JJ)(le.JPOINT_INSTANCE,(0,s.Fl)((()=>l.value?l.value:{open(){console.error("not has jpoint instance")}})));const u=(0,i.iH)(null),{isOutside:p}=(0,c.jYR)(u);let d;const{isSmallerMd:h}=Gn();function f(){let e=window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}window.visualViewport.addEventListener("resize",f);const g=(0,s.YP)((()=>K.loginedUserState.isOfficial),(e=>{e?(0,U.VA)("official"):(0,U.VA)("normal")})),m=e=>{setTimeout((()=>{const t=document.getElementById("im-app-main");t&&(t.style.zIndex=e.toString())}),0)},y=e=>{if((0,r.Lr)(void 0===e?!r.FJ.value:e),r.FJ.value)m((0,le.findMaxZindex)()),(0,U.Wj)(),h.value?Vh():d=(0,s.YP)(p,(e=>{e?zh():Vh()}));else{"function"==typeof d&&d(),zh();const e=setTimeout((()=>{(0,U.PV)(),clearTimeout(e)}),200)}},v=e=>{""===K.panToken.value&&""===K.firebaseToken.value&&Ds.$D.value||(y(e),f())};xe.N0.on(xe.YM.OPEN_IM_DIALOG,v),(0,s.bv)((()=>{o("NOTIFICATION")&&Ie()})),(0,s.Jd)((()=>{xe.N0.off(xe.YM.OPEN_IM_DIALOG,v),g()}));const b=async e=>{try{const t=await be.du.getRoom(e);y(!0),ot(t.getRoomId()),(0,U.p)("TalkingRoom",{roomID:t.getRoomId()}),f()}catch(ou){console.log(ou)}};return xe.N0.on(xe.YM.SEND_MESSAGE,(e=>{y(!1),(0,Gh.Q7)([e]).then((e=>{let t=e[0].getHashUid();t!==K.loginedUserState.uid&&(e.forEach((e=>{K.users.push((0,Gh.bG)(e))})),setTimeout((()=>{b(t)}),250))}))})),(e,t)=>((0,s.wg)(),(0,s.iD)("div",Kh,[(0,s.WI)(e.$slots,"button-area"),(0,s.Wm)((0,i.SU)(Hh),{show:(0,i.SU)(r.FJ),as:"template"},{default:(0,s.w5)((()=>[(0,s._)("div",Yh,[(0,s.Wm)((0,i.SU)(Fh),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 -bottom-44","enter-to":"opacity-100 -bottom-0",leave:"duration-200 ease-in","leave-from":"opacity-100 -bottom-0","leave-to":"opacity-0 -bottom-44"},{default:(0,s.w5)((()=>[(0,s._)("div",Zh,[(0,s._)("button",{ref_key:"eleRef",ref:n,class:"absolute opacity-40 rounded-md text-xs p-1 top-4 right-4 text-white bg-gray-600 z-100",onClick:t[0]||(t[0]=e=>y(!1))},[((0,s.wg)(),(0,s.iD)("svg",Jh,Qh))],512),(0,s.Wm)(wh,{ref_key:"targetDashboard",ref:u},null,512)])])),_:1})])])),_:1},8,["show"])]))}});const nf=(0,C.Z)(tf,[["__scopeId","data-v-1d0d7a3e"]]);var of=nf,rf=__webpack_require__(4070),sf=__webpack_require__(2396),af=__webpack_require__(8124),cf=__webpack_require__(7626),lf=__webpack_require__(5803);const uf="@firebase/database",pf="0.12.4";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df="";function hf(e){df=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,cf.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,cf.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,cf.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ff(t)}}catch(ou){}return new gf},yf=mf("localStorage"),vf=mf("sessionStorage"),bf=new lf.Yd("@firebase/database"),_f=function(){let e=1;return function(){return e++}}(),wf=function(e){const t=(0,cf.dS)(e),n=new cf.gQ;n.update(t);const o=n.digest();return cf.US.encodeByteArray(o)},Tf=function(...e){let t="";for(let n=0;n<e.length;n++){const o=e[n];Array.isArray(o)||o&&"object"===typeof o&&"number"===typeof o.length?t+=Tf.apply(null,o):t+="object"===typeof o?(0,cf.Pz)(o):o,t+=" "}return t};let xf=null,Sf=!0;const Ef=function(e,t){(0,cf.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(bf.logLevel=lf["in"].VERBOSE,xf=bf.log.bind(bf),t&&vf.set("logging_enabled",!0)):"function"===typeof e?xf=e:(xf=null,vf.remove("logging_enabled"))},kf=function(...e){if(!0===Sf&&(Sf=!1,null===xf&&!0===vf.get("logging_enabled")&&Ef(!0)),xf){const t=Tf.apply(null,e);xf(t)}},If=function(e){return function(...t){kf(e,...t)}},Af=function(...e){const t="FIREBASE INTERNAL ERROR: "+Tf(...e);bf.error(t)},Rf=function(...e){const t=`FIREBASE FATAL ERROR: ${Tf(...e)}`;throw bf.error(t),new Error(t)},Of=function(...e){const t="FIREBASE WARNING: "+Tf(...e);bf.warn(t)},Cf=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Of("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jf=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Nf=function(e){if((0,cf.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},Pf="[MIN_NAME]",Df="[MAX_NAME]",Mf=function(e,t){if(e===t)return 0;if(e===Pf||t===Df)return-1;if(t===Pf||e===Df)return 1;{const n=Kf(e),o=Kf(t);return null!==n?null!==o?n-o===0?e.length-t.length:n-o:-1:null!==o?1:e<t?-1:1}},Lf=function(e,t){return e===t?0:e<t?-1:1},Uf=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,cf.Pz)(t))},Ff=function(e){if("object"!==typeof e||null===e)return(0,cf.Pz)(e);const t=[];for(const o in e)t.push(o);t.sort();let n="{";for(let o=0;o<t.length;o++)0!==o&&(n+=","),n+=(0,cf.Pz)(t[o]),n+=":",n+=Ff(e[t[o]]);return n+="}",n},Bf=function(e,t){const n=e.length;if(n<=t)return[e];const o=[];for(let r=0;r<n;r+=t)r+t>n?o.push(e.substring(r,n)):o.push(e.substring(r,r+t));return o};function Hf(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Wf=function(e){(0,cf.hu)(!jf(e),"Invalid JSON number");const t=11,n=52,o=(1<<t-1)-1;let r,i,s,a,c;0===e?(i=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-o)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),o),i=a+o,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,s=Math.round(e/Math.pow(2,1-o-n))));const l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(i%2?1:0),i=Math.floor(i/2);l.push(r?1:0),l.reverse();const u=l.join("");let p="";for(c=0;c<64;c+=8){let e=parseInt(u.substr(c,8),2).toString(16);1===e.length&&(e="0"+e),p+=e}return p.toLowerCase()},qf=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},Vf=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};const zf=new RegExp("^-?(0*)\\d{1,10}$"),Gf=-2147483648,$f=2147483647,Kf=function(e){if(zf.test(e)){const t=Number(e);if(t>=Gf&&t<=$f)return t}return null},Yf=function(e){try{e()}catch(ou){setTimeout((()=>{const t=ou.stack||"";throw Of("Exception was thrown by user callback.",t),ou}),Math.floor(0))}},Zf=function(){const e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Jf=function(e,t){const n=setTimeout(e,t);return"object"===typeof n&&n["unref"]&&n["unref"](),n};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xf{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Of(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(kf("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Of(e)}}class eg{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}eg.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const tg="5",ng="v",og="s",rg="r",ig="f",sg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ag="ls",cg="p",lg="ac",ug="websocket",pg="long_polling";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dg{constructor(e,t,n,o,r=!1,i="",s=!1){this.secure=t,this.namespace=n,this.webSocketOnly=o,this.nodeAdmin=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yf.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function hg(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function fg(e,t,n){let o;if((0,cf.hu)("string"===typeof t,"typeof type must == string"),(0,cf.hu)("object"===typeof n,"typeof params must == object"),t===ug)o=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==pg)throw new Error("Unknown connection type: "+t);o=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}hg(e)&&(n["ns"]=e.namespace);const r=[];return Hf(n,((e,t)=>{r.push(e+"="+t)})),o+r.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,cf.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,cf.p$)(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg={},yg={};function vg(e){const t=e.toString();return mg[t]||(mg[t]=new gg),mg[t]}function bg(e,t){const n=e.toString();return yg[n]||(yg[n]=t()),yg[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){this.pendingResponses[e]=t;while(this.pendingResponses[this.currentResponseNum]){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Yf((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="start",Tg="close",xg="pLPCommand",Sg="pRTLPCB",Eg="id",kg="pw",Ig="ser",Ag="cb",Rg="seg",Og="ts",Cg="d",jg="dframe",Ng=1870,Pg=30,Dg=Ng-Pg,Mg=25e3,Lg=3e4;class Ug{constructor(e,t,n,o,r,i,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=o,this.authToken=r,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=If(e),this.stats_=vg(t),this.urlFn=e=>(this.appCheckToken&&(e[lg]=this.appCheckToken),fg(t,pg,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new _g(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(Lg)),Nf((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fg(((...e)=>{const[t,n,o,r,i]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===wg)this.id=n,this.password=o;else{if(t!==Tg)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[wg]="t",e[Ig]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e[Ag]=this.scriptTagHolder.uniqueCallbackIdentifier),e[ng]=tg,this.transportSessionId&&(e[og]=this.transportSessionId),this.lastSessionId&&(e[ag]=this.lastSessionId),this.applicationId&&(e[cg]=this.applicationId),this.appCheckToken&&(e[lg]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&sg.test(location.hostname)&&(e[rg]=ig);const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ug.forceAllow_=!0}static forceDisallow(){Ug.forceDisallow_=!0}static isAvailable(){return!(0,cf.Yr)()&&(!!Ug.forceAllow_||!Ug.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!qf()&&!Vf())}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,cf.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,cf.h$)(t),o=Bf(n,Dg);for(let r=0;r<o.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,cf.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={};n[jg]="t",n[Eg]=e,n[kg]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,cf.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Fg{constructor(e,t,n,o){if(this.onDisconnect=n,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,cf.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=_f(),window[xg+this.uniqueCallbackIdentifier]=e,window[Sg+this.uniqueCallbackIdentifier]=t,this.myIFrame=Fg.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){const e=document.domain;n='<script>document.domain="'+e+'";<\/script>'}const o="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(ou){kf("frame writing exception"),ou.stack&&kf(ou.stack),kf(ou)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{const t=e.contentWindow.document;t||kf("No IE domain setting required")}catch(ou){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Eg]=this.myID,e[kg]=this.myPW,e[Ig]=this.currentSerial;let t=this.urlFn(e),n="",o=0;while(this.pendingSegs.length>0){const e=this.pendingSegs[0];if(!(e.d.length+Pg+n.length<=Ng))break;{const e=this.pendingSegs.shift();n=n+"&"+Rg+o+"="+e.seg+"&"+Og+o+"="+e.ts+"&"+Cg+o+"="+e.d,o++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(n,Math.floor(Mg)),r=()=>{clearTimeout(o),n()};this.addTag(e,r)}addTag(e,t){(0,cf.Yr)()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{kf("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(ou){}}),Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=16384,Hg=45e3;let Wg=null;"undefined"!==typeof MozWebSocket?Wg=MozWebSocket:"undefined"!==typeof WebSocket&&(Wg=WebSocket);class qg{constructor(e,t,n,o,r,i,s){this.connId=e,this.applicationId=n,this.appCheckToken=o,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=If(this.connId),this.stats_=vg(t),this.connURL=qg.connectionURL_(t,i,s,o),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,o){const r={};return r[ng]=tg,!(0,cf.Yr)()&&"undefined"!==typeof location&&location.hostname&&sg.test(location.hostname)&&(r[rg]=ig),t&&(r[og]=t),n&&(r[ag]=n),o&&(r[lg]=o),fg(e,ug,r)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yf.set("previous_websocket_failure",!0);try{if((0,cf.Yr)()){const e=this.nodeAdmin?"AdminNode":"Node",t={headers:{"User-Agent":`Firebase/${tg}/${df}/${process.platform}/${e}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(t.headers["Authorization"]=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",VUE_APP_FIREBASE_API_KEY:"AIzaSyBGIxUvb7aUxX_4xWNfLZNh0126RhgXrcc",VUE_APP_FIREBASE_AUTH_DOMAIN:"jkf-talk-f8331.firebaseapp.com",VUE_APP_FIREBASE_DATABASE_URL:"https://jkf-talk-prod.asia-southeast1.firebasedatabase.app/",VUE_APP_FIREBASE_PROJECT_ID:"jkf-talk",VUE_APP_FIREBASE_STORAGE_BUCKET:"jkf-talk.appspot.com",VUE_APP_FIREBASE_MESSAGING_SENDER_ID:"378533763429",VUE_APP_FIREBASE_APP_ID:"1:378533763429:web:89faf46a0eee651ec1298c",VUE_APP_FIREBASE_MEASUREMENT_ID:"G-M5FK0HJWMH",VUE_APP_FIREBASE_STORAGE_HOST:"https://ugc.talk.hare200.com",VUE_APP_GCP_IM_STORAGE_URL:"https://public.hare200.com/im",VUE_APP_JKF_IMAGE_URL_PREFIX:"https://ugc.talk.hare200.com",VUE_APP_PAN_API_HOST:"https://jkf.hare200.com/gapi",VUE_APP_FORUM_API_HOST:"https://www.jkforum.net/api/v2",VUE_APP_IS_SHADOW:"false",VUE_APP_JPOINT_HOST:"https://jpoints.hare200.com/gapi",VUE_APP_DOG_VERSION:"v0.0.63",VUE_APP_TALK_API_HOST:"https://gapi.talk.hare200.com",VUE_APP_TALK_OPEN_API_HOST:"https://gapi.jkftalk-broker.hare200.com",VUE_APP_VERSION:"2.9.2",BASE_URL:"/"},o=0===this.connURL.indexOf("wss://")?n["HTTPS_PROXY"]||n["https_proxy"]:n["HTTP_PROXY"]||n["http_proxy"];o&&(t["proxy"]={origin:o}),this.mySock=new Wg(this.connURL,[],t)}else{const e={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Wg(this.connURL,[],e)}}catch(ou){this.log_("Error instantiating WebSocket.");const t=ou.message||ou.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){qg.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Wg&&!qg.forceDisallow_}static previouslyFailed(){return yf.isInMemoryStorage||!0===yf.get("previous_websocket_failure")}markConnectionHealthy(){yf.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,cf.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,cf.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,cf.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Bf(t,Bg);n.length>1&&this.sendString_(String(n.length));for(let o=0;o<n.length;o++)this.sendString_(n[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(Hg))}sendString_(e){try{this.mySock.send(e)}catch(ou){this.log_("Exception thrown from WebSocket.send():",ou.message||ou.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}qg.responsesRequiredToBeHealthy=2,qg.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vg{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ug,qg]}initTransports_(e){const t=qg&&qg["isAvailable"]();let n=t&&!qg.previouslyFailed();if(e.webSocketOnly&&(t||Of("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[qg];else{const e=this.transports_=[];for(const t of Vg.ALL_TRANSPORTS)t&&t["isAvailable"]()&&e.push(t)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=6e4,Gg=5e3,$g=10240,Kg=102400,Yg="t",Zg="d",Jg="s",Xg="r",Qg="e",em="o",tm="a",nm="n",om="p",rm="h";class im{constructor(e,t,n,o,r,i,s,a,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=o,this.authToken_=r,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=If("c:"+this.id+":"),this.transportManager_=new Vg(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const o=e["healthyTimeout"]||0;o>0&&(this.healthyTimeout_=Jf((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Kg?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$g?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yg in e){const t=e[Yg];t===tm?this.upgradeIfSecondaryHealthy_():t===Xg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===em&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Uf("t",e),n=Uf("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:om,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:tm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Uf("t",e),n=Uf("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Uf(Yg,e);if(Zg in e){const n=e[Zg];if(t===rm)this.onHandshake_(n);else if(t===nm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Jg?this.onConnectionShutdown_(n):t===Xg?this.onReset_(n):t===Qg?Af("Server Error: "+n):t===em?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Af("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),tg!==n&&Of("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Jf((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(zg))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jf((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(Gg))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:om,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{put(e,t,n,o){}merge(e,t,n,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,cf.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const o=this.getInitialEvent(e);o&&t.apply(n,o)}off(e,t,n){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let r=0;r<o.length;r++)if(o[r].callback===t&&(!n||n===o[r].context))return void o.splice(r,1)}validateEventType_(e){(0,cf.hu)(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends am{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,cf.uI)()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new cm}getInitialEvent(e){return(0,cf.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=32,um=768;class pm{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function dm(){return new pm("")}function hm(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function fm(e){return e.pieces_.length-e.pieceNum_}function gm(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new pm(e.pieces_,t)}function mm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ym(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function vm(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function bm(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pm(t,0)}function _m(e,t){const n=[];for(let o=e.pieceNum_;o<e.pieces_.length;o++)n.push(e.pieces_[o]);if(t instanceof pm)for(let o=t.pieceNum_;o<t.pieces_.length;o++)n.push(t.pieces_[o]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new pm(n,0)}function wm(e){return e.pieceNum_>=e.pieces_.length}function Tm(e,t){const n=hm(e),o=hm(t);if(null===n)return t;if(n===o)return Tm(gm(e),gm(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function xm(e,t){if(fm(e)!==fm(t))return!1;for(let n=e.pieceNum_,o=t.pieceNum_;n<=e.pieces_.length;n++,o++)if(e.pieces_[n]!==t.pieces_[o])return!1;return!0}function Sm(e,t){let n=e.pieceNum_,o=t.pieceNum_;if(fm(e)>fm(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[o])return!1;++n,++o}return!0}class Em{constructor(e,t){this.errorPrefix_=t,this.parts_=vm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,cf.ug)(this.parts_[n]);Am(this)}}function km(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,cf.ug)(t),Am(e)}function Im(e){const t=e.parts_.pop();e.byteLength_-=(0,cf.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}function Am(e){if(e.byteLength_>um)throw new Error(e.errorPrefix_+"has a key path longer than "+um+" bytes ("+e.byteLength_+").");if(e.parts_.length>lm)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lm+") or object contains a cycle "+Rm(e))}function Rm(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends am{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(t="visibilitychange",e="hidden"):"undefined"!==typeof document["mozHidden"]?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document["msHidden"]?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Om}getInitialEvent(e){return(0,cf.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=1e3,jm=3e5,Nm=3e3,Pm=3e4,Dm=1.3,Mm=3e4,Lm="server_kill",Um=3;class Fm extends sm{constructor(e,t,n,o,r,i,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=o,this.onServerInfoUpdate_=r,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Fm.nextPersistentConnectionId_++,this.log_=If("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cm,this.maxReconnectDelay_=jm,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!(0,cf.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Om.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&cm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const o=++this.requestNumber_,r={r:o,a:e,b:t};this.log_((0,cf.Pz)(r)),(0,cf.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[o]=n)}get(e){this.initConnection_();const t=new cf.BH,n={p:e._path.toString(),q:e._queryObject},o={action:"g",request:n,onComplete:e=>{const o=e["d"];"ok"===e["s"]?(this.onDataUpdate_(n["p"],o,!1,null),t.resolve(o)):t.reject(o)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_||setTimeout((()=>{const e=this.outstandingGets_[r];void 0!==e&&o===e&&(delete this.outstandingGets_[r],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+r+" timed out on connection"),t.reject(new Error("Client is offline.")))}),Nm),this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,o){this.initConnection_();const r=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+r),this.listens.has(i)||this.listens.set(i,new Map),(0,cf.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,cf.hu)(!this.listens.get(i).has(r),"listen() called twice for same path/queryId.");const s={onComplete:o,hashFn:t,query:e,tag:n};this.listens.get(i).set(r,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),o=t._queryIdentifier;this.log_("Listen on "+n+" for "+o);const r={p:n},i="q";e.tag&&(r["q"]=t._queryObject,r["t"]=e.tag),r["h"]=e.hashFn(),this.sendRequest(i,r,(r=>{const i=r["d"],s=r["s"];Fm.warnOnListenWarnings_(i,t);const a=this.listens.get(n)&&this.listens.get(n).get(o);a===e&&(this.log_("listen response",r),"ok"!==s&&this.removeListen_(n,o),e.onComplete&&e.onComplete(s,i))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&(0,cf.r3)(e,"w")){const n=(0,cf.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Of(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){const t=e&&40===e.length;(t||(0,cf.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Pm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,cf.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n["noauth"]=!0:"object"===typeof this.authOverride_&&(n["authvar"]=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t["s"],o=t["d"]||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,o))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e["s"],n=e["d"]||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+o),(0,cf.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");const r=this.removeListen_(n,o);r&&this.connected_&&this.sendUnlisten_(n,o,e._queryObject,t)}sendUnlisten_(e,t,n,o){this.log_("Unlisten on "+e+" for "+t);const r={p:e},i="n";o&&(r["q"]=n,r["t"]=o),this.sendRequest(i,r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,o){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,(e=>{o&&setTimeout((()=>{o(e["s"],e["d"])}),Math.floor(0))}))}put(e,t,n,o){this.putInternal("p",e,t,n,o)}merge(e,t,n,o){this.putInternal("m",e,t,n,o)}putInternal(e,t,n,o,r){this.initConnection_();const i={p:t,d:n};void 0!==r&&(i["h"]=r),this.outstandingPuts_.push({action:e,request:i,onComplete:o}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(n["s"],n["d"])}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{const t=e["s"];if("ok"!==t){const t=e["d"];this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,cf.Pz)(e));const t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"apc"===e?this.onAppCheckRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):Af("Unrecognized action received from server: "+(0,cf.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,cf.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cm,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Cm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){const e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>Mm&&(this.reconnectDelay_=Cm),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Dm)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Fm.nextConnectionId_++,r=this.lastSessionId;let i=!1,s=null;const a=function(){s?s.close():(i=!0,n())},c=function(e){(0,cf.hu)(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:c};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);i?kf("getToken() completed but was canceled"):(kf("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=c&&c.token,s=new im(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Of(e+" ("+this.repoInfo_.toString()+")"),this.interrupt(Lm)}),r))}catch(Af){this.log_("Failed to get token: "+Af),i||(this.repoInfo_.nodeAdmin&&Of(Af),a())}}}interrupt(e){kf("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){kf("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,cf.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Cm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Ff(e))).join("$"):"default";const o=this.removeListen_(e,n);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,t){const n=new pm(e).toString();let o;if(this.listens.has(n)){const e=this.listens.get(n);o=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else o=void 0;return o}onAuthRevoked_(e,t){kf("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Um&&(this.reconnectDelay_=Pm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){kf("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Um&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);while(this.onDisconnectRequestQueue_.length){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,cf.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+df.replace(/\./g,"-")]=1,(0,cf.uI)()?e["framework.cordova"]=1:(0,cf.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cm.getInstance().currentlyOnline();return(0,cf.xb)(this.interruptReasons_)&&e}}Fm.nextPersistentConnectionId_=0,Fm.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bm{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Bm(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Bm(Pf,e),o=new Bm(Pf,t);return 0!==this.compare(n,o)}minPost(){return Bm.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm;class qm extends Hm{static get __EMPTY_NODE(){return Wm}static set __EMPTY_NODE(e){Wm=e}compare(e,t){return Mf(e.name,t.name)}isDefinedOn(e){throw(0,cf.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Bm.MIN}maxPost(){return new Bm(Df,Wm)}makePost(e,t){return(0,cf.hu)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Bm(e,Wm)}toString(){return".key"}}const Vm=new qm;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,t,n,o,r=null){this.isReverse_=o,this.resultGenerator_=r,this.nodeStack_=[];let i=1;while(!e.isEmpty())if(i=t?n(e.key,t):1,o&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Gm{constructor(e,t,n,o,r){this.key=e,this.value=t,this.color=null!=n?n:Gm.RED,this.left=null!=o?o:Km.EMPTY_NODE,this.right=null!=r?r:Km.EMPTY_NODE}copy(e,t,n,o,r){return new Gm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=o?o:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const r=n(e,o.key);return o=r<0?o.copy(null,null,null,o.left.insert(e,t,n),null):0===r?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Km.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,o;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Km.EMPTY_NODE;o=n.right.min_(),n=n.copy(o.key,o.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Gm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Gm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Gm.RED=!0,Gm.BLACK=!1;class $m{copy(e,t,n,o,r){return this}insert(e,t,n){return new Gm(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Km{constructor(e,t=Km.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Km(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Gm.BLACK,null,null))}remove(e){return new Km(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gm.BLACK,null,null))}get(e){let t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,o=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return o?o.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(o=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new zm(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new zm(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new zm(this.root_,null,this.comparator_,!0,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ym(e,t){return Mf(e.name,t.name)}function Zm(e,t){return Mf(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm;function Xm(e){Jm=e}Km.EMPTY_NODE=new $m;const Qm=function(e){return"number"===typeof e?"number:"+Wf(e):"string:"+e},ey=function(e){if(e.isLeafNode()){const t=e.val();(0,cf.hu)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,cf.r3)(t,".sv"),"Priority must be a string or number.")}else(0,cf.hu)(e===Jm||e.isEmpty(),"priority of unexpected type.");(0,cf.hu)(e===Jm||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let ty,ny,oy;class ry{constructor(e,t=ry.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,cf.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ey(this.priorityNode_)}static set __childrenNodeConstructor(e){ty=e}static get __childrenNodeConstructor(){return ty}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ry(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:ry.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wm(e)?this:".priority"===hm(e)?this.priorityNode_:ry.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:ry.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=hm(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,cf.hu)(".priority"!==n||1===fm(e),".priority must be the last token in a path"),this.updateImmediateChild(n,ry.__childrenNodeConstructor.EMPTY_NODE.updateChild(gm(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qm(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Wf(this.value_):this.value_,this.lazyHash_=wf(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ry.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ry.__childrenNodeConstructor?-1:((0,cf.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,o=ry.VALUE_TYPE_ORDER.indexOf(t),r=ry.VALUE_TYPE_ORDER.indexOf(n);return(0,cf.hu)(o>=0,"Unknown leaf type: "+t),(0,cf.hu)(r>=0,"Unknown leaf type: "+n),o===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}function iy(e){ny=e}function sy(e){oy=e}ry.VALUE_TYPE_ORDER=["object","boolean","number","string"];class ay extends Hm{compare(e,t){const n=e.node.getPriority(),o=t.node.getPriority(),r=n.compareTo(o);return 0===r?Mf(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Bm.MIN}maxPost(){return new Bm(Df,new ry("[PRIORITY-POST]",oy))}makePost(e,t){const n=ny(e);return new Bm(t,new ry("[PRIORITY-POST]",n))}toString(){return".priority"}}const cy=new ay,ly=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){const t=e=>parseInt(Math.log(e)/ly,10),n=e=>parseInt(Array(e+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const o=n(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const py=function(e,t,n,o){e.sort(t);const r=function(t,o){const i=o-t;let s,a;if(0===i)return null;if(1===i)return s=e[t],a=n?n(s):s,new Gm(a,s.node,Gm.BLACK,null,null);{const c=parseInt(i/2,10)+t,l=r(t,c),u=r(c+1,o);return s=e[c],a=n?n(s):s,new Gm(a,s.node,Gm.BLACK,l,u)}},i=function(t){let o=null,i=null,s=e.length;const a=function(t,o){const i=s-t,a=s;s-=t;const l=r(i+1,a),u=e[i],p=n?n(u):u;c(new Gm(p,u.node,o,null,l))},c=function(e){o?(o.left=e,o=e):(i=e,o=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),o=Math.pow(2,t.count-(e+1));n?a(o,Gm.BLACK):(a(o,Gm.BLACK),a(o,Gm.RED))}return i},s=new uy(e.length),a=i(s);return new Km(o||t,a)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy;const hy={};class fy{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,cf.hu)(hy&&cy,"ChildrenNode.ts has not been loaded"),dy=dy||new fy({".priority":hy},{".priority":cy}),dy}get(e){const t=(0,cf.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Km?t:null}hasIndex(e){return(0,cf.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,cf.hu)(e!==Vm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let o=!1;const r=t.getIterator(Bm.Wrap);let i,s=r.getNext();while(s)o=o||e.isDefinedOn(s.node),n.push(s),s=r.getNext();i=o?py(n,e.getCompare()):hy;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const l=Object.assign({},this.indexes_);return l[a]=i,new fy(l,c)}addToIndexes(e,t){const n=(0,cf.UI)(this.indexes_,((n,o)=>{const r=(0,cf.DV)(this.indexSet_,o);if((0,cf.hu)(r,"Missing index implementation for "+o),n===hy){if(r.isDefinedOn(e.node)){const n=[],o=t.getIterator(Bm.Wrap);let i=o.getNext();while(i)i.name!==e.name&&n.push(i),i=o.getNext();return n.push(e),py(n,r.getCompare())}return hy}{const o=t.get(e.name);let r=n;return o&&(r=r.remove(new Bm(e.name,o))),r.insert(e,e.node)}}));return new fy(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,cf.UI)(this.indexes_,(n=>{if(n===hy)return n;{const o=t.get(e.name);return o?n.remove(new Bm(e.name,o)):n}}));return new fy(n,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy;class my{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ey(this.priorityNode_),this.children_.isEmpty()&&(0,cf.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return gy||(gy=new my(new Km(Zm),null,fy.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gy}updatePriority(e){return this.children_.isEmpty()?this:new my(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?gy:t}}getChild(e){const t=hm(e);return null===t?this:this.getImmediateChild(t).getChild(gm(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,cf.hu)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Bm(e,t);let o,r;t.isEmpty()?(o=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(o=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const i=o.isEmpty()?gy:this.priorityNode_;return new my(o,i,r)}}updateChild(e,t){const n=hm(e);if(null===n)return t;{(0,cf.hu)(".priority"!==hm(e)||1===fm(e),".priority must be the last token in a path");const o=this.getImmediateChild(n).updateChild(gm(e),t);return this.updateImmediateChild(n,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,o=0,r=!0;if(this.forEachChild(cy,((i,s)=>{t[i]=s.val(e),n++,r&&my.INTEGER_REGEXP_.test(i)?o=Math.max(o,Number(i)):r=!1})),!e&&r&&o<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Qm(this.getPriority().val())+":"),this.forEachChild(cy,((t,n)=>{const o=n.hash();""!==o&&(e+=":"+t+":"+o)})),this.lazyHash_=""===e?"":wf(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const o=this.resolveIndex_(n);if(o){const n=o.getPredecessorKey(new Bm(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Bm(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Bm(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Bm.Wrap);let o=n.peek();while(null!=o&&t.compare(o,e)<0)n.getNext(),o=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Bm.Wrap);let o=n.peek();while(null!=o&&t.compare(o,e)>0)n.getNext(),o=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vy?-1:0}withIndex(e){if(e===Vm||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new my(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Vm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(cy),n=t.getIterator(cy);let o=e.getNext(),r=n.getNext();while(o&&r){if(o.name!==r.name||!o.node.equals(r.node))return!1;o=e.getNext(),r=n.getNext()}return null===o&&null===r}return!1}return!1}}resolveIndex_(e){return e===Vm?null:this.indexMap_.get(e.toString())}}my.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yy extends my{constructor(){super(new Km(Zm),my.EMPTY_NODE,fy.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return my.EMPTY_NODE}isEmpty(){return!1}}const vy=new yy;Object.defineProperties(Bm,{MIN:{value:new Bm(Pf,my.EMPTY_NODE)},MAX:{value:new Bm(Df,vy)}}),qm.__EMPTY_NODE=my.EMPTY_NODE,ry.__childrenNodeConstructor=my,Xm(vy),sy(vy);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const by=!0;function _y(e,t=null){if(null===e)return my.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,cf.hu)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){const n=e;return new ry(n,_y(t))}if(e instanceof Array||!by){let n=my.EMPTY_NODE;return Hf(e,((t,o)=>{if((0,cf.r3)(e,t)&&"."!==t.substring(0,1)){const e=_y(o);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(_y(t))}{const n=[];let o=!1;const r=e;if(Hf(r,((e,t)=>{if("."!==e.substring(0,1)){const r=_y(t);r.isEmpty()||(o=o||!r.getPriority().isEmpty(),n.push(new Bm(e,r)))}})),0===n.length)return my.EMPTY_NODE;const i=py(n,Ym,(e=>e.name),Zm);if(o){const e=py(n,cy.getCompare());return new my(i,_y(t),new fy({".priority":e},{".priority":cy}))}return new my(i,_y(t),fy.Default)}}iy(_y);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wy extends Hm{constructor(e){super(),this.indexPath_=e,(0,cf.hu)(!wm(e)&&".priority"!==hm(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),o=this.extractChild(t.node),r=n.compareTo(o);return 0===r?Mf(e.name,t.name):r}makePost(e,t){const n=_y(e),o=my.EMPTY_NODE.updateChild(this.indexPath_,n);return new Bm(t,o)}maxPost(){const e=my.EMPTY_NODE.updateChild(this.indexPath_,vy);return new Bm(Df,e)}toString(){return vm(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends Hm{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Mf(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Bm.MIN}maxPost(){return Bm.MAX}makePost(e,t){const n=_y(e);return new Bm(t,n)}toString(){return".value"}}const xy=new Ty,Sy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){let e=0;const t=[]})();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ey(e){return{type:"value",snapshotNode:e}}function ky(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Iy(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ay(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Ry(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Oy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cy}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,cf.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,cf.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,cf.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,cf.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Df}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,cf.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cy}copy(){const e=new Oy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Cy(e){const t={};if(e.isDefault())return t;let n;return e.index_===cy?n="$priority":e.index_===xy?n="$value":e.index_===Vm?n="$key":((0,cf.hu)(e.index_ instanceof wy,"Unrecognized index type!"),n=e.index_.toString()),t["orderBy"]=(0,cf.Pz)(n),e.startSet_&&(t["startAt"]=(0,cf.Pz)(e.indexStartValue_),e.startNameSet_&&(t["startAt"]+=","+(0,cf.Pz)(e.indexStartName_))),e.endSet_&&(t["endAt"]=(0,cf.Pz)(e.indexEndValue_),e.endNameSet_&&(t["endAt"]+=","+(0,cf.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t["limitToFirst"]=e.limit_:t["limitToLast"]=e.limit_),t}function jy(e){const t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_)),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_)),e.limitSet_){t["l"]=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==cy&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends sm{constructor(e,t,n,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=o,this.log_=If("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,cf.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,o){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const i=Ny.getListenId_(e,n),s={};this.listens_[i]=s;const a=Cy(e._queryParams);this.restRequest_(r+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(r,a,!1,n),(0,cf.DV)(this.listens_,i)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",o(t,null)}}))}unlisten(e,t){const n=Ny.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Cy(e._queryParams),n=e._path.toString(),o=new cf.BH;return this.restRequest_(n+".json",t,((e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),o.resolve(r)):o.reject(new Error(r))})),o.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([o,r])=>{o&&o.accessToken&&(t["auth"]=o.accessToken),r&&r.token&&(t["ac"]=r.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,cf.xO)(t);this.log_("Sending REST request for "+i);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+i+" received. status:",s.status,"response:",s.responseText);let e=null;if(s.status>=200&&s.status<300){try{e=(0,cf.cI)(s.responseText)}catch(ou){Of("Failed to parse JSON response for "+i+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&Of("Got unsuccessful REST response for "+i+" Status: "+s.status),n(s.status);n=null}},s.open("GET",i,!0),s.send()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.rootNode_=my.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(){return{value:null,children:new Map}}function My(e,t,n){if(wm(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const o=hm(t);e.children.has(o)||e.children.set(o,Dy());const r=e.children.get(o);t=gm(t),My(r,t,n)}}function Ly(e,t,n){null!==e.value?n(t,e.value):Uy(e,((e,o)=>{const r=new pm(t.toString()+"/"+e);Ly(o,r,n)}))}function Uy(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Hf(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=1e4,Hy=3e4,Wy=3e5;class qy{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Fy(e);const n=By+(Hy-By)*Math.random();Jf(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Hf(e,((e,o)=>{o>0&&(0,cf.r3)(this.statsToReport_,e)&&(t[e]=o,n=!0)})),n&&this.server_.reportStats(t),Jf(this.reportStats_.bind(this),Math.floor(2*Math.random()*Wy))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vy;function zy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Gy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $y(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(Vy||(Vy={}));class Ky{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Vy.ACK_USER_WRITE,this.source=zy()}operationForChild(e){if(wm(this.path)){if(null!=this.affectedTree.value)return(0,cf.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new pm(e));return new Ky(dm(),t,this.revert)}}return(0,cf.hu)(hm(this.path)===e,"operationForChild called for unrelated child."),new Ky(gm(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yy{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Vy.OVERWRITE}operationForChild(e){return wm(this.path)?new Yy(this.source,dm(),this.snap.getImmediateChild(e)):new Yy(this.source,gm(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Vy.MERGE}operationForChild(e){if(wm(this.path)){const t=this.children.subtree(new pm(e));return t.isEmpty()?null:t.value?new Yy(this.source,dm(),t.value):new Zy(this.source,dm(),t)}return(0,cf.hu)(hm(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zy(this.source,gm(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(wm(e))return this.isFullyInitialized()&&!this.filtered_;const t=hm(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(e,t,n,o){const r=[],i=[];return t.forEach((t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push(Ry(t.childName,t.snapshotNode))})),Qy(e,r,"child_removed",t,o,n),Qy(e,r,"child_added",t,o,n),Qy(e,r,"child_moved",i,o,n),Qy(e,r,"child_changed",t,o,n),Qy(e,r,"value",t,o,n),r}function Qy(e,t,n,o,r,i){const s=o.filter((e=>e.type===n));s.sort(((t,n)=>tv(e,t,n))),s.forEach((n=>{const o=ev(e,n,i);r.forEach((r=>{r.respondsTo(n.type)&&t.push(r.createEvent(o,e.query_))}))}))}function ev(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function tv(e,t,n){if(null==t.childName||null==n.childName)throw(0,cf.g5)("Should only compare child_ events.");const o=new Bm(t.childName,t.snapshotNode),r=new Bm(n.childName,n.snapshotNode);return e.index_.compare(o,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(e,t){return{eventCache:e,serverCache:t}}function ov(e,t,n,o){return nv(new Jy(t,n,o),e.serverCache)}function rv(e,t,n,o){return nv(e.eventCache,new Jy(t,n,o))}function iv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function sv(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let av;const cv=()=>(av||(av=new Km(Lf)),av);class lv{constructor(e,t=cv()){this.value=e,this.children=t}static fromObject(e){let t=new lv(null);return Hf(e,((e,n)=>{t=t.set(new pm(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:dm(),value:this.value};if(wm(e))return null;{const n=hm(e),o=this.children.get(n);if(null!==o){const r=o.findRootMostMatchingPathAndValue(gm(e),t);if(null!=r){const e=_m(new pm(n),r.path);return{path:e,value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(wm(e))return this;{const t=hm(e),n=this.children.get(t);return null!==n?n.subtree(gm(e)):new lv(null)}}set(e,t){if(wm(e))return new lv(t,this.children);{const n=hm(e),o=this.children.get(n)||new lv(null),r=o.set(gm(e),t),i=this.children.insert(n,r);return new lv(this.value,i)}}remove(e){if(wm(e))return this.children.isEmpty()?new lv(null):new lv(null,this.children);{const t=hm(e),n=this.children.get(t);if(n){const o=n.remove(gm(e));let r;return r=o.isEmpty()?this.children.remove(t):this.children.insert(t,o),null===this.value&&r.isEmpty()?new lv(null):new lv(this.value,r)}return this}}get(e){if(wm(e))return this.value;{const t=hm(e),n=this.children.get(t);return n?n.get(gm(e)):null}}setTree(e,t){if(wm(e))return t;{const n=hm(e),o=this.children.get(n)||new lv(null),r=o.setTree(gm(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new lv(this.value,i)}}fold(e){return this.fold_(dm(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((o,r)=>{n[o]=r.fold_(_m(e,o),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,dm(),t)}findOnPath_(e,t,n){const o=!!this.value&&n(t,this.value);if(o)return o;if(wm(e))return null;{const o=hm(e),r=this.children.get(o);return r?r.findOnPath_(gm(e),_m(t,o),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,dm(),t)}foreachOnPath_(e,t,n){if(wm(e))return this;{this.value&&n(t,this.value);const o=hm(e),r=this.children.get(o);return r?r.foreachOnPath_(gm(e),_m(t,o),n):new lv(null)}}foreach(e){this.foreach_(dm(),e)}foreach_(e,t){this.children.inorderTraversal(((n,o)=>{o.foreach_(_m(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.writeTree_=e}static empty(){return new uv(new lv(null))}}function pv(e,t,n){if(wm(t))return new uv(new lv(n));{const o=e.writeTree_.findRootMostValueAndPath(t);if(null!=o){const r=o.path;let i=o.value;const s=Tm(r,t);return i=i.updateChild(s,n),new uv(e.writeTree_.set(r,i))}{const o=new lv(n),r=e.writeTree_.setTree(t,o);return new uv(r)}}}function dv(e,t,n){let o=e;return Hf(n,((e,n)=>{o=pv(o,_m(t,e),n)})),o}function hv(e,t){if(wm(t))return uv.empty();{const n=e.writeTree_.setTree(t,new lv(null));return new uv(n)}}function fv(e,t){return null!=gv(e,t)}function gv(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Tm(n.path,t)):null}function mv(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(cy,((e,n)=>{t.push(new Bm(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Bm(e,n.value))})),t}function yv(e,t){if(wm(t))return e;{const n=gv(e,t);return new uv(null!=n?new lv(n):e.writeTree_.subtree(t))}}function vv(e){return e.writeTree_.isEmpty()}function bv(e,t){return _v(dm(),e.writeTree_,t)}function _v(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let o=null;return t.children.inorderTraversal(((t,r)=>{".priority"===t?((0,cf.hu)(null!==r.value,"Priority writes must always be leaf nodes"),o=r.value):n=_v(_m(e,t),r,n)})),n.getChild(e).isEmpty()||null===o||(n=n.updateChild(_m(e,".priority"),o)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(e,t){return qv(t,e)}function Tv(e,t,n,o,r){(0,cf.hu)(o>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:o,visible:r}),r&&(e.visibleWrites=pv(e.visibleWrites,t,n)),e.lastWriteId=o}function xv(e,t){for(let n=0;n<e.allWrites.length;n++){const o=e.allWrites[n];if(o.writeId===t)return o}return null}function Sv(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));(0,cf.hu)(n>=0,"removeWrite called with nonexistent writeId.");const o=e.allWrites[n];e.allWrites.splice(n,1);let r=o.visible,i=!1,s=e.allWrites.length-1;while(r&&s>=0){const t=e.allWrites[s];t.visible&&(s>=n&&Ev(t,o.path)?r=!1:Sm(o.path,t.path)&&(i=!0)),s--}if(r){if(i)return kv(e),!0;if(o.snap)e.visibleWrites=hv(e.visibleWrites,o.path);else{const t=o.children;Hf(t,(t=>{e.visibleWrites=hv(e.visibleWrites,_m(o.path,t))}))}return!0}return!1}function Ev(e,t){if(e.snap)return Sm(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Sm(_m(e.path,n),t))return!0;return!1}function kv(e){e.visibleWrites=Av(e.allWrites,Iv,dm()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Iv(e){return e.visible}function Av(e,t,n){let o=uv.empty();for(let r=0;r<e.length;++r){const i=e[r];if(t(i)){const e=i.path;let t;if(i.snap)Sm(n,e)?(t=Tm(n,e),o=pv(o,t,i.snap)):Sm(e,n)&&(t=Tm(e,n),o=pv(o,dm(),i.snap.getChild(t)));else{if(!i.children)throw(0,cf.g5)("WriteRecord should have .snap or .children");if(Sm(n,e))t=Tm(n,e),o=dv(o,t,i.children);else if(Sm(e,n))if(t=Tm(e,n),wm(t))o=dv(o,dm(),i.children);else{const e=(0,cf.DV)(i.children,hm(t));if(e){const n=e.getChild(gm(t));o=pv(o,dm(),n)}}}}}return o}function Rv(e,t,n,o,r){if(o||r){const i=yv(e.visibleWrites,t);if(!r&&vv(i))return n;if(r||null!=n||fv(i,dm())){const i=function(e){return(e.visible||r)&&(!o||!~o.indexOf(e.writeId))&&(Sm(e.path,t)||Sm(t,e.path))},s=Av(e.allWrites,i,t),a=n||my.EMPTY_NODE;return bv(s,a)}return null}{const o=gv(e.visibleWrites,t);if(null!=o)return o;{const o=yv(e.visibleWrites,t);if(vv(o))return n;if(null!=n||fv(o,dm())){const e=n||my.EMPTY_NODE;return bv(o,e)}return null}}}function Ov(e,t,n){let o=my.EMPTY_NODE;const r=gv(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(cy,((e,t)=>{o=o.updateImmediateChild(e,t)})),o;if(n){const r=yv(e.visibleWrites,t);return n.forEachChild(cy,((e,t)=>{const n=bv(yv(r,new pm(e)),t);o=o.updateImmediateChild(e,n)})),mv(r).forEach((e=>{o=o.updateImmediateChild(e.name,e.node)})),o}{const n=yv(e.visibleWrites,t);return mv(n).forEach((e=>{o=o.updateImmediateChild(e.name,e.node)})),o}}function Cv(e,t,n,o,r){(0,cf.hu)(o||r,"Either existingEventSnap or existingServerSnap must exist");const i=_m(t,n);if(fv(e.visibleWrites,i))return null;{const t=yv(e.visibleWrites,i);return vv(t)?r.getChild(n):bv(t,r.getChild(n))}}function jv(e,t,n,o){const r=_m(t,n),i=gv(e.visibleWrites,r);if(null!=i)return i;if(o.isCompleteForChild(n)){const t=yv(e.visibleWrites,r);return bv(t,o.getNode().getImmediateChild(n))}return null}function Nv(e,t){return gv(e.visibleWrites,t)}function Pv(e,t,n,o,r,i,s){let a;const c=yv(e.visibleWrites,t),l=gv(c,dm());if(null!=l)a=l;else{if(null==n)return[];a=bv(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=i?a.getReverseIteratorFrom(o,s):a.getIteratorFrom(o,s);let c=n.getNext();while(c&&e.length<r)0!==t(c,o)&&e.push(c),c=n.getNext();return e}}function Dv(){return{visibleWrites:uv.empty(),allWrites:[],lastWriteId:-1}}function Mv(e,t,n,o){return Rv(e.writeTree,e.treePath,t,n,o)}function Lv(e,t){return Ov(e.writeTree,e.treePath,t)}function Uv(e,t,n,o){return Cv(e.writeTree,e.treePath,t,n,o)}function Fv(e,t){return Nv(e.writeTree,_m(e.treePath,t))}function Bv(e,t,n,o,r,i){return Pv(e.writeTree,e.treePath,t,n,o,r,i)}function Hv(e,t,n){return jv(e.writeTree,e.treePath,t,n)}function Wv(e,t){return qv(_m(e.treePath,t),e.writeTree)}function qv(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,cf.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,cf.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(n);if(o){const r=o.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,Ay(n,e.snapshotNode,o.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,Iy(n,o.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,ky(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw(0,cf.g5)("Illegal combination of changes: "+e+" occurred after "+o);this.changeMap.set(n,Ay(n,e.snapshotNode,o.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}}const Gv=new zv;class $v{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Jy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hv(this.writes_,e,t)}}getChildAfterChild(e,t,n){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:sv(this.viewCache_),r=Bv(this.writes_,o,t,1,n,e);return 0===r.length?null:r[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(e,t){(0,cf.hu)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,cf.hu)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Yv(e,t,n,o,r){const i=new Vv;let s,a;if(n.type===Vy.OVERWRITE){const c=n;c.source.fromUser?s=Qv(e,t,c.path,c.snap,o,r,i):((0,cf.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!wm(c.path),s=Xv(e,t,c.path,c.snap,o,r,a,i))}else if(n.type===Vy.MERGE){const c=n;c.source.fromUser?s=tb(e,t,c.path,c.children,o,r,i):((0,cf.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=ob(e,t,c.path,c.children,o,r,a,i))}else if(n.type===Vy.ACK_USER_WRITE){const a=n;s=a.revert?sb(e,t,a.path,o,r,i):rb(e,t,a.path,a.affectedTree,o,r,i)}else{if(n.type!==Vy.LISTEN_COMPLETE)throw(0,cf.g5)("Unknown operation type: "+n.type);s=ib(e,t,n.path,o,i)}const c=i.getChanges();return Zv(t,s,c),{viewCache:s,changes:c}}function Zv(e,t,n){const o=t.eventCache;if(o.isFullyInitialized()){const r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=iv(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(Ey(iv(t)))}}function Jv(e,t,n,o,r,i){const s=t.eventCache;if(null!=Fv(o,n))return t;{let a,c;if(wm(n))if((0,cf.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=sv(t),r=n instanceof my?n:my.EMPTY_NODE,s=Lv(o,r);a=e.filter.updateFullNode(t.eventCache.getNode(),s,i)}else{const n=Mv(o,sv(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,i)}else{const l=hm(n);if(".priority"===l){(0,cf.hu)(1===fm(n),"Can't have a priority with additional path components");const r=s.getNode();c=t.serverCache.getNode();const i=Uv(o,n,r,c);a=null!=i?e.filter.updatePriority(r,i):s.getNode()}else{const u=gm(n);let p;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const e=Uv(o,n,s.getNode(),c);p=null!=e?s.getNode().getImmediateChild(l).updateChild(u,e):s.getNode().getImmediateChild(l)}else p=Hv(o,l,t.serverCache);a=null!=p?e.filter.updateChild(s.getNode(),l,p,u,r,i):s.getNode()}}return ov(t,a,s.isFullyInitialized()||wm(n),e.filter.filtersNodes())}}function Xv(e,t,n,o,r,i,s,a){const c=t.serverCache;let l;const u=s?e.filter:e.filter.getIndexedFilter();if(wm(n))l=u.updateFullNode(c.getNode(),o,null);else if(u.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,o);l=u.updateFullNode(c.getNode(),e,null)}else{const e=hm(n);if(!c.isCompleteForPath(n)&&fm(n)>1)return t;const r=gm(n),i=c.getNode().getImmediateChild(e),s=i.updateChild(r,o);l=".priority"===e?u.updatePriority(c.getNode(),s):u.updateChild(c.getNode(),e,s,r,Gv,null)}const p=rv(t,l,c.isFullyInitialized()||wm(n),u.filtersNodes()),d=new $v(r,p,i);return Jv(e,p,n,r,d,a)}function Qv(e,t,n,o,r,i,s){const a=t.eventCache;let c,l;const u=new $v(r,t,i);if(wm(n))l=e.filter.updateFullNode(t.eventCache.getNode(),o,s),c=ov(t,l,!0,e.filter.filtersNodes());else{const r=hm(n);if(".priority"===r)l=e.filter.updatePriority(t.eventCache.getNode(),o),c=ov(t,l,a.isFullyInitialized(),a.isFiltered());else{const i=gm(n),l=a.getNode().getImmediateChild(r);let p;if(wm(i))p=o;else{const e=u.getCompleteChild(r);p=null!=e?".priority"===mm(i)&&e.getChild(bm(i)).isEmpty()?e:e.updateChild(i,o):my.EMPTY_NODE}if(l.equals(p))c=t;else{const n=e.filter.updateChild(a.getNode(),r,p,i,u,s);c=ov(t,n,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function eb(e,t){return e.eventCache.isCompleteForChild(t)}function tb(e,t,n,o,r,i,s){let a=t;return o.foreach(((o,c)=>{const l=_m(n,o);eb(t,hm(l))&&(a=Qv(e,a,l,c,r,i,s))})),o.foreach(((o,c)=>{const l=_m(n,o);eb(t,hm(l))||(a=Qv(e,a,l,c,r,i,s))})),a}function nb(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function ob(e,t,n,o,r,i,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=wm(n)?o:new lv(null).setTree(n,o);const u=t.serverCache.getNode();return c.children.inorderTraversal(((n,o)=>{if(u.hasChild(n)){const c=t.serverCache.getNode().getImmediateChild(n),u=nb(e,c,o);l=Xv(e,l,new pm(n),u,r,i,s,a)}})),c.children.inorderTraversal(((n,o)=>{const c=!t.serverCache.isCompleteForChild(n)&&void 0===o.value;if(!u.hasChild(n)&&!c){const c=t.serverCache.getNode().getImmediateChild(n),u=nb(e,c,o);l=Xv(e,l,new pm(n),u,r,i,s,a)}})),l}function rb(e,t,n,o,r,i,s){if(null!=Fv(r,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=o.value){if(wm(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Xv(e,t,n,c.getNode().getChild(n),r,i,a,s);if(wm(n)){let o=new lv(null);return c.getNode().forEachChild(Vm,((e,t)=>{o=o.set(new pm(e),t)})),ob(e,t,n,o,r,i,a,s)}return t}{let l=new lv(null);return o.foreach(((e,t)=>{const o=_m(n,e);c.isCompleteForPath(o)&&(l=l.set(e,c.getNode().getChild(o)))})),ob(e,t,n,l,r,i,a,s)}}function ib(e,t,n,o,r){const i=t.serverCache,s=rv(t,i.getNode(),i.isFullyInitialized()||wm(n),i.isFiltered());return Jv(e,s,n,o,Gv,r)}function sb(e,t,n,o,r,i){let s;if(null!=Fv(o,n))return t;{const a=new $v(o,t,r),c=t.eventCache.getNode();let l;if(wm(n)||".priority"===hm(n)){let n;if(t.serverCache.isFullyInitialized())n=Mv(o,sv(t));else{const e=t.serverCache.getNode();(0,cf.hu)(e instanceof my,"serverChildren would be complete if leaf node"),n=Lv(o,e)}l=e.filter.updateFullNode(c,n,i)}else{const r=hm(n);let u=Hv(o,r,t.serverCache);null==u&&t.serverCache.isCompleteForChild(r)&&(u=c.getImmediateChild(r)),l=null!=u?e.filter.updateChild(c,r,u,gm(n),a,i):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(c,r,my.EMPTY_NODE,gm(n),a,i):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Mv(o,sv(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,i)))}return s=t.serverCache.isFullyInitialized()||null!=Fv(o,dm()),ov(t,l,s,e.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(e,t){const n=sv(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!wm(t)&&!n.getImmediateChild(hm(t)).isEmpty())?n.getChild(t):null}function cb(e,t,n,o){t.type===Vy.MERGE&&null!==t.source.queryId&&((0,cf.hu)(sv(e.viewCache_),"We should always have a full cache before handling merges"),(0,cf.hu)(iv(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,i=Yv(e.processor_,r,t,n,o);return Kv(e.processor_,i.viewCache),(0,cf.hu)(i.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,lb(e,i.changes,i.viewCache.eventCache.getNode(),null)}function lb(e,t,n,o){const r=o?[o]:e.eventRegistrations_;return Xy(e.eventGenerator_,t,n,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ub,pb;function db(e){(0,cf.hu)(!ub,"__referenceConstructor has already been defined"),ub=e}function hb(e,t,n,o){const r=t.source.queryId;if(null!==r){const i=e.views.get(r);return(0,cf.hu)(null!=i,"SyncTree gave us an op for an invalid query."),cb(i,t,n,o)}{let r=[];for(const i of e.views.values())r=r.concat(cb(i,t,n,o));return r}}function fb(e,t){let n=null;for(const o of e.views.values())n=n||ab(o,t);return n}function gb(e){(0,cf.hu)(!pb,"__referenceConstructor has already been defined"),pb=e}class mb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lv(null),this.pendingWriteTree_=Dv(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yb(e,t,n,o,r){return Tv(e.pendingWriteTree_,t,n,o,r),r?Sb(e,new Yy(zy(),t,n)):[]}function vb(e,t,n=!1){const o=xv(e.pendingWriteTree_,t),r=Sv(e.pendingWriteTree_,t);if(r){let t=new lv(null);return null!=o.snap?t=t.set(dm(),!0):Hf(o.children,(e=>{t=t.set(new pm(e),!0)})),Sb(e,new Ky(o.path,t,n))}return[]}function bb(e,t,n){return Sb(e,new Yy(Gy(),t,n))}function _b(e,t,n){const o=lv.fromObject(n);return Sb(e,new Zy(Gy(),t,o))}function wb(e,t,n,o){const r=Ib(e,o);if(null!=r){const o=Ab(r),i=o.path,s=o.queryId,a=Tm(i,t),c=new Yy($y(s),a,n);return Rb(e,i,c)}return[]}function Tb(e,t,n,o){const r=Ib(e,o);if(r){const o=Ab(r),i=o.path,s=o.queryId,a=Tm(i,t),c=lv.fromObject(n),l=new Zy($y(s),a,c);return Rb(e,i,l)}return[]}function xb(e,t,n){const o=!0,r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const o=Tm(e,t),r=fb(n,o);if(r)return r}));return Rv(r,t,i,n,o)}function Sb(e,t){return Eb(t,e.syncPointTree_,null,wv(e.pendingWriteTree_,dm()))}function Eb(e,t,n,o){if(wm(e.path))return kb(e,t,n,o);{const r=t.get(dm());null==n&&null!=r&&(n=fb(r,dm()));let i=[];const s=hm(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const e=n?n.getImmediateChild(s):null,t=Wv(o,s);i=i.concat(Eb(a,c,e,t))}return r&&(i=i.concat(hb(r,e,o,n))),i}}function kb(e,t,n,o){const r=t.get(dm());null==n&&null!=r&&(n=fb(r,dm()));let i=[];return t.children.inorderTraversal(((t,r)=>{const s=n?n.getImmediateChild(t):null,a=Wv(o,t),c=e.operationForChild(t);c&&(i=i.concat(kb(c,r,s,a)))})),r&&(i=i.concat(hb(r,e,o,n))),i}function Ib(e,t){return e.tagToQueryMap.get(t)}function Ab(e){const t=e.indexOf("$");return(0,cf.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pm(e.substr(0,t))}}function Rb(e,t,n){const o=e.syncPointTree_.get(t);(0,cf.hu)(o,"Missing sync point for query tag that we're tracking");const r=wv(e.pendingWriteTree_,t);return hb(o,n,r,null)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ob{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ob(t)}node(){return this.node_}}class Cb{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=_m(this.path_,e);return new Cb(this.syncTree_,t)}node(){return xb(this.syncTree_,this.path_)}}const jb=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},Nb=function(e,t,n){return e&&"object"===typeof e?((0,cf.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Pb(e[".sv"],t,n):"object"===typeof e[".sv"]?Db(e[".sv"],t):void(0,cf.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Pb=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:(0,cf.hu)(!1,"Unexpected server value: "+e)}},Db=function(e,t,n){e.hasOwnProperty("increment")||(0,cf.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const o=e["increment"];"number"!==typeof o&&(0,cf.hu)(!1,"Unexpected increment value: "+o);const r=t.node();if((0,cf.hu)(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return o;const i=r,s=i.getValue();return"number"!==typeof s?o:s+o},Mb=function(e,t,n,o){return Ub(t,new Cb(n,e),o)},Lb=function(e,t,n){return Ub(e,new Ob(t),n)};function Ub(e,t,n){const o=e.getPriority().val(),r=Nb(o,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const o=e,i=Nb(o.getValue(),t,n);return i!==o.getValue()||r!==o.getPriority().val()?new ry(i,_y(r)):e}{const o=e;return i=o,r!==o.getPriority().val()&&(i=i.updatePriority(new ry(r))),o.forEachChild(cy,((e,o)=>{const r=Ub(o,t.getImmediateChild(e),n);r!==o&&(i=i.updateImmediateChild(e,r))})),i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Bb(e,t){let n=t instanceof pm?t:new pm(t),o=e,r=hm(n);while(null!==r){const e=(0,cf.DV)(o.node.children,r)||{children:{},childCount:0};o=new Fb(r,o,e),n=gm(n),r=hm(n)}return o}function Hb(e){return e.node.value}function Wb(e,t){e.node.value=t,Yb(e)}function qb(e){return e.node.childCount>0}function Vb(e){return void 0===Hb(e)&&!qb(e)}function zb(e,t){Hf(e.node.children,((n,o)=>{t(new Fb(n,e,o))}))}function Gb(e,t,n,o){n&&!o&&t(e),zb(e,(e=>{Gb(e,t,!0,o)})),n&&o&&t(e)}function $b(e,t,n){let o=n?e:e.parent;while(null!==o){if(t(o))return!0;o=o.parent}return!1}function Kb(e){return new pm(null===e.parent?e.name:Kb(e.parent)+"/"+e.name)}function Yb(e){null!==e.parent&&Zb(e.parent,e.name,e)}function Zb(e,t,n){const o=Vb(n),r=(0,cf.r3)(e.node.children,t);o&&r?(delete e.node.children[t],e.node.childCount--,Yb(e)):o||r||(e.node.children[t]=n.node,e.node.childCount++,Yb(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=/[\[\].#$\/\u0000-\u001F\u007F]/,Xb=/[\[\].#$\u0000-\u001F\u007F]/,Qb=10485760,e_=function(e){return"string"===typeof e&&0!==e.length&&!Jb.test(e)},t_=function(e){return"string"===typeof e&&0!==e.length&&!Xb.test(e)},n_=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),t_(e)},o_=function(e,t,n){const o=n instanceof pm?new Em(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Rm(o));if("function"===typeof t)throw new Error(e+"contains a function "+Rm(o)+" with contents = "+t.toString());if(jf(t))throw new Error(e+"contains "+t.toString()+" "+Rm(o));if("string"===typeof t&&t.length>Qb/3&&(0,cf.ug)(t)>Qb)throw new Error(e+"contains a string greater than "+Qb+" utf8 bytes "+Rm(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,r=!1;if(Hf(t,((t,i)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!e_(t)))throw new Error(e+" contains an invalid key ("+t+") "+Rm(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');km(o,t),o_(e,i,o),Im(o)})),n&&r)throw new Error(e+' contains ".value" child '+Rm(o)+" in addition to actual children.")}},r_=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!e_(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!n_(n))throw new Error((0,cf.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class i_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function s_(e,t){let n=null;for(let o=0;o<t.length;o++){const r=t[o],i=r.getPath();null===n||xm(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(r)}n&&e.eventLists_.push(n)}function a_(e,t,n){s_(e,n),c_(e,(e=>Sm(e,t)||Sm(t,e)))}function c_(e,t){e.recursionDepth_++;let n=!0;for(let o=0;o<e.eventLists_.length;o++){const r=e.eventLists_[o];if(r){const i=r.path;t(i)?(l_(e.eventLists_[o]),e.eventLists_[o]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function l_(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const o=n.getEventRunner();xf&&kf("event: "+n.toString()),Yf(o)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="repo_interrupt",p_=25;class d_{constructor(e,t,n,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new i_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dy(),this.transactionQueueTree_=new Fb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function h_(e,t,n){if(e.stats_=vg(e.repoInfo_),e.forceRestClient_||Zf())e.server_=new Ny(e.repoInfo_,((t,n,o,r)=>{m_(e,t,n,o,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>y_(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,cf.Pz)(n)}catch(ou){throw new Error("Invalid authOverride provided: "+ou)}}e.persistentConnection_=new Fm(e.repoInfo_,t,((t,n,o,r)=>{m_(e,t,n,o,r)}),(t=>{y_(e,t)}),(t=>{v_(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=bg(e.repoInfo_,(()=>new qy(e.stats_,e.server_))),e.infoData_=new Py,e.infoSyncTree_=new mb({startListening:(t,n,o,r)=>{let i=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(i=bb(e.infoSyncTree_,t._path,s),setTimeout((()=>{r("ok")}),0)),i},stopListening:()=>{}}),b_(e,"connected",!1),e.serverSyncTree_=new mb({startListening:(t,n,o,r)=>(e.server_.listen(t,o,n,((n,o)=>{const i=r(n,o);a_(e.eventQueue_,t._path,i)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function f_(e){const t=e.infoData_.getNode(new pm(".info/serverTimeOffset")),n=t.val()||0;return(new Date).getTime()+n}function g_(e){return jb({timestamp:f_(e)})}function m_(e,t,n,o,r){e.dataUpdateCount++;const i=new pm(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(o){const t=(0,cf.UI)(n,(e=>_y(e)));s=Tb(e.serverSyncTree_,i,t,r)}else{const t=_y(n);s=wb(e.serverSyncTree_,i,t,r)}else if(o){const t=(0,cf.UI)(n,(e=>_y(e)));s=_b(e.serverSyncTree_,i,t)}else{const t=_y(n);s=bb(e.serverSyncTree_,i,t)}let a=i;s.length>0&&(a=I_(e,i)),a_(e.eventQueue_,a,s)}function y_(e,t){b_(e,"connected",t),!1===t&&w_(e)}function v_(e,t){Hf(t,((t,n)=>{b_(e,t,n)}))}function b_(e,t,n){const o=new pm("/.info/"+t),r=_y(n);e.infoData_.updateSnapshot(o,r);const i=bb(e.infoSyncTree_,o,r);a_(e.eventQueue_,o,i)}function __(e){return e.nextWriteId_++}function w_(e){x_(e,"onDisconnectEvents");const t=g_(e),n=Dy();Ly(e.onDisconnect_,dm(),((o,r)=>{const i=Mb(o,r,e.serverSyncTree_,t);My(n,o,i)}));let o=[];Ly(n,dm(),((t,n)=>{o=o.concat(bb(e.serverSyncTree_,t,n));const r=N_(e,t);I_(e,r)})),e.onDisconnect_=Dy(),a_(e.eventQueue_,dm(),o)}function T_(e){e.persistentConnection_&&e.persistentConnection_.interrupt(u_)}function x_(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),kf(n,...t)}function S_(e,t,n){return xb(e.serverSyncTree_,t,n)||my.EMPTY_NODE}function E_(e,t=e.transactionQueueTree_){if(t||j_(e,t),Hb(t)){const n=O_(e,t);(0,cf.hu)(n.length>0,"Sending zero length transaction queue");const o=n.every((e=>0===e.status));o&&k_(e,Kb(t),n)}else qb(t)&&zb(t,(t=>{E_(e,t)}))}function k_(e,t,n){const o=n.map((e=>e.currentWriteId)),r=S_(e,t,o);let i=r;const s=r.hash();for(let l=0;l<n.length;l++){const e=n[l];(0,cf.hu)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const o=Tm(t,e.path);i=i.updateChild(o,e.currentOutputSnapshotRaw)}const a=i.val(!0),c=t;e.server_.put(c.toString(),a,(o=>{x_(e,"transaction put response",{path:c.toString(),status:o});let r=[];if("ok"===o){const o=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(vb(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();j_(e,Bb(e.transactionQueueTree_,t)),E_(e,e.transactionQueueTree_),a_(e.eventQueue_,t,r);for(let e=0;e<o.length;e++)Yf(o[e])}else{if("datastale"===o)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Of("transaction at "+c.toString()+" failed: "+o);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=o}I_(e,t)}}),s)}function I_(e,t){const n=R_(e,t),o=Kb(n),r=O_(e,n);return A_(e,r,o),o}function A_(e,t,n){if(0===t.length)return;const o=[];let r=[];const i=t.filter((e=>0===e.status)),s=i.map((e=>e.currentWriteId));for(let a=0;a<t.length;a++){const i=t[a],c=Tm(n,i.path);let l,u=!1;if((0,cf.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===i.status)u=!0,l=i.abortReason,r=r.concat(vb(e.serverSyncTree_,i.currentWriteId,!0));else if(0===i.status)if(i.retryCount>=p_)u=!0,l="maxretry",r=r.concat(vb(e.serverSyncTree_,i.currentWriteId,!0));else{const n=S_(e,i.path,s);i.currentInputSnapshot=n;const o=t[a].update(n.val());if(void 0!==o){o_("transaction failed: Data returned ",o,i.path);let t=_y(o);const a="object"===typeof o&&null!=o&&(0,cf.r3)(o,".priority");a||(t=t.updatePriority(n.getPriority()));const c=i.currentWriteId,l=g_(e),u=Lb(t,n,l);i.currentOutputSnapshotRaw=t,i.currentOutputSnapshotResolved=u,i.currentWriteId=__(e),s.splice(s.indexOf(c),1),r=r.concat(yb(e.serverSyncTree_,i.path,u,i.currentWriteId,i.applyLocally)),r=r.concat(vb(e.serverSyncTree_,c,!0))}else u=!0,l="nodata",r=r.concat(vb(e.serverSyncTree_,i.currentWriteId,!0))}a_(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===l?o.push((()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot))):o.push((()=>t[a].onComplete(new Error(l),!1,null)))))}j_(e,e.transactionQueueTree_);for(let a=0;a<o.length;a++)Yf(o[a]);E_(e,e.transactionQueueTree_)}function R_(e,t){let n,o=e.transactionQueueTree_;n=hm(t);while(null!==n&&void 0===Hb(o))o=Bb(o,n),t=gm(t),n=hm(t);return o}function O_(e,t){const n=[];return C_(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function C_(e,t,n){const o=Hb(t);if(o)for(let r=0;r<o.length;r++)n.push(o[r]);zb(t,(t=>{C_(e,t,n)}))}function j_(e,t){const n=Hb(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Wb(t,n.length>0?n:void 0)}zb(t,(t=>{j_(e,t)}))}function N_(e,t){const n=Kb(R_(e,t)),o=Bb(e.transactionQueueTree_,t);return $b(o,(t=>{P_(e,t)})),P_(e,o),Gb(o,(t=>{P_(e,t)})),n}function P_(e,t){const n=Hb(t);if(n){const o=[];let r=[],i=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,cf.hu)(i===t-1,"All SENT items should be at beginning of queue."),i=t,n[t].status=3,n[t].abortReason="set"):((0,cf.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(vb(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&o.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===i?Wb(t,void 0):n.length=i+1,a_(e.eventQueue_,Kb(t),r);for(let e=0;e<o.length;e++)Yf(o[e])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e){let t="";const n=e.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let e=n[o];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(ou){}t+="/"+e}return t}function M_(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const o=n.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Of(`Invalid query segment '${n}' in query '${e}'`)}return t}const L_=function(e,t){const n=U_(e),o=n.namespace;"firebase.com"===n.domain&&Rf(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),o&&"undefined"!==o||"localhost"===n.domain||Rf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Cf();const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new dg(n.host,n.secure,o,t,r,"",o!==n.subdomain),path:new pm(n.pathString)}},U_=function(e){let t="",n="",o="",r="",i="",s=!0,a="https",c=443;if("string"===typeof e){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let p=e.indexOf("?");-1===p&&(p=e.length),t=e.substring(0,Math.min(u,p)),u<p&&(r=D_(e.substring(u,p)));const d=M_(e.substring(Math.min(e.length,p)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const e=t.indexOf(".");o=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=o}"ns"in d&&(i=d["ns"])}return{host:t,port:c,domain:n,subdomain:o,secure:s,scheme:a,pathString:r,namespace:i}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class F_{constructor(e,t,n,o){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=o}get key(){return wm(this._path)?null:mm(this._path)}get ref(){return new B_(this._repo,this._path)}get _queryIdentifier(){const e=jy(this._queryParams),t=Ff(e);return"{}"===t?"default":t}get _queryObject(){return jy(this._queryParams)}isEqual(e){if(e=(0,cf.m9)(e),!(e instanceof F_))return!1;const t=this._repo===e._repo,n=xm(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return t&&n&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+ym(this._path)}}class B_ extends F_{constructor(e,t){super(e,t,new Oy,!1)}get parent(){const e=bm(this._path);return null===e?null:new B_(this._repo,e)}get root(){let e=this;while(null!==e.parent)e=e.parent;return e}}db(B_),gb(B_);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const H_="FIREBASE_DATABASE_EMULATOR_HOST",W_={};let q_=!1;function V_(e,t,n,o,r){let i=o||e.options.databaseURL;void 0===i&&(e.options.projectId||Rf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),kf("Using default host for project ",e.options.projectId),i=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,c=L_(i,r),l=c.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",VUE_APP_FIREBASE_API_KEY:"AIzaSyBGIxUvb7aUxX_4xWNfLZNh0126RhgXrcc",VUE_APP_FIREBASE_AUTH_DOMAIN:"jkf-talk-f8331.firebaseapp.com",VUE_APP_FIREBASE_DATABASE_URL:"https://jkf-talk-prod.asia-southeast1.firebasedatabase.app/",VUE_APP_FIREBASE_PROJECT_ID:"jkf-talk",VUE_APP_FIREBASE_STORAGE_BUCKET:"jkf-talk.appspot.com",VUE_APP_FIREBASE_MESSAGING_SENDER_ID:"378533763429",VUE_APP_FIREBASE_APP_ID:"1:378533763429:web:89faf46a0eee651ec1298c",VUE_APP_FIREBASE_MEASUREMENT_ID:"G-M5FK0HJWMH",VUE_APP_FIREBASE_STORAGE_HOST:"https://ugc.talk.hare200.com",VUE_APP_GCP_IM_STORAGE_URL:"https://public.hare200.com/im",VUE_APP_JKF_IMAGE_URL_PREFIX:"https://ugc.talk.hare200.com",VUE_APP_PAN_API_HOST:"https://jkf.hare200.com/gapi",VUE_APP_FORUM_API_HOST:"https://www.jkforum.net/api/v2",VUE_APP_IS_SHADOW:"false",VUE_APP_JPOINT_HOST:"https://jpoints.hare200.com/gapi",VUE_APP_DOG_VERSION:"v0.0.63",VUE_APP_TALK_API_HOST:"https://gapi.talk.hare200.com",VUE_APP_TALK_OPEN_API_HOST:"https://gapi.jkftalk-broker.hare200.com",VUE_APP_VERSION:"2.9.2",BASE_URL:"/"}[H_]),a?(s=!0,i=`http://${a}?ns=${l.namespace}`,c=L_(i,r),l=c.repoInfo):s=!c.repoInfo.secure;const u=r&&s?new eg(eg.OWNER):new Qf(e.name,e.options,t);r_("Invalid Firebase Database URL",c),wm(c.path)||Rf("Database URL must point to the root of a Firebase Database (not including a child path).");const p=G_(l,e,u,new Xf(e.name,n));return new $_(p,e)}function z_(e,t){const n=W_[t];n&&n[e.key]===e||Rf(`Database ${t}(${e.repoInfo_}) has already been deleted.`),T_(e),delete n[e.key]}function G_(e,t,n,o){let r=W_[t.name];r||(r={},W_[t.name]=r);let i=r[e.toURLString()];return i&&Rf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new d_(e,q_,n,o),r[e.toURLString()]=i,i}class $_{constructor(e,t){this._repoInternal=e,this.app=t,this["type"]="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(h_(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new B_(this._repo,dm())),this._rootInternal}_delete(){return null!==this._rootInternal&&(z_(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Rf("Cannot call "+e+" on a deleted database.")}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function K_(e){hf(sf.Jn),(0,sf.Xd)(new af.wA("database",((e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return V_(n,o,r,t)}),"PUBLIC").setMultipleInstances(!0)),(0,sf.KN)(uf,pf,e),(0,sf.KN)(uf,pf,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Fm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};function Y_(e){const t=(0,i.iH)(e.currentUser),n=(0,s.Fl)((()=>!!t.value));return e.onIdTokenChanged((e=>t.value=e)),{isAuthenticated:n,user:t}}let Z_,J_,X_,Q_,ew,tw;K_();const nw=(0,i.iH)(!1),ow=()=>{Z_||(Z_=(0,i.B)()),Z_.run((()=>{if(nw.value)return;const{isAuthenticated:e}=Y_((0,Ds.Oi)());J_=(0,s.YP)(Ds.$D,Xe),X_=(0,s.YP)(Be,Qe),Q_=(0,s.YP)(K.panToken,K.handleWatchPanToken),ew=(0,s.YP)(K.firebaseToken,K.handleWatchFirebaseToken),tw=(0,s.YP)(e,Ds.YJ),nw.value=!0}))},rw=()=>{Z_&&(Z_.stop(),Z_=void 0),nw.value=!1},iw=()=>{xe.N0.emit(xe.YM.OPEN_IM_DIALOG,!1),Ds.w7(),K.clearAllInfo(),Ze(),rw(),Ds.$D.value=!1},sw=e=>{if(""!==e&&null!==e&&void 0!==e){Nc.S1(),ow();const{payload:t}=(0,rf.k)(e),{hash_uid:n=""}=t.value;K.loginedUserState.uid&&K.loginedUserState.uid!==n&&(window.$IM_EVENT.emit(window.$IM_EVENT_MAP.OPEN_IM_DIALOG,!1),Ds.w7()),K.updatePanToken(e)}},aw=()=>{xe.N0.on(xe.YM.LOGOUT,iw)},cw=()=>{xe.N0.on(xe.YM.UPDATE_PAN_ACCESS_TOKEN,sw)},lw=["JPOINTS_TRANSFER","OFFICIAL_WELCOME_MESSAGE","OFFICIAL_ANNOUNCEMENT","OFFICIAL_FAQ","NOTIFICATION"],uw=e=>e.filter((e=>!lw.includes(e)));class pw{constructor(e){if((0,o.Z)(this,"config",void 0),(0,o.Z)(this,"refPan",void 0),(0,o.Z)(this,"refJpoint",void 0),e.pan&&e.jpoint||console.warn("miss pan or jpoint instance, you need to reset instance"),this.config=e,this.config.plugins){const e=uw(this.config.plugins);e.length>0&&console.warn(`${e.join(", ")} is not in jktalk plugins`)}this.refPan=(0,i.iH)(this.config?.pan||null),this.refJpoint=(0,i.iH)(this.config?.jpoint||null),this.init()}init(){const e=document.createElement("link"),t=this.config.css;r.m_.value=this.config.service||"none",e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.querySelector(`link[href="${t}"]`);const n=document.createElement("div");n.id="jkf-talk",document.body.append(n);const o=n;o.appendChild(e.cloneNode());const i=document.createElement("div");o.append(i);const c=this.config.plugins?.map((e=>e))||[],l=this.refPan,u=this.refJpoint,p={name:"MockApp",render(){return(0,s.h)(of,{plugins:c,pan:l,jpoint:u})}},d=(0,a.ri)(p);d.mount(i),window.shadowRoot=o,aw(),cw()}setInstance(e){console.warn("reset pan and jpoint instance"),this.refPan.value=e.pan,this.refJpoint.value=e.jpoint}}window.JkfTalk=pw;var dw=pw}(),__webpack_exports__}()}));